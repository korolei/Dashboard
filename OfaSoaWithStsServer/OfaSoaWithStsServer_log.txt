2018-08-09 14:20:03.676 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-09 14:20:03.706 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-09 14:20:03.706 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-09 14:20:03.706 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-09 14:20:03.707 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-09 14:20:10.386 -04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-08-09 14:20:15.577 -04:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-09 14:20:17.324 -04:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Windows",
  "ProviderUserId": "OFINA\\ikorolenko",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "DisplayName": "OFINA\\ikorolenko",
  "Endpoint": "UI",
  "ActivityId": "0HLFU4IT5VGI3:00000004",
  "TimeStamp": "2018-08-09T18:20:17Z",
  "ProcessId": 15104,
  "LocalIpAddress": "127.0.0.1:13102",
  "RemoteIpAddress": "::1"
}
2018-08-09 14:20:17.344 -04:00 [DBG] Augmenting SignInContext
2018-08-09 14:20:17.346 -04:00 [DBG] Adding amr claim with value: external
2018-08-09 14:20:17.353 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-09 14:20:17.369 -04:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-09 14:20:17.504 -04:00 [DBG] 0 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-09 14:20:32.395 -04:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-08-09 14:20:32.516 -04:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-08-09 14:20:32.516 -04:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-09 14:20:32.517 -04:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-08-09 14:20:32.527 -04:00 [INF] {
  "Name": "User Logout Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1002,
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "DisplayName": "OFINA\\ikorolenko",
  "ActivityId": "0HLFU4IT5VGI3:00000005",
  "TimeStamp": "2018-08-09T18:20:32Z",
  "ProcessId": 15104,
  "LocalIpAddress": "127.0.0.1:13102",
  "RemoteIpAddress": "::1"
}
2018-08-09 14:20:36.739 -04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-08-09 14:47:06.889 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-09 14:47:06.936 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-09 14:47:06.937 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-09 14:47:06.937 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-09 14:47:06.937 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-09 14:47:06.937 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-09 14:47:06.937 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-09 14:47:06.937 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-09 14:47:06.938 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-09 14:47:06.938 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-09 14:47:12.615 -04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-08-09 14:47:12.622 -04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-08-09 14:48:30.342 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-09 14:48:30.391 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-09 14:48:30.391 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-09 14:48:30.391 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-09 14:48:30.391 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-09 14:48:30.391 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-09 14:48:30.392 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-09 14:48:30.392 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-09 14:48:30.392 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-09 14:48:30.392 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-09 14:48:33.680 -04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-08-09 14:48:33.687 -04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-08-09 14:48:36.992 -04:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-09 14:48:36.995 -04:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-09 14:48:38.240 -04:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Windows",
  "ProviderUserId": "OFINA\\ikorolenko",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "DisplayName": "OFINA\\ikorolenko",
  "Endpoint": "UI",
  "ActivityId": "0HLFU52PP55Q3:00000004",
  "TimeStamp": "2018-08-09T18:48:38Z",
  "ProcessId": 11588,
  "LocalIpAddress": "127.0.0.1:13911",
  "RemoteIpAddress": "::1"
}
2018-08-09 14:48:38.242 -04:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Windows",
  "ProviderUserId": "OFINA\\ikorolenko",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "DisplayName": "OFINA\\ikorolenko",
  "Endpoint": "UI",
  "ActivityId": "0HLFU52PP55Q3:00000004",
  "TimeStamp": "2018-08-09T18:48:38Z",
  "ProcessId": 11588,
  "LocalIpAddress": "127.0.0.1:13911",
  "RemoteIpAddress": "::1"
}
2018-08-09 14:48:38.265 -04:00 [DBG] Augmenting SignInContext
2018-08-09 14:48:38.265 -04:00 [DBG] Augmenting SignInContext
2018-08-09 14:48:38.267 -04:00 [DBG] Adding amr claim with value: external
2018-08-09 14:48:38.267 -04:00 [DBG] Adding amr claim with value: external
2018-08-09 14:48:38.279 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-09 14:48:38.281 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-09 14:48:38.298 -04:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-09 14:48:38.301 -04:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-09 14:48:38.455 -04:00 [DBG] 0 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-09 14:48:38.460 -04:00 [DBG] 0 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-09 14:49:24.596 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-09 14:49:24.641 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-09 14:49:24.641 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-09 14:49:24.641 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-09 14:49:24.642 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-09 14:49:24.642 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-09 14:49:24.642 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-09 14:49:24.642 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-09 14:49:24.642 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-09 14:49:24.642 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-09 14:49:30.762 -04:00 [DBG] 0 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-09 14:49:30.771 -04:00 [DBG] 0 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-09 14:50:46.348 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-09 14:50:46.393 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-09 14:50:46.394 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-09 14:50:46.394 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-09 14:50:46.394 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-09 14:50:46.394 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-09 14:50:46.394 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-09 14:50:46.394 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-09 14:50:46.394 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-09 14:50:46.394 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-10 15:05:45.158 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-10 15:05:45.204 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-10 15:05:45.205 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-10 15:05:45.205 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-10 15:05:45.205 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-10 15:05:45.205 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-10 15:05:45.205 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-10 15:05:45.205 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-10 15:05:45.205 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-10 15:05:45.205 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-10 15:05:45.968 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:45.976 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:46.670 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:46.671 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:46.671 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:46.673 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:46.674 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:46.677 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:46.680 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:46.682 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:51.497 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:51.503 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:51.589 -04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-08-10 15:05:51.592 -04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-08-10 15:05:51.602 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:51.605 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:52.897 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:52.903 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:52.903 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:52.904 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:52.906 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:52.907 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:52.910 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:52.911 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:55.141 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:55.144 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:55.221 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:55.223 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:55.279 -04:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-10 15:05:55.281 -04:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-10 15:05:55.316 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:55.318 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:56.456 -04:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Windows",
  "ProviderUserId": "OFINA\\ikorolenko",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "DisplayName": "OFINA\\ikorolenko",
  "Endpoint": "UI",
  "ActivityId": "0HLFUUH3D0DAK:00000004",
  "TimeStamp": "2018-08-10T19:05:56Z",
  "ProcessId": 7268,
  "LocalIpAddress": "127.0.0.1:27776",
  "RemoteIpAddress": "::1"
}
2018-08-10 15:05:56.458 -04:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Windows",
  "ProviderUserId": "OFINA\\ikorolenko",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "DisplayName": "OFINA\\ikorolenko",
  "Endpoint": "UI",
  "ActivityId": "0HLFUUH3D0DAK:00000004",
  "TimeStamp": "2018-08-10T19:05:56Z",
  "ProcessId": 7268,
  "LocalIpAddress": "127.0.0.1:27776",
  "RemoteIpAddress": "::1"
}
2018-08-10 15:05:56.478 -04:00 [DBG] Augmenting SignInContext
2018-08-10 15:05:56.478 -04:00 [DBG] Augmenting SignInContext
2018-08-10 15:05:56.480 -04:00 [DBG] Adding amr claim with value: external
2018-08-10 15:05:56.480 -04:00 [DBG] Adding amr claim with value: external
2018-08-10 15:05:56.489 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:56.491 -04:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-10 15:05:56.494 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-10 15:05:56.496 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-10 15:05:56.510 -04:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-10 15:05:56.512 -04:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-10 15:05:56.655 -04:00 [DBG] 0 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 15:05:56.659 -04:00 [DBG] 0 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 15:38:17.798 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-10 15:38:17.838 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-10 15:38:17.839 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-10 15:38:17.839 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-10 15:38:17.839 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-10 15:38:17.839 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-10 15:38:17.839 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-10 15:38:17.839 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-10 15:38:17.839 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-10 15:38:17.839 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-10 15:38:24.204 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 15:38:24.208 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 15:38:26.168 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 15:38:26.169 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 15:38:26.169 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 15:38:26.169 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 15:38:26.172 -04:00 [DBG] Start discovery request
2018-08-10 15:38:26.172 -04:00 [DBG] Start discovery request
2018-08-10 15:38:27.245 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-10 15:38:27.252 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-10 15:38:27.515 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 15:38:27.515 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 15:38:27.516 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 15:38:27.516 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 15:38:27.516 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 15:38:27.516 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 15:38:27.519 -04:00 [DBG] Start key discovery request
2018-08-10 15:38:27.519 -04:00 [DBG] Start key discovery request
2018-08-10 15:38:29.606 -04:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-10 15:38:29.606 -04:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-10 15:38:29.610 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-10 15:38:29.610 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-10 15:38:29.611 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-10 15:38:29.611 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-10 15:38:29.614 -04:00 [DBG] Start authorize request
2018-08-10 15:38:29.614 -04:00 [DBG] Start authorize request
2018-08-10 15:38:29.627 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 15:38:29.627 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 15:38:29.632 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 15:38:29.632 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 15:38:29.927 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:29.929 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:29.934 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 15:38:29.934 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 15:38:29.976 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 15:38:29.976 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 15:38:30.091 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 15:38:30.091 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 15:38:30.104 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 15:38:30.104 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 15:38:30.106 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 15:38:30.107 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 15:38:30.115 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 15:38:30.115 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 15:38:30.126 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "RedirectUri": "http://127.0.0.1:45656",
  "AllowedRedirectUris": [
    "http://127.0.0.1:45656"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile native_api",
  "State": "371e6c6f7fa508822eade6215a4c257c",
  "Nonce": "a0f7b78551a06d15a22a343f36b712eb",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "response_type": "code",
    "nonce": "a0f7b78551a06d15a22a343f36b712eb",
    "state": "371e6c6f7fa508822eade6215a4c257c",
    "code_challenge": "jGuNek71S2v5kQAQ_wHEML08XV80wWIHMbqo4cKq91w",
    "code_challenge_method": "S256",
    "client_id": "native.code",
    "scope": "openid profile native_api",
    "redirect_uri": "http://127.0.0.1:45656"
  }
}
2018-08-10 15:38:30.126 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "RedirectUri": "http://127.0.0.1:45656",
  "AllowedRedirectUris": [
    "http://127.0.0.1:45656"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile native_api",
  "State": "371e6c6f7fa508822eade6215a4c257c",
  "Nonce": "a0f7b78551a06d15a22a343f36b712eb",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "response_type": "code",
    "nonce": "a0f7b78551a06d15a22a343f36b712eb",
    "state": "371e6c6f7fa508822eade6215a4c257c",
    "code_challenge": "jGuNek71S2v5kQAQ_wHEML08XV80wWIHMbqo4cKq91w",
    "code_challenge_method": "S256",
    "client_id": "native.code",
    "scope": "openid profile native_api",
    "redirect_uri": "http://127.0.0.1:45656"
  }
}
2018-08-10 15:38:30.168 -04:00 [DBG] dClHAPVmHhJ1b/kJDkFfBrrruRfX/9GIwUzoayjjKPI= found in database: false
2018-08-10 15:38:30.168 -04:00 [DBG] dClHAPVmHhJ1b/kJDkFfBrrruRfX/9GIwUzoayjjKPI= found in database: false
2018-08-10 15:38:30.168 -04:00 [DBG] user_consent grant with value: native.code|42e7347c-f81b-46bb-81f7-6dff9ecea04a not found in store.
2018-08-10 15:38:30.168 -04:00 [DBG] user_consent grant with value: native.code|42e7347c-f81b-46bb-81f7-6dff9ecea04a not found in store.
2018-08-10 15:38:30.168 -04:00 [DBG] Found no prior consent from consent store, consent is required
2018-08-10 15:38:30.168 -04:00 [DBG] Found no prior consent from consent store, consent is required
2018-08-10 15:38:30.168 -04:00 [INF] Showing consent: User has not yet consented
2018-08-10 15:38:30.168 -04:00 [INF] Showing consent: User has not yet consented
2018-08-10 15:38:30.403 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 15:38:30.403 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 15:38:30.410 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:30.413 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:30.413 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 15:38:30.413 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 15:38:30.415 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 15:38:30.415 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 15:38:30.417 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 15:38:30.433 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 15:38:30.435 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 15:38:30.454 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 15:38:30.456 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 15:38:30.475 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 15:38:30.475 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 15:38:30.475 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 15:38:30.479 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:30.496 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:30.497 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 15:38:30.512 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 15:38:30.515 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 15:38:30.531 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 15:38:45.232 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 15:38:45.232 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 15:38:45.239 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:45.241 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:45.241 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 15:38:45.242 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 15:38:45.243 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 15:38:45.243 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 15:38:45.246 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 15:38:45.267 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 15:38:45.268 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 15:38:45.289 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 15:38:45.292 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 15:38:45.310 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 15:38:45.310 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 15:38:45.310 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 15:38:45.336 -04:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-10 15:38:45.337 -04:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-10 15:38:45.337 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-10 15:38:45.337 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-10 15:38:45.337 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-10 15:38:45.337 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-10 15:38:45.343 -04:00 [DBG] Start authorize callback request
2018-08-10 15:38:45.343 -04:00 [DBG] Start authorize callback request
2018-08-10 15:38:45.392 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 15:38:45.392 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 15:38:45.392 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 15:38:45.392 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 15:38:45.396 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:45.398 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:45.398 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 15:38:45.398 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 15:38:45.399 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 15:38:45.412 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 15:38:45.414 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 15:38:45.439 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 15:38:45.440 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 15:38:45.440 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 15:38:45.442 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 15:38:45.459 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 15:38:45.459 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 15:38:45.459 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 15:38:45.459 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "RedirectUri": "http://127.0.0.1:45656",
  "AllowedRedirectUris": [
    "http://127.0.0.1:45656"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile native_api",
  "State": "371e6c6f7fa508822eade6215a4c257c",
  "Nonce": "a0f7b78551a06d15a22a343f36b712eb",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "response_type": "code",
    "nonce": "a0f7b78551a06d15a22a343f36b712eb",
    "state": "371e6c6f7fa508822eade6215a4c257c",
    "code_challenge": "jGuNek71S2v5kQAQ_wHEML08XV80wWIHMbqo4cKq91w",
    "code_challenge_method": "S256",
    "client_id": "native.code",
    "scope": "openid profile native_api",
    "redirect_uri": "http://127.0.0.1:45656"
  }
}
2018-08-10 15:38:45.459 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "RedirectUri": "http://127.0.0.1:45656",
  "AllowedRedirectUris": [
    "http://127.0.0.1:45656"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile native_api",
  "State": "371e6c6f7fa508822eade6215a4c257c",
  "Nonce": "a0f7b78551a06d15a22a343f36b712eb",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "response_type": "code",
    "nonce": "a0f7b78551a06d15a22a343f36b712eb",
    "state": "371e6c6f7fa508822eade6215a4c257c",
    "code_challenge": "jGuNek71S2v5kQAQ_wHEML08XV80wWIHMbqo4cKq91w",
    "code_challenge_method": "S256",
    "client_id": "native.code",
    "scope": "openid profile native_api",
    "redirect_uri": "http://127.0.0.1:45656"
  }
}
2018-08-10 15:38:45.486 -04:00 [DBG] dClHAPVmHhJ1b/kJDkFfBrrruRfX/9GIwUzoayjjKPI= found in database: false
2018-08-10 15:38:45.486 -04:00 [DBG] dClHAPVmHhJ1b/kJDkFfBrrruRfX/9GIwUzoayjjKPI= found in database: false
2018-08-10 15:38:45.486 -04:00 [DBG] user_consent grant with value: native.code|42e7347c-f81b-46bb-81f7-6dff9ecea04a not found in store.
2018-08-10 15:38:45.486 -04:00 [DBG] user_consent grant with value: native.code|42e7347c-f81b-46bb-81f7-6dff9ecea04a not found in store.
2018-08-10 15:38:45.504 -04:00 [DBG] Found no prior consent from consent store, consent is required
2018-08-10 15:38:45.504 -04:00 [DBG] Found no prior consent from consent store, consent is required
2018-08-10 15:38:45.509 -04:00 [INF] User consented to scopes: ["openid","profile","native_api"]
2018-08-10 15:38:45.509 -04:00 [INF] User consented to scopes: openid, profile, native_api
2018-08-10 15:38:45.512 -04:00 [DBG] Client allows remembering consent, and no scopes provided. Removing consent from consent store for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 15:38:45.512 -04:00 [DBG] Client allows remembering consent, and no scopes provided. Removing consent from consent store for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 15:38:45.516 -04:00 [DBG] no dClHAPVmHhJ1b/kJDkFfBrrruRfX/9GIwUzoayjjKPI= persisted grant found in database
2018-08-10 15:38:45.517 -04:00 [DBG] no dClHAPVmHhJ1b/kJDkFfBrrruRfX/9GIwUzoayjjKPI= persisted grant found in database
2018-08-10 15:38:45.522 -04:00 [DBG] Creating Authorization Code Flow response.
2018-08-10 15:38:45.522 -04:00 [DBG] Creating Authorization Code Flow response.
2018-08-10 15:38:45.556 -04:00 [DBG] nxay4XAzZSktEwFv4PaqkxtFvu5atBlixly/jN6ict4= not found in database
2018-08-10 15:38:45.556 -04:00 [DBG] nxay4XAzZSktEwFv4PaqkxtFvu5atBlixly/jN6ict4= not found in database
2018-08-10 15:38:45.709 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "RedirectUri": "http://127.0.0.1:45656",
  "Endpoint": "Authorize",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "Scopes": "openid profile native_api",
  "GrantType": "authorization_code",
  "Tokens": [
    {
      "TokenType": "code",
      "TokenValue": "****20a0"
    }
  ],
  "ActivityId": "0HLFUV399NO93:00000008",
  "TimeStamp": "2018-08-10T19:38:45Z",
  "ProcessId": 18832,
  "LocalIpAddress": "127.0.0.1:31357",
  "RemoteIpAddress": "::1"
}
2018-08-10 15:38:45.709 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "RedirectUri": "http://127.0.0.1:45656",
  "Endpoint": "Authorize",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "Scopes": "openid profile native_api",
  "GrantType": "authorization_code",
  "Tokens": [
    {
      "TokenType": "code",
      "TokenValue": "****20a0"
    }
  ],
  "ActivityId": "0HLFUV399NO93:00000008",
  "TimeStamp": "2018-08-10T19:38:45Z",
  "ProcessId": 18832,
  "LocalIpAddress": "127.0.0.1:31357",
  "RemoteIpAddress": "::1"
}
2018-08-10 15:38:45.713 -04:00 [INF] Authorize endpoint response
{
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ClientId": "native.code",
  "RedirectUri": "http://127.0.0.1:45656",
  "State": "371e6c6f7fa508822eade6215a4c257c",
  "Scope": "openid profile native_api"
}
2018-08-10 15:38:45.713 -04:00 [INF] Authorize endpoint response
{
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ClientId": "native.code",
  "RedirectUri": "http://127.0.0.1:45656",
  "State": "371e6c6f7fa508822eade6215a4c257c",
  "Scope": "openid profile native_api"
}
2018-08-10 15:38:45.739 -04:00 [DBG] Augmenting SignInContext
2018-08-10 15:38:45.739 -04:00 [DBG] Augmenting SignInContext
2018-08-10 15:38:45.755 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-10 15:38:45.755 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-10 15:38:46.014 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 15:38:46.014 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 15:38:46.014 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 15:38:46.014 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 15:38:46.014 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 15:38:46.014 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 15:38:46.014 -04:00 [DBG] Start discovery request
2018-08-10 15:38:46.015 -04:00 [DBG] Start discovery request
2018-08-10 15:38:46.022 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-10 15:38:46.024 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-10 15:38:46.085 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 15:38:46.086 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 15:38:46.086 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 15:38:46.086 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 15:38:46.086 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 15:38:46.086 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 15:38:46.086 -04:00 [DBG] Start key discovery request
2018-08-10 15:38:46.086 -04:00 [DBG] Start key discovery request
2018-08-10 15:38:46.204 -04:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-08-10 15:38:46.204 -04:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-08-10 15:38:46.207 -04:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-08-10 15:38:46.207 -04:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-08-10 15:38:46.207 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-08-10 15:38:46.207 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-08-10 15:38:46.213 -04:00 [DBG] Start token request.
2018-08-10 15:38:46.214 -04:00 [DBG] Start token request.
2018-08-10 15:38:46.219 -04:00 [DBG] Start client validation
2018-08-10 15:38:46.219 -04:00 [DBG] Start client validation
2018-08-10 15:38:46.224 -04:00 [DBG] Start parsing Basic Authentication secret
2018-08-10 15:38:46.224 -04:00 [DBG] Start parsing Basic Authentication secret
2018-08-10 15:38:46.227 -04:00 [DBG] Start parsing for secret in post body
2018-08-10 15:38:46.227 -04:00 [DBG] Start parsing for secret in post body
2018-08-10 15:38:46.228 -04:00 [DBG] client id without secret found
2018-08-10 15:38:46.228 -04:00 [DBG] client id without secret found
2018-08-10 15:38:46.228 -04:00 [DBG] Parser found secret: PostBodySecretParser
2018-08-10 15:38:46.228 -04:00 [DBG] Parser found secret: PostBodySecretParser
2018-08-10 15:38:46.228 -04:00 [DBG] Secret id found: native.code
2018-08-10 15:38:46.228 -04:00 [DBG] Secret id found: native.code
2018-08-10 15:38:46.231 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:46.236 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:46.236 -04:00 [DBG] Public Client - skipping secret validation success
2018-08-10 15:38:46.236 -04:00 [DBG] Public Client - skipping secret validation success
2018-08-10 15:38:46.236 -04:00 [DBG] Client validation success
2018-08-10 15:38:46.236 -04:00 [DBG] Client validation success
2018-08-10 15:38:46.242 -04:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "native.code",
  "AuthenticationMethod": "NoSecret",
  "ActivityId": "0HLFUV399NO96:00000003",
  "TimeStamp": "2018-08-10T19:38:46Z",
  "ProcessId": 18832,
  "LocalIpAddress": "127.0.0.1:31357",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-10 15:38:46.255 -04:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "native.code",
  "AuthenticationMethod": "NoSecret",
  "ActivityId": "0HLFUV399NO96:00000003",
  "TimeStamp": "2018-08-10T19:38:46Z",
  "ProcessId": 18832,
  "LocalIpAddress": "127.0.0.1:31357",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-10 15:38:46.259 -04:00 [DBG] Start token request validation
2018-08-10 15:38:46.260 -04:00 [DBG] Start token request validation
2018-08-10 15:38:46.269 -04:00 [DBG] Start validation of authorization code token request
2018-08-10 15:38:46.269 -04:00 [DBG] Start validation of authorization code token request
2018-08-10 15:38:46.277 -04:00 [DBG] nxay4XAzZSktEwFv4PaqkxtFvu5atBlixly/jN6ict4= found in database: true
2018-08-10 15:38:46.277 -04:00 [DBG] nxay4XAzZSktEwFv4PaqkxtFvu5atBlixly/jN6ict4= found in database: true
2018-08-10 15:38:46.296 -04:00 [DBG] removing nxay4XAzZSktEwFv4PaqkxtFvu5atBlixly/jN6ict4= persisted grant from database
2018-08-10 15:38:46.296 -04:00 [DBG] removing nxay4XAzZSktEwFv4PaqkxtFvu5atBlixly/jN6ict4= persisted grant from database
2018-08-10 15:38:46.308 -04:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2018-08-10 15:38:46.309 -04:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2018-08-10 15:38:46.315 -04:00 [DBG] Validation of authorization code token request success
2018-08-10 15:38:46.315 -04:00 [DBG] Validation of authorization code token request success
2018-08-10 15:38:46.321 -04:00 [INF] Token request validation success
{
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "GrantType": "authorization_code",
  "AuthorizationCode": "51d477ecb584bd93277cc8109bed442d2cd7ed2de83be79f44f8cb37d18b20a0",
  "Raw": {
    "grant_type": "authorization_code",
    "code": "51d477ecb584bd93277cc8109bed442d2cd7ed2de83be79f44f8cb37d18b20a0",
    "redirect_uri": "http://127.0.0.1:45656",
    "code_verifier": "00778d1d40deb463e33ee8390c217b7ddb7f413d32635897cc45ed25efa8bcdf",
    "client_id": "native.code"
  }
}
2018-08-10 15:38:46.321 -04:00 [INF] Token request validation success
{
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "GrantType": "authorization_code",
  "AuthorizationCode": "51d477ecb584bd93277cc8109bed442d2cd7ed2de83be79f44f8cb37d18b20a0",
  "Raw": {
    "grant_type": "authorization_code",
    "code": "51d477ecb584bd93277cc8109bed442d2cd7ed2de83be79f44f8cb37d18b20a0",
    "redirect_uri": "http://127.0.0.1:45656",
    "code_verifier": "00778d1d40deb463e33ee8390c217b7ddb7f413d32635897cc45ed25efa8bcdf",
    "client_id": "native.code"
  }
}
2018-08-10 15:38:46.339 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:46.340 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:46.341 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 15:38:46.341 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 15:38:46.343 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 15:38:46.361 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 15:38:46.371 -04:00 [DBG] Getting claims for access token for client: native.code
2018-08-10 15:38:46.371 -04:00 [DBG] Getting claims for access token for client: native.code
2018-08-10 15:38:46.371 -04:00 [DBG] Getting claims for access token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 15:38:46.371 -04:00 [DBG] Getting claims for access token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 15:38:46.439 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:46.439 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:46.440 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 15:38:46.440 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 15:38:46.441 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 15:38:46.454 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 15:38:46.461 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: native.code
2018-08-10 15:38:46.461 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: native.code
2018-08-10 15:38:46.461 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-10 15:38:46.470 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-10 15:38:46.476 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "Endpoint": "Token",
  "Scopes": "openid profile native_api",
  "GrantType": "authorization_code",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****WJlA"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****df8Q"
    }
  ],
  "ActivityId": "0HLFUV399NO96:00000003",
  "TimeStamp": "2018-08-10T19:38:46Z",
  "ProcessId": 18832,
  "LocalIpAddress": "127.0.0.1:31357",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-10 15:38:46.476 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "Endpoint": "Token",
  "Scopes": "openid profile native_api",
  "GrantType": "authorization_code",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****WJlA"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****df8Q"
    }
  ],
  "ActivityId": "0HLFUV399NO96:00000003",
  "TimeStamp": "2018-08-10T19:38:46Z",
  "ProcessId": 18832,
  "LocalIpAddress": "127.0.0.1:31357",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-10 15:38:46.477 -04:00 [DBG] Token request success.
2018-08-10 15:38:46.477 -04:00 [DBG] Token request success.
2018-08-10 15:38:46.715 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 15:38:46.715 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 15:38:46.715 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 15:38:46.715 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 15:38:46.715 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 15:38:46.715 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 15:38:46.715 -04:00 [DBG] Start discovery request
2018-08-10 15:38:46.715 -04:00 [DBG] Start discovery request
2018-08-10 15:38:46.718 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-10 15:38:46.718 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-10 15:38:46.748 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 15:38:46.748 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 15:38:46.748 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 15:38:46.748 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 15:38:46.748 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 15:38:46.749 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 15:38:46.749 -04:00 [DBG] Start key discovery request
2018-08-10 15:38:46.749 -04:00 [DBG] Start key discovery request
2018-08-10 15:38:46.795 -04:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2018-08-10 15:38:46.795 -04:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2018-08-10 15:38:46.796 -04:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2018-08-10 15:38:46.796 -04:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2018-08-10 15:38:46.796 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-08-10 15:38:46.796 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-08-10 15:38:46.803 -04:00 [DBG] Start userinfo request
2018-08-10 15:38:46.803 -04:00 [DBG] Start userinfo request
2018-08-10 15:38:46.807 -04:00 [DBG] Bearer token found in header
2018-08-10 15:38:46.807 -04:00 [DBG] Bearer token found in header
2018-08-10 15:38:46.867 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:46.867 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:46.873 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:46.885 -04:00 [DBG] native.code found in database: true
2018-08-10 15:38:46.893 -04:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-08-10 15:38:46.912 -04:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-08-10 15:38:46.915 -04:00 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1533929926,
    "exp": 1533933526,
    "iss": "https://localhost:44391",
    "aud": [
      "https://localhost:44391/resources",
      "native_api"
    ],
    "client_id": "native.code",
    "sub": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
    "auth_time": 1533927956,
    "idp": "Windows",
    "scope": [
      "openid",
      "profile",
      "native_api"
    ],
    "amr": "external"
  }
}
2018-08-10 15:38:46.927 -04:00 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1533929926,
    "exp": 1533933526,
    "iss": "https://localhost:44391",
    "aud": [
      "https://localhost:44391/resources",
      "native_api"
    ],
    "client_id": "native.code",
    "sub": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
    "auth_time": 1533927956,
    "idp": "Windows",
    "scope": [
      "openid",
      "profile",
      "native_api"
    ],
    "amr": "external"
  }
}
2018-08-10 15:38:46.935 -04:00 [DBG] Creating userinfo response
2018-08-10 15:38:46.935 -04:00 [DBG] Creating userinfo response
2018-08-10 15:38:46.939 -04:00 [DBG] Scopes in access token: openid profile native_api
2018-08-10 15:38:46.939 -04:00 [DBG] Scopes in access token: openid profile native_api
2018-08-10 15:38:46.941 -04:00 [DBG] Scopes in access token: openid profile native_api
2018-08-10 15:38:46.941 -04:00 [DBG] Scopes in access token: openid profile native_api
2018-08-10 15:38:46.944 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 15:38:46.945 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 15:38:46.945 -04:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2018-08-10 15:38:46.946 -04:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2018-08-10 15:38:46.946 -04:00 [DBG] Scopes in access token: openid profile native_api
2018-08-10 15:38:46.946 -04:00 [DBG] Scopes in access token: openid profile native_api
2018-08-10 15:38:46.947 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 15:38:46.947 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 15:38:46.950 -04:00 [INF] Profile service returned to the following claim types: sub name preferred_username
2018-08-10 15:38:46.975 -04:00 [INF] Profile service returned to the following claim types: sub name preferred_username
2018-08-10 15:38:46.975 -04:00 [DBG] End userinfo request
2018-08-10 15:38:46.975 -04:00 [DBG] End userinfo request
2018-08-10 15:38:47.117 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 15:38:47.117 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 15:38:47.117 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 15:38:47.117 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 15:38:47.117 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 15:38:47.117 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 15:38:47.117 -04:00 [DBG] Start discovery request
2018-08-10 15:38:47.117 -04:00 [DBG] Start discovery request
2018-08-10 15:38:47.121 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-10 15:38:47.125 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-10 15:38:47.249 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 15:38:47.249 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 15:38:47.249 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 15:38:47.249 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 15:38:47.249 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 15:38:47.249 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 15:38:47.249 -04:00 [DBG] Start key discovery request
2018-08-10 15:38:47.249 -04:00 [DBG] Start key discovery request
2018-08-10 16:05:15.394 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-10 16:05:15.433 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-10 16:05:15.433 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-10 16:05:15.433 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-10 16:05:15.434 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-10 16:05:15.434 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-10 16:05:15.435 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-10 16:05:15.435 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-10 16:05:15.435 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-10 16:05:15.435 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-10 16:05:16.023 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 16:05:16.028 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 16:05:17.959 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 16:05:17.960 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 16:05:17.960 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 16:05:17.960 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 16:05:17.963 -04:00 [DBG] Start discovery request
2018-08-10 16:05:17.963 -04:00 [DBG] Start discovery request
2018-08-10 16:05:19.037 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-10 16:05:19.045 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-10 16:05:19.384 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 16:05:19.384 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 16:05:19.385 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 16:05:19.385 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 16:05:19.385 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 16:05:19.385 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 16:05:19.387 -04:00 [DBG] Start key discovery request
2018-08-10 16:05:19.388 -04:00 [DBG] Start key discovery request
2018-08-10 16:05:19.598 -04:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-10 16:05:19.598 -04:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-10 16:05:19.602 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-10 16:05:19.602 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-10 16:05:19.602 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-10 16:05:19.602 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-10 16:05:19.606 -04:00 [DBG] Start authorize request
2018-08-10 16:05:19.606 -04:00 [DBG] Start authorize request
2018-08-10 16:05:19.618 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:05:19.618 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:05:19.622 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:05:19.622 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:05:19.946 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:05:19.948 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:05:19.953 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:05:19.953 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:05:19.954 -04:00 [DBG] No PKCE used.
2018-08-10 16:05:19.954 -04:00 [DBG] No PKCE used.
2018-08-10 16:05:19.991 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:05:19.991 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:05:20.120 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:05:20.120 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:05:20.133 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:05:20.133 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:05:20.135 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:05:20.135 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:05:20.144 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:05:20.144 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:05:20.155 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1A8ig5b6sT83yPPs7A8X07uAsovun1x3ZOkiQWIRyGF7TDqrqDk19gfSnnyemRQ6CfVojo-w5bxQUct5sexNuXoaIwsT3JMlCLGDuXA8R-vzd5dsmq520-AK96NPzq2Y1YFCeIdkUlcCosXpjx2kJmAls36r4zdicgOa21dZ2hVDYeKE6ZxzptvNnihCa9A-50hKKusEPjy67K8gDxOJlpcnQecBp5kJY8V_OnQVu9Ac0etkTyjJZ6kdR6URpITD568u5xyHVGG2qlsZnZ4IPylz2wzPRgvFcClpAaT7BE8OP1H-pmSjZpifUJRhG2xG4",
  "Nonce": "636695283195498802.NTg2MWU4YjItMGI3OC00NjhmLWI2ODgtMTI2ZTE4ZDJmODNkOGQ5NDhkNTYtZTRiMy00NjY3LWExNzktZjBjODI3OGM3MzA1",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636695283195498802.NTg2MWU4YjItMGI3OC00NjhmLWI2ODgtMTI2ZTE4ZDJmODNkOGQ5NDhkNTYtZTRiMy00NjY3LWExNzktZjBjODI3OGM3MzA1",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O1A8ig5b6sT83yPPs7A8X07uAsovun1x3ZOkiQWIRyGF7TDqrqDk19gfSnnyemRQ6CfVojo-w5bxQUct5sexNuXoaIwsT3JMlCLGDuXA8R-vzd5dsmq520-AK96NPzq2Y1YFCeIdkUlcCosXpjx2kJmAls36r4zdicgOa21dZ2hVDYeKE6ZxzptvNnihCa9A-50hKKusEPjy67K8gDxOJlpcnQecBp5kJY8V_OnQVu9Ac0etkTyjJZ6kdR6URpITD568u5xyHVGG2qlsZnZ4IPylz2wzPRgvFcClpAaT7BE8OP1H-pmSjZpifUJRhG2xG4",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-10 16:05:20.155 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1A8ig5b6sT83yPPs7A8X07uAsovun1x3ZOkiQWIRyGF7TDqrqDk19gfSnnyemRQ6CfVojo-w5bxQUct5sexNuXoaIwsT3JMlCLGDuXA8R-vzd5dsmq520-AK96NPzq2Y1YFCeIdkUlcCosXpjx2kJmAls36r4zdicgOa21dZ2hVDYeKE6ZxzptvNnihCa9A-50hKKusEPjy67K8gDxOJlpcnQecBp5kJY8V_OnQVu9Ac0etkTyjJZ6kdR6URpITD568u5xyHVGG2qlsZnZ4IPylz2wzPRgvFcClpAaT7BE8OP1H-pmSjZpifUJRhG2xG4",
  "Nonce": "636695283195498802.NTg2MWU4YjItMGI3OC00NjhmLWI2ODgtMTI2ZTE4ZDJmODNkOGQ5NDhkNTYtZTRiMy00NjY3LWExNzktZjBjODI3OGM3MzA1",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636695283195498802.NTg2MWU4YjItMGI3OC00NjhmLWI2ODgtMTI2ZTE4ZDJmODNkOGQ5NDhkNTYtZTRiMy00NjY3LWExNzktZjBjODI3OGM3MzA1",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O1A8ig5b6sT83yPPs7A8X07uAsovun1x3ZOkiQWIRyGF7TDqrqDk19gfSnnyemRQ6CfVojo-w5bxQUct5sexNuXoaIwsT3JMlCLGDuXA8R-vzd5dsmq520-AK96NPzq2Y1YFCeIdkUlcCosXpjx2kJmAls36r4zdicgOa21dZ2hVDYeKE6ZxzptvNnihCa9A-50hKKusEPjy67K8gDxOJlpcnQecBp5kJY8V_OnQVu9Ac0etkTyjJZ6kdR6URpITD568u5xyHVGG2qlsZnZ4IPylz2wzPRgvFcClpAaT7BE8OP1H-pmSjZpifUJRhG2xG4",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-10 16:05:20.323 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-10 16:05:20.323 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-10 16:05:20.323 -04:00 [INF] Showing consent: User has not yet consented
2018-08-10 16:05:20.323 -04:00 [INF] Showing consent: User has not yet consented
2018-08-10 16:05:20.543 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:05:20.544 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:05:20.549 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:05:20.551 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:05:20.551 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:05:20.551 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:05:20.551 -04:00 [DBG] No PKCE used.
2018-08-10 16:05:20.551 -04:00 [DBG] No PKCE used.
2018-08-10 16:05:20.553 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:05:20.553 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:05:20.555 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:05:20.568 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:05:20.570 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:05:20.587 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:05:20.589 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:05:20.604 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:05:20.604 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:05:20.604 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:05:20.608 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:05:20.628 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:05:20.633 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:05:20.642 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:05:20.726 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:05:20.726 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:05:31.356 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:05:31.356 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:05:31.361 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:05:31.361 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:05:31.361 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:05:31.361 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:05:31.361 -04:00 [DBG] No PKCE used.
2018-08-10 16:05:31.361 -04:00 [DBG] No PKCE used.
2018-08-10 16:05:31.362 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:05:31.376 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:05:31.379 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:05:31.397 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:05:31.398 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:05:31.398 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:05:31.400 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:05:31.414 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:05:31.414 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:05:31.414 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:05:31.442 -04:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-10 16:05:31.442 -04:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-10 16:05:31.443 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-10 16:05:31.443 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-10 16:05:31.443 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-10 16:05:31.443 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-10 16:05:31.449 -04:00 [DBG] Start authorize callback request
2018-08-10 16:05:31.449 -04:00 [DBG] Start authorize callback request
2018-08-10 16:05:31.498 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:05:31.498 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:05:31.498 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:05:31.498 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:05:31.502 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:05:31.503 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:05:31.503 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:05:31.503 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:05:31.503 -04:00 [DBG] No PKCE used.
2018-08-10 16:05:31.503 -04:00 [DBG] No PKCE used.
2018-08-10 16:05:31.504 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:05:31.517 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:05:31.520 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:05:31.537 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:05:31.540 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:05:31.540 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:05:31.543 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:05:31.555 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:05:31.556 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:05:31.556 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:05:31.556 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1A8ig5b6sT83yPPs7A8X07uAsovun1x3ZOkiQWIRyGF7TDqrqDk19gfSnnyemRQ6CfVojo-w5bxQUct5sexNuXoaIwsT3JMlCLGDuXA8R-vzd5dsmq520-AK96NPzq2Y1YFCeIdkUlcCosXpjx2kJmAls36r4zdicgOa21dZ2hVDYeKE6ZxzptvNnihCa9A-50hKKusEPjy67K8gDxOJlpcnQecBp5kJY8V_OnQVu9Ac0etkTyjJZ6kdR6URpITD568u5xyHVGG2qlsZnZ4IPylz2wzPRgvFcClpAaT7BE8OP1H-pmSjZpifUJRhG2xG4",
  "Nonce": "636695283195498802.NTg2MWU4YjItMGI3OC00NjhmLWI2ODgtMTI2ZTE4ZDJmODNkOGQ5NDhkNTYtZTRiMy00NjY3LWExNzktZjBjODI3OGM3MzA1",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636695283195498802.NTg2MWU4YjItMGI3OC00NjhmLWI2ODgtMTI2ZTE4ZDJmODNkOGQ5NDhkNTYtZTRiMy00NjY3LWExNzktZjBjODI3OGM3MzA1",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O1A8ig5b6sT83yPPs7A8X07uAsovun1x3ZOkiQWIRyGF7TDqrqDk19gfSnnyemRQ6CfVojo-w5bxQUct5sexNuXoaIwsT3JMlCLGDuXA8R-vzd5dsmq520-AK96NPzq2Y1YFCeIdkUlcCosXpjx2kJmAls36r4zdicgOa21dZ2hVDYeKE6ZxzptvNnihCa9A-50hKKusEPjy67K8gDxOJlpcnQecBp5kJY8V_OnQVu9Ac0etkTyjJZ6kdR6URpITD568u5xyHVGG2qlsZnZ4IPylz2wzPRgvFcClpAaT7BE8OP1H-pmSjZpifUJRhG2xG4",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-10 16:05:31.577 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1A8ig5b6sT83yPPs7A8X07uAsovun1x3ZOkiQWIRyGF7TDqrqDk19gfSnnyemRQ6CfVojo-w5bxQUct5sexNuXoaIwsT3JMlCLGDuXA8R-vzd5dsmq520-AK96NPzq2Y1YFCeIdkUlcCosXpjx2kJmAls36r4zdicgOa21dZ2hVDYeKE6ZxzptvNnihCa9A-50hKKusEPjy67K8gDxOJlpcnQecBp5kJY8V_OnQVu9Ac0etkTyjJZ6kdR6URpITD568u5xyHVGG2qlsZnZ4IPylz2wzPRgvFcClpAaT7BE8OP1H-pmSjZpifUJRhG2xG4",
  "Nonce": "636695283195498802.NTg2MWU4YjItMGI3OC00NjhmLWI2ODgtMTI2ZTE4ZDJmODNkOGQ5NDhkNTYtZTRiMy00NjY3LWExNzktZjBjODI3OGM3MzA1",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636695283195498802.NTg2MWU4YjItMGI3OC00NjhmLWI2ODgtMTI2ZTE4ZDJmODNkOGQ5NDhkNTYtZTRiMy00NjY3LWExNzktZjBjODI3OGM3MzA1",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O1A8ig5b6sT83yPPs7A8X07uAsovun1x3ZOkiQWIRyGF7TDqrqDk19gfSnnyemRQ6CfVojo-w5bxQUct5sexNuXoaIwsT3JMlCLGDuXA8R-vzd5dsmq520-AK96NPzq2Y1YFCeIdkUlcCosXpjx2kJmAls36r4zdicgOa21dZ2hVDYeKE6ZxzptvNnihCa9A-50hKKusEPjy67K8gDxOJlpcnQecBp5kJY8V_OnQVu9Ac0etkTyjJZ6kdR6URpITD568u5xyHVGG2qlsZnZ4IPylz2wzPRgvFcClpAaT7BE8OP1H-pmSjZpifUJRhG2xG4",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-10 16:05:31.596 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-10 16:05:31.596 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-10 16:05:31.602 -04:00 [INF] User consented to scopes: ["openid","profile","scope_used_for_hybrid_flow","offline_access"]
2018-08-10 16:05:31.602 -04:00 [INF] User consented to scopes: openid, profile, scope_used_for_hybrid_flow, offline_access
2018-08-10 16:05:31.605 -04:00 [DBG] Client allows remembering consent, and no scopes provided. Removing consent from consent store for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:05:31.605 -04:00 [DBG] Client allows remembering consent, and no scopes provided. Removing consent from consent store for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:05:31.629 -04:00 [DBG] no Czzqjxx8Mp06BkW4kn1btlLBNW309mYpgT+AxWoOSNU= persisted grant found in database
2018-08-10 16:05:31.630 -04:00 [DBG] no Czzqjxx8Mp06BkW4kn1btlLBNW309mYpgT+AxWoOSNU= persisted grant found in database
2018-08-10 16:05:31.634 -04:00 [DBG] Creating Hybrid Flow response.
2018-08-10 16:05:31.634 -04:00 [DBG] Creating Hybrid Flow response.
2018-08-10 16:05:31.663 -04:00 [DBG] jKuntUpzOE6bcKM8UShz5jEy5ci81RCnXyRJrlbKUtA= not found in database
2018-08-10 16:05:31.663 -04:00 [DBG] jKuntUpzOE6bcKM8UShz5jEy5ci81RCnXyRJrlbKUtA= not found in database
2018-08-10 16:05:31.801 -04:00 [DBG] Creating Implicit Flow response.
2018-08-10 16:05:31.801 -04:00 [DBG] Creating Implicit Flow response.
2018-08-10 16:05:31.809 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: hybridclient
2018-08-10 16:05:31.809 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: hybridclient
2018-08-10 16:05:31.812 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-10 16:05:31.812 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-10 16:05:31.880 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "Endpoint": "Authorize",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "Scopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "GrantType": "hybrid",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****3jjQ"
    },
    {
      "TokenType": "code",
      "TokenValue": "****6793"
    }
  ],
  "ActivityId": "0HLFUVIBAF253:00000006",
  "TimeStamp": "2018-08-10T20:05:31Z",
  "ProcessId": 14792,
  "LocalIpAddress": "127.0.0.1:5512",
  "RemoteIpAddress": "::1"
}
2018-08-10 16:05:31.880 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "Endpoint": "Authorize",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "Scopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "GrantType": "hybrid",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****3jjQ"
    },
    {
      "TokenType": "code",
      "TokenValue": "****6793"
    }
  ],
  "ActivityId": "0HLFUVIBAF253:00000006",
  "TimeStamp": "2018-08-10T20:05:31Z",
  "ProcessId": 14792,
  "LocalIpAddress": "127.0.0.1:5512",
  "RemoteIpAddress": "::1"
}
2018-08-10 16:05:31.883 -04:00 [INF] Authorize endpoint response
{
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ClientId": "hybridclient",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1A8ig5b6sT83yPPs7A8X07uAsovun1x3ZOkiQWIRyGF7TDqrqDk19gfSnnyemRQ6CfVojo-w5bxQUct5sexNuXoaIwsT3JMlCLGDuXA8R-vzd5dsmq520-AK96NPzq2Y1YFCeIdkUlcCosXpjx2kJmAls36r4zdicgOa21dZ2hVDYeKE6ZxzptvNnihCa9A-50hKKusEPjy67K8gDxOJlpcnQecBp5kJY8V_OnQVu9Ac0etkTyjJZ6kdR6URpITD568u5xyHVGG2qlsZnZ4IPylz2wzPRgvFcClpAaT7BE8OP1H-pmSjZpifUJRhG2xG4",
  "Scope": "openid profile scope_used_for_hybrid_flow offline_access"
}
2018-08-10 16:05:31.883 -04:00 [INF] Authorize endpoint response
{
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ClientId": "hybridclient",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1A8ig5b6sT83yPPs7A8X07uAsovun1x3ZOkiQWIRyGF7TDqrqDk19gfSnnyemRQ6CfVojo-w5bxQUct5sexNuXoaIwsT3JMlCLGDuXA8R-vzd5dsmq520-AK96NPzq2Y1YFCeIdkUlcCosXpjx2kJmAls36r4zdicgOa21dZ2hVDYeKE6ZxzptvNnihCa9A-50hKKusEPjy67K8gDxOJlpcnQecBp5kJY8V_OnQVu9Ac0etkTyjJZ6kdR6URpITD568u5xyHVGG2qlsZnZ4IPylz2wzPRgvFcClpAaT7BE8OP1H-pmSjZpifUJRhG2xG4",
  "Scope": "openid profile scope_used_for_hybrid_flow offline_access"
}
2018-08-10 16:05:31.909 -04:00 [DBG] Augmenting SignInContext
2018-08-10 16:05:31.909 -04:00 [DBG] Augmenting SignInContext
2018-08-10 16:05:31.935 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-10 16:05:31.935 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-10 16:06:11.690 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 16:06:11.690 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 16:06:11.691 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 16:06:11.691 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 16:06:11.691 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 16:06:11.691 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 16:06:11.691 -04:00 [DBG] Start discovery request
2018-08-10 16:06:11.691 -04:00 [DBG] Start discovery request
2018-08-10 16:06:11.700 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-10 16:06:11.701 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-10 16:06:11.777 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 16:06:11.777 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 16:06:11.777 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 16:06:11.777 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 16:06:11.777 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 16:06:11.777 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 16:06:11.777 -04:00 [DBG] Start key discovery request
2018-08-10 16:06:11.777 -04:00 [DBG] Start key discovery request
2018-08-10 16:06:11.836 -04:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-10 16:06:11.836 -04:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-10 16:06:11.836 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-10 16:06:11.837 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-10 16:06:11.837 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-10 16:06:11.837 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-10 16:06:11.837 -04:00 [DBG] Start authorize request
2018-08-10 16:06:11.837 -04:00 [DBG] Start authorize request
2018-08-10 16:06:11.837 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:06:11.837 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:06:11.837 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:06:11.837 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:06:11.841 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:06:11.842 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:06:11.842 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:06:11.842 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:06:11.842 -04:00 [DBG] No PKCE used.
2018-08-10 16:06:11.842 -04:00 [DBG] No PKCE used.
2018-08-10 16:06:11.844 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:06:11.859 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:06:11.863 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:06:11.889 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:06:11.890 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:06:11.890 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:06:11.892 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:06:11.892 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:06:11.892 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:06:11.892 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:06:11.892 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1nG8eagtM0sXYR54x-Xugau2kLzyk8xRbqR94PN-UDsXLVyEBouMCwzlyVrcMgL_WiSY2wOYK4MjvEj_ZCZfqJyBflKGwmQq6zDomX6cybrXQPugBxP4j7vnO6NJ0_381c0uCXxgeyEAmMnCn0vgnoQ401U48XEZQag9QejLHNbg9smfQ9JLUmM62OWiwJ7t3n8cE-JMX8gi9C4aCl6cpGnPZ9j9QIvd7tLOcJA-JKcnl-BdjVt5dMzkQleytCzuAmTm2e8ODEt9jSSyIxYtp-i_C-gRkYj0i4Ptmit2CxHfNXGVBGpPERWtI6Bw_H5PY",
  "Nonce": "636695283718038802.MTI2YWZhN2ItZGI3MS00ZmQ5LWExM2EtNjA3ZmZiMGNkMmEyNGVmMWU2ZjQtYjFkMC00MTg4LTlhYmYtN2E5NDdjNWNiMzMx",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636695283718038802.MTI2YWZhN2ItZGI3MS00ZmQ5LWExM2EtNjA3ZmZiMGNkMmEyNGVmMWU2ZjQtYjFkMC00MTg4LTlhYmYtN2E5NDdjNWNiMzMx",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O1nG8eagtM0sXYR54x-Xugau2kLzyk8xRbqR94PN-UDsXLVyEBouMCwzlyVrcMgL_WiSY2wOYK4MjvEj_ZCZfqJyBflKGwmQq6zDomX6cybrXQPugBxP4j7vnO6NJ0_381c0uCXxgeyEAmMnCn0vgnoQ401U48XEZQag9QejLHNbg9smfQ9JLUmM62OWiwJ7t3n8cE-JMX8gi9C4aCl6cpGnPZ9j9QIvd7tLOcJA-JKcnl-BdjVt5dMzkQleytCzuAmTm2e8ODEt9jSSyIxYtp-i_C-gRkYj0i4Ptmit2CxHfNXGVBGpPERWtI6Bw_H5PY",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-10 16:06:11.909 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1nG8eagtM0sXYR54x-Xugau2kLzyk8xRbqR94PN-UDsXLVyEBouMCwzlyVrcMgL_WiSY2wOYK4MjvEj_ZCZfqJyBflKGwmQq6zDomX6cybrXQPugBxP4j7vnO6NJ0_381c0uCXxgeyEAmMnCn0vgnoQ401U48XEZQag9QejLHNbg9smfQ9JLUmM62OWiwJ7t3n8cE-JMX8gi9C4aCl6cpGnPZ9j9QIvd7tLOcJA-JKcnl-BdjVt5dMzkQleytCzuAmTm2e8ODEt9jSSyIxYtp-i_C-gRkYj0i4Ptmit2CxHfNXGVBGpPERWtI6Bw_H5PY",
  "Nonce": "636695283718038802.MTI2YWZhN2ItZGI3MS00ZmQ5LWExM2EtNjA3ZmZiMGNkMmEyNGVmMWU2ZjQtYjFkMC00MTg4LTlhYmYtN2E5NDdjNWNiMzMx",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636695283718038802.MTI2YWZhN2ItZGI3MS00ZmQ5LWExM2EtNjA3ZmZiMGNkMmEyNGVmMWU2ZjQtYjFkMC00MTg4LTlhYmYtN2E5NDdjNWNiMzMx",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O1nG8eagtM0sXYR54x-Xugau2kLzyk8xRbqR94PN-UDsXLVyEBouMCwzlyVrcMgL_WiSY2wOYK4MjvEj_ZCZfqJyBflKGwmQq6zDomX6cybrXQPugBxP4j7vnO6NJ0_381c0uCXxgeyEAmMnCn0vgnoQ401U48XEZQag9QejLHNbg9smfQ9JLUmM62OWiwJ7t3n8cE-JMX8gi9C4aCl6cpGnPZ9j9QIvd7tLOcJA-JKcnl-BdjVt5dMzkQleytCzuAmTm2e8ODEt9jSSyIxYtp-i_C-gRkYj0i4Ptmit2CxHfNXGVBGpPERWtI6Bw_H5PY",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-10 16:06:11.928 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-10 16:06:11.941 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-10 16:06:11.941 -04:00 [INF] Showing consent: User has not yet consented
2018-08-10 16:06:11.941 -04:00 [INF] Showing consent: User has not yet consented
2018-08-10 16:06:11.946 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:06:11.956 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:06:11.959 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:06:11.968 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:06:11.968 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:06:11.968 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:06:11.968 -04:00 [DBG] No PKCE used.
2018-08-10 16:06:11.968 -04:00 [DBG] No PKCE used.
2018-08-10 16:06:11.969 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:06:11.974 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:06:11.977 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:06:11.994 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:06:11.995 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:06:12.007 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:06:12.009 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:06:12.023 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:06:12.023 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:06:12.023 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:06:12.026 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:06:12.038 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:06:12.039 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:06:12.051 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:06:12.053 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:06:12.068 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:06:18.228 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:06:18.229 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:06:18.242 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:06:18.242 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:06:18.242 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:06:18.242 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:06:18.267 -04:00 [DBG] No PKCE used.
2018-08-10 16:06:18.267 -04:00 [DBG] No PKCE used.
2018-08-10 16:06:18.268 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:06:18.268 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:06:18.270 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:06:18.291 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:06:18.292 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:06:18.292 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:06:18.293 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:06:18.308 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:06:18.308 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:06:18.308 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:06:18.313 -04:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-10 16:06:18.329 -04:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-10 16:06:18.329 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-10 16:06:18.329 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-10 16:06:18.329 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-10 16:06:18.329 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-10 16:06:18.329 -04:00 [DBG] Start authorize callback request
2018-08-10 16:06:18.329 -04:00 [DBG] Start authorize callback request
2018-08-10 16:06:18.330 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:06:18.330 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:06:18.351 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:06:18.351 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:06:18.354 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:06:18.364 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:06:18.365 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:06:18.365 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:06:18.365 -04:00 [DBG] No PKCE used.
2018-08-10 16:06:18.365 -04:00 [DBG] No PKCE used.
2018-08-10 16:06:18.366 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:06:18.380 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:06:18.382 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:06:18.399 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:06:18.400 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:06:18.400 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:06:18.403 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:06:18.415 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:06:18.415 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:06:18.415 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:06:18.415 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1nG8eagtM0sXYR54x-Xugau2kLzyk8xRbqR94PN-UDsXLVyEBouMCwzlyVrcMgL_WiSY2wOYK4MjvEj_ZCZfqJyBflKGwmQq6zDomX6cybrXQPugBxP4j7vnO6NJ0_381c0uCXxgeyEAmMnCn0vgnoQ401U48XEZQag9QejLHNbg9smfQ9JLUmM62OWiwJ7t3n8cE-JMX8gi9C4aCl6cpGnPZ9j9QIvd7tLOcJA-JKcnl-BdjVt5dMzkQleytCzuAmTm2e8ODEt9jSSyIxYtp-i_C-gRkYj0i4Ptmit2CxHfNXGVBGpPERWtI6Bw_H5PY",
  "Nonce": "636695283718038802.MTI2YWZhN2ItZGI3MS00ZmQ5LWExM2EtNjA3ZmZiMGNkMmEyNGVmMWU2ZjQtYjFkMC00MTg4LTlhYmYtN2E5NDdjNWNiMzMx",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636695283718038802.MTI2YWZhN2ItZGI3MS00ZmQ5LWExM2EtNjA3ZmZiMGNkMmEyNGVmMWU2ZjQtYjFkMC00MTg4LTlhYmYtN2E5NDdjNWNiMzMx",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O1nG8eagtM0sXYR54x-Xugau2kLzyk8xRbqR94PN-UDsXLVyEBouMCwzlyVrcMgL_WiSY2wOYK4MjvEj_ZCZfqJyBflKGwmQq6zDomX6cybrXQPugBxP4j7vnO6NJ0_381c0uCXxgeyEAmMnCn0vgnoQ401U48XEZQag9QejLHNbg9smfQ9JLUmM62OWiwJ7t3n8cE-JMX8gi9C4aCl6cpGnPZ9j9QIvd7tLOcJA-JKcnl-BdjVt5dMzkQleytCzuAmTm2e8ODEt9jSSyIxYtp-i_C-gRkYj0i4Ptmit2CxHfNXGVBGpPERWtI6Bw_H5PY",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-10 16:06:18.431 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1nG8eagtM0sXYR54x-Xugau2kLzyk8xRbqR94PN-UDsXLVyEBouMCwzlyVrcMgL_WiSY2wOYK4MjvEj_ZCZfqJyBflKGwmQq6zDomX6cybrXQPugBxP4j7vnO6NJ0_381c0uCXxgeyEAmMnCn0vgnoQ401U48XEZQag9QejLHNbg9smfQ9JLUmM62OWiwJ7t3n8cE-JMX8gi9C4aCl6cpGnPZ9j9QIvd7tLOcJA-JKcnl-BdjVt5dMzkQleytCzuAmTm2e8ODEt9jSSyIxYtp-i_C-gRkYj0i4Ptmit2CxHfNXGVBGpPERWtI6Bw_H5PY",
  "Nonce": "636695283718038802.MTI2YWZhN2ItZGI3MS00ZmQ5LWExM2EtNjA3ZmZiMGNkMmEyNGVmMWU2ZjQtYjFkMC00MTg4LTlhYmYtN2E5NDdjNWNiMzMx",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636695283718038802.MTI2YWZhN2ItZGI3MS00ZmQ5LWExM2EtNjA3ZmZiMGNkMmEyNGVmMWU2ZjQtYjFkMC00MTg4LTlhYmYtN2E5NDdjNWNiMzMx",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O1nG8eagtM0sXYR54x-Xugau2kLzyk8xRbqR94PN-UDsXLVyEBouMCwzlyVrcMgL_WiSY2wOYK4MjvEj_ZCZfqJyBflKGwmQq6zDomX6cybrXQPugBxP4j7vnO6NJ0_381c0uCXxgeyEAmMnCn0vgnoQ401U48XEZQag9QejLHNbg9smfQ9JLUmM62OWiwJ7t3n8cE-JMX8gi9C4aCl6cpGnPZ9j9QIvd7tLOcJA-JKcnl-BdjVt5dMzkQleytCzuAmTm2e8ODEt9jSSyIxYtp-i_C-gRkYj0i4Ptmit2CxHfNXGVBGpPERWtI6Bw_H5PY",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-10 16:06:18.449 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-10 16:06:18.449 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-10 16:06:18.449 -04:00 [INF] User consented to scopes: ["openid","profile","scope_used_for_hybrid_flow","offline_access"]
2018-08-10 16:06:18.449 -04:00 [INF] User consented to scopes: openid, profile, scope_used_for_hybrid_flow, offline_access
2018-08-10 16:06:18.449 -04:00 [DBG] Client allows remembering consent, and no scopes provided. Removing consent from consent store for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:06:18.462 -04:00 [DBG] Client allows remembering consent, and no scopes provided. Removing consent from consent store for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:06:18.463 -04:00 [DBG] no Czzqjxx8Mp06BkW4kn1btlLBNW309mYpgT+AxWoOSNU= persisted grant found in database
2018-08-10 16:06:18.463 -04:00 [DBG] no Czzqjxx8Mp06BkW4kn1btlLBNW309mYpgT+AxWoOSNU= persisted grant found in database
2018-08-10 16:06:18.463 -04:00 [DBG] Creating Hybrid Flow response.
2018-08-10 16:06:18.464 -04:00 [DBG] Creating Hybrid Flow response.
2018-08-10 16:06:18.469 -04:00 [DBG] lVwaWiFrZI6kXPfNHJFmBvJlz+lkP+4EmC/2Nkc+lRQ= not found in database
2018-08-10 16:06:18.470 -04:00 [DBG] lVwaWiFrZI6kXPfNHJFmBvJlz+lkP+4EmC/2Nkc+lRQ= not found in database
2018-08-10 16:06:18.478 -04:00 [DBG] Creating Implicit Flow response.
2018-08-10 16:06:18.478 -04:00 [DBG] Creating Implicit Flow response.
2018-08-10 16:06:18.478 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: hybridclient
2018-08-10 16:06:18.478 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: hybridclient
2018-08-10 16:06:18.481 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-10 16:06:18.482 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-10 16:06:18.484 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "Endpoint": "Authorize",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "Scopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "GrantType": "hybrid",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****3QLQ"
    },
    {
      "TokenType": "code",
      "TokenValue": "****b242"
    }
  ],
  "ActivityId": "0HLFUVIBAF256:00000005",
  "TimeStamp": "2018-08-10T20:06:18Z",
  "ProcessId": 14792,
  "LocalIpAddress": "127.0.0.1:5512",
  "RemoteIpAddress": "::1"
}
2018-08-10 16:06:18.484 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "Endpoint": "Authorize",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "Scopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "GrantType": "hybrid",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****3QLQ"
    },
    {
      "TokenType": "code",
      "TokenValue": "****b242"
    }
  ],
  "ActivityId": "0HLFUVIBAF256:00000005",
  "TimeStamp": "2018-08-10T20:06:18Z",
  "ProcessId": 14792,
  "LocalIpAddress": "127.0.0.1:5512",
  "RemoteIpAddress": "::1"
}
2018-08-10 16:06:18.484 -04:00 [INF] Authorize endpoint response
{
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ClientId": "hybridclient",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1nG8eagtM0sXYR54x-Xugau2kLzyk8xRbqR94PN-UDsXLVyEBouMCwzlyVrcMgL_WiSY2wOYK4MjvEj_ZCZfqJyBflKGwmQq6zDomX6cybrXQPugBxP4j7vnO6NJ0_381c0uCXxgeyEAmMnCn0vgnoQ401U48XEZQag9QejLHNbg9smfQ9JLUmM62OWiwJ7t3n8cE-JMX8gi9C4aCl6cpGnPZ9j9QIvd7tLOcJA-JKcnl-BdjVt5dMzkQleytCzuAmTm2e8ODEt9jSSyIxYtp-i_C-gRkYj0i4Ptmit2CxHfNXGVBGpPERWtI6Bw_H5PY",
  "Scope": "openid profile scope_used_for_hybrid_flow offline_access"
}
2018-08-10 16:06:18.497 -04:00 [INF] Authorize endpoint response
{
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ClientId": "hybridclient",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1nG8eagtM0sXYR54x-Xugau2kLzyk8xRbqR94PN-UDsXLVyEBouMCwzlyVrcMgL_WiSY2wOYK4MjvEj_ZCZfqJyBflKGwmQq6zDomX6cybrXQPugBxP4j7vnO6NJ0_381c0uCXxgeyEAmMnCn0vgnoQ401U48XEZQag9QejLHNbg9smfQ9JLUmM62OWiwJ7t3n8cE-JMX8gi9C4aCl6cpGnPZ9j9QIvd7tLOcJA-JKcnl-BdjVt5dMzkQleytCzuAmTm2e8ODEt9jSSyIxYtp-i_C-gRkYj0i4Ptmit2CxHfNXGVBGpPERWtI6Bw_H5PY",
  "Scope": "openid profile scope_used_for_hybrid_flow offline_access"
}
2018-08-10 16:07:37.634 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-10 16:07:37.680 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-10 16:07:37.680 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-10 16:07:37.680 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-10 16:07:37.680 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-10 16:07:37.680 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-10 16:07:37.681 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-10 16:07:37.681 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-10 16:07:37.681 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-10 16:07:37.681 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-10 16:07:45.057 -04:00 [DBG] 2 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:07:45.066 -04:00 [DBG] 2 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:07:46.329 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:07:46.329 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:07:46.438 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:07:46.444 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:07:46.821 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:07:46.821 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:07:59.278 -04:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-10 16:07:59.278 -04:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-10 16:07:59.283 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-10 16:07:59.283 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-10 16:07:59.283 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-10 16:07:59.285 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-10 16:07:59.288 -04:00 [DBG] Start authorize request
2018-08-10 16:07:59.289 -04:00 [DBG] Start authorize request
2018-08-10 16:07:59.300 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:07:59.300 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:07:59.305 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:07:59.305 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:07:59.555 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:07:59.555 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:07:59.560 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:07:59.560 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:07:59.561 -04:00 [DBG] No PKCE used.
2018-08-10 16:07:59.561 -04:00 [DBG] No PKCE used.
2018-08-10 16:07:59.621 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:07:59.621 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:07:59.800 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:07:59.800 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:07:59.854 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:07:59.854 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:07:59.972 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:07:59.972 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:07:59.982 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:07:59.982 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:08:00.032 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O0yFsPa5CNqY_RYSzumc2L583mzJ72nitxtfWRvWfkTByhUQkzwg2z036e697v9sXFLYi_JCxn0FB8iewO1tRsO5ShpAVw4Jl-5UljJpnal0dVHNSAEuT7YGVvtzjpnaYn_8SKX8fyJriEwoSefhrDHlXTlS6xIpNGroKZo-7Ue87JQEMZoF3GuTMyfVhFxYog2XBPNk1JIESKaDseBe8KisQ1TFqZtgn3cdrLT_JQ9qNKGTRakdAhvvWEZCGQ2WLyJFwLjcPENTL_I8QeFVF2utq5BS3ozoC9cBFGlmaOUV2bSNzaF6XHOeBZbB_ahQGQ",
  "Nonce": "636695284792308802.ODVhNDU0ZjUtOWY4NS00ZTZjLWE3ZmItOTNlNzNmNDc1MmMwOTY3OWE3N2UtY2VhYy00MmYyLWFhZWItZWMyMDIyZjZjZTZk",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636695284792308802.ODVhNDU0ZjUtOWY4NS00ZTZjLWE3ZmItOTNlNzNmNDc1MmMwOTY3OWE3N2UtY2VhYy00MmYyLWFhZWItZWMyMDIyZjZjZTZk",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O0yFsPa5CNqY_RYSzumc2L583mzJ72nitxtfWRvWfkTByhUQkzwg2z036e697v9sXFLYi_JCxn0FB8iewO1tRsO5ShpAVw4Jl-5UljJpnal0dVHNSAEuT7YGVvtzjpnaYn_8SKX8fyJriEwoSefhrDHlXTlS6xIpNGroKZo-7Ue87JQEMZoF3GuTMyfVhFxYog2XBPNk1JIESKaDseBe8KisQ1TFqZtgn3cdrLT_JQ9qNKGTRakdAhvvWEZCGQ2WLyJFwLjcPENTL_I8QeFVF2utq5BS3ozoC9cBFGlmaOUV2bSNzaF6XHOeBZbB_ahQGQ",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-10 16:08:00.035 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O0yFsPa5CNqY_RYSzumc2L583mzJ72nitxtfWRvWfkTByhUQkzwg2z036e697v9sXFLYi_JCxn0FB8iewO1tRsO5ShpAVw4Jl-5UljJpnal0dVHNSAEuT7YGVvtzjpnaYn_8SKX8fyJriEwoSefhrDHlXTlS6xIpNGroKZo-7Ue87JQEMZoF3GuTMyfVhFxYog2XBPNk1JIESKaDseBe8KisQ1TFqZtgn3cdrLT_JQ9qNKGTRakdAhvvWEZCGQ2WLyJFwLjcPENTL_I8QeFVF2utq5BS3ozoC9cBFGlmaOUV2bSNzaF6XHOeBZbB_ahQGQ",
  "Nonce": "636695284792308802.ODVhNDU0ZjUtOWY4NS00ZTZjLWE3ZmItOTNlNzNmNDc1MmMwOTY3OWE3N2UtY2VhYy00MmYyLWFhZWItZWMyMDIyZjZjZTZk",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636695284792308802.ODVhNDU0ZjUtOWY4NS00ZTZjLWE3ZmItOTNlNzNmNDc1MmMwOTY3OWE3N2UtY2VhYy00MmYyLWFhZWItZWMyMDIyZjZjZTZk",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O0yFsPa5CNqY_RYSzumc2L583mzJ72nitxtfWRvWfkTByhUQkzwg2z036e697v9sXFLYi_JCxn0FB8iewO1tRsO5ShpAVw4Jl-5UljJpnal0dVHNSAEuT7YGVvtzjpnaYn_8SKX8fyJriEwoSefhrDHlXTlS6xIpNGroKZo-7Ue87JQEMZoF3GuTMyfVhFxYog2XBPNk1JIESKaDseBe8KisQ1TFqZtgn3cdrLT_JQ9qNKGTRakdAhvvWEZCGQ2WLyJFwLjcPENTL_I8QeFVF2utq5BS3ozoC9cBFGlmaOUV2bSNzaF6XHOeBZbB_ahQGQ",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-10 16:08:00.235 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-10 16:08:00.235 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-10 16:08:00.235 -04:00 [INF] Showing consent: User has not yet consented
2018-08-10 16:08:00.237 -04:00 [INF] Showing consent: User has not yet consented
2018-08-10 16:08:00.368 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:08:00.368 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:08:00.652 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:00.652 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:00.652 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:08:00.652 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:08:00.652 -04:00 [DBG] No PKCE used.
2018-08-10 16:08:00.652 -04:00 [DBG] No PKCE used.
2018-08-10 16:08:00.708 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:00.708 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:00.882 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:08:00.882 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:08:00.942 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:00.943 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:01.076 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:08:01.077 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:08:01.077 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:08:01.077 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:08:01.331 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:01.331 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:01.381 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:01.381 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:01.504 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:08:01.504 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:08:04.629 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:08:04.629 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:08:04.903 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:04.903 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:04.903 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:08:04.903 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:08:04.904 -04:00 [DBG] No PKCE used.
2018-08-10 16:08:04.904 -04:00 [DBG] No PKCE used.
2018-08-10 16:08:04.957 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:04.957 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:05.092 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:08:05.092 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:08:05.144 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:05.145 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:05.285 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:08:05.286 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:08:05.286 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:08:05.286 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:08:05.324 -04:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-10 16:08:05.324 -04:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-10 16:08:05.327 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-10 16:08:05.327 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-10 16:08:05.327 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-10 16:08:05.330 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-10 16:08:05.336 -04:00 [DBG] Start authorize callback request
2018-08-10 16:08:05.336 -04:00 [DBG] Start authorize callback request
2018-08-10 16:08:05.353 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:05.353 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:05.353 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:08:05.353 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:08:05.575 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:05.575 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:05.575 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:08:05.575 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:08:05.575 -04:00 [DBG] No PKCE used.
2018-08-10 16:08:05.575 -04:00 [DBG] No PKCE used.
2018-08-10 16:08:05.625 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:05.625 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:05.734 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:08:05.734 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:08:05.778 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:05.778 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:05.895 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:08:05.895 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:08:05.895 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:08:05.896 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:08:05.896 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O0yFsPa5CNqY_RYSzumc2L583mzJ72nitxtfWRvWfkTByhUQkzwg2z036e697v9sXFLYi_JCxn0FB8iewO1tRsO5ShpAVw4Jl-5UljJpnal0dVHNSAEuT7YGVvtzjpnaYn_8SKX8fyJriEwoSefhrDHlXTlS6xIpNGroKZo-7Ue87JQEMZoF3GuTMyfVhFxYog2XBPNk1JIESKaDseBe8KisQ1TFqZtgn3cdrLT_JQ9qNKGTRakdAhvvWEZCGQ2WLyJFwLjcPENTL_I8QeFVF2utq5BS3ozoC9cBFGlmaOUV2bSNzaF6XHOeBZbB_ahQGQ",
  "Nonce": "636695284792308802.ODVhNDU0ZjUtOWY4NS00ZTZjLWE3ZmItOTNlNzNmNDc1MmMwOTY3OWE3N2UtY2VhYy00MmYyLWFhZWItZWMyMDIyZjZjZTZk",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636695284792308802.ODVhNDU0ZjUtOWY4NS00ZTZjLWE3ZmItOTNlNzNmNDc1MmMwOTY3OWE3N2UtY2VhYy00MmYyLWFhZWItZWMyMDIyZjZjZTZk",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O0yFsPa5CNqY_RYSzumc2L583mzJ72nitxtfWRvWfkTByhUQkzwg2z036e697v9sXFLYi_JCxn0FB8iewO1tRsO5ShpAVw4Jl-5UljJpnal0dVHNSAEuT7YGVvtzjpnaYn_8SKX8fyJriEwoSefhrDHlXTlS6xIpNGroKZo-7Ue87JQEMZoF3GuTMyfVhFxYog2XBPNk1JIESKaDseBe8KisQ1TFqZtgn3cdrLT_JQ9qNKGTRakdAhvvWEZCGQ2WLyJFwLjcPENTL_I8QeFVF2utq5BS3ozoC9cBFGlmaOUV2bSNzaF6XHOeBZbB_ahQGQ",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-10 16:08:05.898 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O0yFsPa5CNqY_RYSzumc2L583mzJ72nitxtfWRvWfkTByhUQkzwg2z036e697v9sXFLYi_JCxn0FB8iewO1tRsO5ShpAVw4Jl-5UljJpnal0dVHNSAEuT7YGVvtzjpnaYn_8SKX8fyJriEwoSefhrDHlXTlS6xIpNGroKZo-7Ue87JQEMZoF3GuTMyfVhFxYog2XBPNk1JIESKaDseBe8KisQ1TFqZtgn3cdrLT_JQ9qNKGTRakdAhvvWEZCGQ2WLyJFwLjcPENTL_I8QeFVF2utq5BS3ozoC9cBFGlmaOUV2bSNzaF6XHOeBZbB_ahQGQ",
  "Nonce": "636695284792308802.ODVhNDU0ZjUtOWY4NS00ZTZjLWE3ZmItOTNlNzNmNDc1MmMwOTY3OWE3N2UtY2VhYy00MmYyLWFhZWItZWMyMDIyZjZjZTZk",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636695284792308802.ODVhNDU0ZjUtOWY4NS00ZTZjLWE3ZmItOTNlNzNmNDc1MmMwOTY3OWE3N2UtY2VhYy00MmYyLWFhZWItZWMyMDIyZjZjZTZk",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O0yFsPa5CNqY_RYSzumc2L583mzJ72nitxtfWRvWfkTByhUQkzwg2z036e697v9sXFLYi_JCxn0FB8iewO1tRsO5ShpAVw4Jl-5UljJpnal0dVHNSAEuT7YGVvtzjpnaYn_8SKX8fyJriEwoSefhrDHlXTlS6xIpNGroKZo-7Ue87JQEMZoF3GuTMyfVhFxYog2XBPNk1JIESKaDseBe8KisQ1TFqZtgn3cdrLT_JQ9qNKGTRakdAhvvWEZCGQ2WLyJFwLjcPENTL_I8QeFVF2utq5BS3ozoC9cBFGlmaOUV2bSNzaF6XHOeBZbB_ahQGQ",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-10 16:08:05.942 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-10 16:08:05.942 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-10 16:08:05.948 -04:00 [INF] User consented to scopes: ["openid","profile","scope_used_for_hybrid_flow","offline_access"]
2018-08-10 16:08:05.950 -04:00 [INF] User consented to scopes: openid, profile, scope_used_for_hybrid_flow, offline_access
2018-08-10 16:08:05.953 -04:00 [DBG] Client allows remembering consent, and no scopes provided. Removing consent from consent store for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:05.953 -04:00 [DBG] Client allows remembering consent, and no scopes provided. Removing consent from consent store for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:06.010 -04:00 [DBG] no Czzqjxx8Mp06BkW4kn1btlLBNW309mYpgT+AxWoOSNU= persisted grant found in database
2018-08-10 16:08:06.010 -04:00 [DBG] no Czzqjxx8Mp06BkW4kn1btlLBNW309mYpgT+AxWoOSNU= persisted grant found in database
2018-08-10 16:08:06.016 -04:00 [DBG] Creating Hybrid Flow response.
2018-08-10 16:08:06.016 -04:00 [DBG] Creating Hybrid Flow response.
2018-08-10 16:08:06.077 -04:00 [DBG] uBGMxx+/Rh6lTbDmuA+GJApOXgUm8xNAYrIS1C01TuM= not found in database
2018-08-10 16:08:06.077 -04:00 [DBG] uBGMxx+/Rh6lTbDmuA+GJApOXgUm8xNAYrIS1C01TuM= not found in database
2018-08-10 16:08:06.241 -04:00 [DBG] Creating Implicit Flow response.
2018-08-10 16:08:06.241 -04:00 [DBG] Creating Implicit Flow response.
2018-08-10 16:08:06.250 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: hybridclient
2018-08-10 16:08:06.250 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: hybridclient
2018-08-10 16:08:06.252 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-10 16:08:06.252 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-10 16:08:06.429 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "Endpoint": "Authorize",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "Scopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "GrantType": "hybrid",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****15aw"
    },
    {
      "TokenType": "code",
      "TokenValue": "****f209"
    }
  ],
  "ActivityId": "0HLFUVJLOKBS3:00000005",
  "TimeStamp": "2018-08-10T20:08:06Z",
  "ProcessId": 17308,
  "LocalIpAddress": "127.0.0.1:28189",
  "RemoteIpAddress": "::1"
}
2018-08-10 16:08:06.431 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "Endpoint": "Authorize",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "Scopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "GrantType": "hybrid",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****15aw"
    },
    {
      "TokenType": "code",
      "TokenValue": "****f209"
    }
  ],
  "ActivityId": "0HLFUVJLOKBS3:00000005",
  "TimeStamp": "2018-08-10T20:08:06Z",
  "ProcessId": 17308,
  "LocalIpAddress": "127.0.0.1:28189",
  "RemoteIpAddress": "::1"
}
2018-08-10 16:08:06.435 -04:00 [INF] Authorize endpoint response
{
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ClientId": "hybridclient",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O0yFsPa5CNqY_RYSzumc2L583mzJ72nitxtfWRvWfkTByhUQkzwg2z036e697v9sXFLYi_JCxn0FB8iewO1tRsO5ShpAVw4Jl-5UljJpnal0dVHNSAEuT7YGVvtzjpnaYn_8SKX8fyJriEwoSefhrDHlXTlS6xIpNGroKZo-7Ue87JQEMZoF3GuTMyfVhFxYog2XBPNk1JIESKaDseBe8KisQ1TFqZtgn3cdrLT_JQ9qNKGTRakdAhvvWEZCGQ2WLyJFwLjcPENTL_I8QeFVF2utq5BS3ozoC9cBFGlmaOUV2bSNzaF6XHOeBZbB_ahQGQ",
  "Scope": "openid profile scope_used_for_hybrid_flow offline_access"
}
2018-08-10 16:08:06.438 -04:00 [INF] Authorize endpoint response
{
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ClientId": "hybridclient",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O0yFsPa5CNqY_RYSzumc2L583mzJ72nitxtfWRvWfkTByhUQkzwg2z036e697v9sXFLYi_JCxn0FB8iewO1tRsO5ShpAVw4Jl-5UljJpnal0dVHNSAEuT7YGVvtzjpnaYn_8SKX8fyJriEwoSefhrDHlXTlS6xIpNGroKZo-7Ue87JQEMZoF3GuTMyfVhFxYog2XBPNk1JIESKaDseBe8KisQ1TFqZtgn3cdrLT_JQ9qNKGTRakdAhvvWEZCGQ2WLyJFwLjcPENTL_I8QeFVF2utq5BS3ozoC9cBFGlmaOUV2bSNzaF6XHOeBZbB_ahQGQ",
  "Scope": "openid profile scope_used_for_hybrid_flow offline_access"
}
2018-08-10 16:08:06.594 -04:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-08-10 16:08:06.594 -04:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-08-10 16:08:06.598 -04:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-08-10 16:08:06.598 -04:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-08-10 16:08:06.598 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-08-10 16:08:06.601 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-08-10 16:08:06.608 -04:00 [DBG] Start token request.
2018-08-10 16:08:06.608 -04:00 [DBG] Start token request.
2018-08-10 16:08:06.615 -04:00 [DBG] Start client validation
2018-08-10 16:08:06.615 -04:00 [DBG] Start client validation
2018-08-10 16:08:06.620 -04:00 [DBG] Start parsing Basic Authentication secret
2018-08-10 16:08:06.620 -04:00 [DBG] Start parsing Basic Authentication secret
2018-08-10 16:08:06.624 -04:00 [DBG] Start parsing for secret in post body
2018-08-10 16:08:06.624 -04:00 [DBG] Start parsing for secret in post body
2018-08-10 16:08:06.624 -04:00 [DBG] Parser found secret: PostBodySecretParser
2018-08-10 16:08:06.625 -04:00 [DBG] Parser found secret: PostBodySecretParser
2018-08-10 16:08:06.625 -04:00 [DBG] Secret id found: hybridclient
2018-08-10 16:08:06.625 -04:00 [DBG] Secret id found: hybridclient
2018-08-10 16:08:06.847 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:06.847 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:06.856 -04:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-08-10 16:08:06.856 -04:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-08-10 16:08:06.856 -04:00 [DBG] Client validation success
2018-08-10 16:08:06.856 -04:00 [DBG] Client validation success
2018-08-10 16:08:06.860 -04:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "hybridclient",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLFUVJLOKBS4:00000005",
  "TimeStamp": "2018-08-10T20:08:06Z",
  "ProcessId": 17308,
  "LocalIpAddress": "127.0.0.1:28189",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-10 16:08:06.862 -04:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "hybridclient",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLFUVJLOKBS4:00000005",
  "TimeStamp": "2018-08-10T20:08:06Z",
  "ProcessId": 17308,
  "LocalIpAddress": "127.0.0.1:28189",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-10 16:08:06.867 -04:00 [DBG] Start token request validation
2018-08-10 16:08:06.867 -04:00 [DBG] Start token request validation
2018-08-10 16:08:06.877 -04:00 [DBG] Start validation of authorization code token request
2018-08-10 16:08:06.877 -04:00 [DBG] Start validation of authorization code token request
2018-08-10 16:08:06.907 -04:00 [DBG] uBGMxx+/Rh6lTbDmuA+GJApOXgUm8xNAYrIS1C01TuM= found in database: true
2018-08-10 16:08:06.908 -04:00 [DBG] uBGMxx+/Rh6lTbDmuA+GJApOXgUm8xNAYrIS1C01TuM= found in database: true
2018-08-10 16:08:06.937 -04:00 [DBG] removing uBGMxx+/Rh6lTbDmuA+GJApOXgUm8xNAYrIS1C01TuM= persisted grant from database
2018-08-10 16:08:06.937 -04:00 [DBG] removing uBGMxx+/Rh6lTbDmuA+GJApOXgUm8xNAYrIS1C01TuM= persisted grant from database
2018-08-10 16:08:07.017 -04:00 [DBG] Validation of authorization code token request success
2018-08-10 16:08:07.018 -04:00 [DBG] Validation of authorization code token request success
2018-08-10 16:08:07.026 -04:00 [INF] Token request validation success
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "GrantType": "authorization_code",
  "AuthorizationCode": "c74f16f50a3d58a9608b2bbddcef6e1af5abab9baf5bdcce89147e1fc554f209",
  "Raw": {
    "client_id": "hybridclient",
    "client_secret": "***REDACTED***",
    "code": "c74f16f50a3d58a9608b2bbddcef6e1af5abab9baf5bdcce89147e1fc554f209",
    "grant_type": "authorization_code",
    "redirect_uri": "https://localhost:44381/signin-oidc"
  }
}
2018-08-10 16:08:07.029 -04:00 [INF] Token request validation success
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "GrantType": "authorization_code",
  "AuthorizationCode": "c74f16f50a3d58a9608b2bbddcef6e1af5abab9baf5bdcce89147e1fc554f209",
  "Raw": {
    "client_id": "hybridclient",
    "client_secret": "***REDACTED***",
    "code": "c74f16f50a3d58a9608b2bbddcef6e1af5abab9baf5bdcce89147e1fc554f209",
    "grant_type": "authorization_code",
    "redirect_uri": "https://localhost:44381/signin-oidc"
  }
}
2018-08-10 16:08:07.216 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:07.216 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:07.253 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:07.253 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:07.334 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:08:07.334 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:08:07.343 -04:00 [DBG] Getting claims for access token for client: hybridclient
2018-08-10 16:08:07.344 -04:00 [DBG] Getting claims for access token for client: hybridclient
2018-08-10 16:08:07.344 -04:00 [DBG] Getting claims for access token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:07.344 -04:00 [DBG] Getting claims for access token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:07.560 -04:00 [DBG] Creating refresh token
2018-08-10 16:08:07.560 -04:00 [DBG] Creating refresh token
2018-08-10 16:08:07.560 -04:00 [DBG] Setting an absolute lifetime: 2592000
2018-08-10 16:08:07.560 -04:00 [DBG] Setting an absolute lifetime: 2592000
2018-08-10 16:08:07.602 -04:00 [DBG] JveTl3VWnER9eFuSk6G2Wf39WoJ6vrJJ8Z/guXdiwrM= not found in database
2018-08-10 16:08:07.602 -04:00 [DBG] JveTl3VWnER9eFuSk6G2Wf39WoJ6vrJJ8Z/guXdiwrM= not found in database
2018-08-10 16:08:07.920 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:07.920 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:07.976 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:07.976 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:08.129 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:08:08.129 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:08:08.129 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: hybridclient
2018-08-10 16:08:08.129 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: hybridclient
2018-08-10 16:08:08.129 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-10 16:08:08.129 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-10 16:08:08.135 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "Endpoint": "Token",
  "Scopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "GrantType": "authorization_code",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****TCzQ"
    },
    {
      "TokenType": "refresh_token",
      "TokenValue": "****3f29"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****sh7g"
    }
  ],
  "ActivityId": "0HLFUVJLOKBS4:00000005",
  "TimeStamp": "2018-08-10T20:08:08Z",
  "ProcessId": 17308,
  "LocalIpAddress": "127.0.0.1:28189",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-10 16:08:08.137 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "Endpoint": "Token",
  "Scopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "GrantType": "authorization_code",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****TCzQ"
    },
    {
      "TokenType": "refresh_token",
      "TokenValue": "****3f29"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****sh7g"
    }
  ],
  "ActivityId": "0HLFUVJLOKBS4:00000005",
  "TimeStamp": "2018-08-10T20:08:08Z",
  "ProcessId": 17308,
  "LocalIpAddress": "127.0.0.1:28189",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-10 16:08:08.138 -04:00 [DBG] Token request success.
2018-08-10 16:08:08.138 -04:00 [DBG] Token request success.
2018-08-10 16:08:08.166 -04:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2018-08-10 16:08:08.166 -04:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2018-08-10 16:08:08.168 -04:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2018-08-10 16:08:08.168 -04:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2018-08-10 16:08:08.168 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-08-10 16:08:08.170 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-08-10 16:08:08.176 -04:00 [DBG] Start userinfo request
2018-08-10 16:08:08.176 -04:00 [DBG] Start userinfo request
2018-08-10 16:08:08.179 -04:00 [DBG] Bearer token found in header
2018-08-10 16:08:08.179 -04:00 [DBG] Bearer token found in header
2018-08-10 16:08:08.468 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:08.468 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:08.685 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:08.685 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:08.717 -04:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-08-10 16:08:08.717 -04:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-08-10 16:08:08.722 -04:00 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1533931687,
    "exp": 1533935287,
    "iss": "https://localhost:44391",
    "aud": [
      "https://localhost:44391/resources",
      "scope_used_for_hybrid_flow"
    ],
    "client_id": "hybridclient",
    "sub": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
    "auth_time": 1533927956,
    "idp": "Windows",
    "scope": [
      "openid",
      "profile",
      "scope_used_for_hybrid_flow",
      "offline_access"
    ],
    "amr": "external"
  }
}
2018-08-10 16:08:08.722 -04:00 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1533931687,
    "exp": 1533935287,
    "iss": "https://localhost:44391",
    "aud": [
      "https://localhost:44391/resources",
      "scope_used_for_hybrid_flow"
    ],
    "client_id": "hybridclient",
    "sub": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
    "auth_time": 1533927956,
    "idp": "Windows",
    "scope": [
      "openid",
      "profile",
      "scope_used_for_hybrid_flow",
      "offline_access"
    ],
    "amr": "external"
  }
}
2018-08-10 16:08:08.730 -04:00 [DBG] Creating userinfo response
2018-08-10 16:08:08.730 -04:00 [DBG] Creating userinfo response
2018-08-10 16:08:08.734 -04:00 [DBG] Scopes in access token: openid profile scope_used_for_hybrid_flow offline_access
2018-08-10 16:08:08.734 -04:00 [DBG] Scopes in access token: openid profile scope_used_for_hybrid_flow offline_access
2018-08-10 16:08:08.737 -04:00 [DBG] Scopes in access token: openid profile scope_used_for_hybrid_flow offline_access
2018-08-10 16:08:08.737 -04:00 [DBG] Scopes in access token: openid profile scope_used_for_hybrid_flow offline_access
2018-08-10 16:08:08.803 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:08.803 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:08.803 -04:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2018-08-10 16:08:08.803 -04:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2018-08-10 16:08:08.803 -04:00 [DBG] Scopes in access token: openid profile scope_used_for_hybrid_flow offline_access
2018-08-10 16:08:08.804 -04:00 [DBG] Scopes in access token: openid profile scope_used_for_hybrid_flow offline_access
2018-08-10 16:08:08.860 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:08.860 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:08.919 -04:00 [INF] Profile service returned to the following claim types: sub name preferred_username
2018-08-10 16:08:08.921 -04:00 [INF] Profile service returned to the following claim types: sub name preferred_username
2018-08-10 16:08:08.922 -04:00 [DBG] End userinfo request
2018-08-10 16:08:08.922 -04:00 [DBG] End userinfo request
2018-08-10 16:08:21.108 -04:00 [DBG] 3 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:21.108 -04:00 [DBG] 3 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:21.380 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:21.380 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:21.430 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:21.430 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:21.552 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:08:21.553 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:08:25.956 -04:00 [DBG] 3 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:25.956 -04:00 [DBG] 3 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:26.225 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:26.225 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:26.275 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:26.275 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:26.404 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:08:26.404 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:08:36.864 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 16:08:36.865 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 16:08:36.866 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 16:08:36.866 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 16:08:36.866 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 16:08:36.873 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 16:08:36.877 -04:00 [DBG] Start discovery request
2018-08-10 16:08:36.877 -04:00 [DBG] Start discovery request
2018-08-10 16:08:37.095 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-10 16:08:37.095 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-10 16:08:37.235 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 16:08:37.235 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 16:08:37.235 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 16:08:37.235 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 16:08:37.236 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 16:08:37.237 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 16:08:37.241 -04:00 [DBG] Start key discovery request
2018-08-10 16:08:37.241 -04:00 [DBG] Start key discovery request
2018-08-10 16:08:38.659 -04:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-10 16:08:38.659 -04:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-10 16:08:38.659 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-10 16:08:38.659 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-10 16:08:38.659 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-10 16:08:38.661 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-10 16:08:38.661 -04:00 [DBG] Start authorize request
2018-08-10 16:08:38.661 -04:00 [DBG] Start authorize request
2018-08-10 16:08:38.661 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:38.661 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:38.661 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:08:38.661 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:08:38.884 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:39.142 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:39.146 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:08:39.146 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:08:39.226 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:39.226 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:39.421 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 16:08:39.421 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 16:08:39.463 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:39.463 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:39.576 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 16:08:39.576 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 16:08:39.576 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:08:39.576 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:08:39.576 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "RedirectUri": "http://127.0.0.1:45656",
  "AllowedRedirectUris": [
    "http://127.0.0.1:45656"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile native_api",
  "State": "a9a1f3b16f2c0a136ba78d9e8028ceec",
  "Nonce": "f725db21017165024cb11d4a36327afa",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "response_type": "code",
    "nonce": "f725db21017165024cb11d4a36327afa",
    "state": "a9a1f3b16f2c0a136ba78d9e8028ceec",
    "code_challenge": "tFu0r-LYr1Geh_fGsKpAZrqbcX_ZjmWD3BxSEmqZlPI",
    "code_challenge_method": "S256",
    "client_id": "native.code",
    "scope": "openid profile native_api",
    "redirect_uri": "http://127.0.0.1:45656"
  }
}
2018-08-10 16:08:39.580 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "RedirectUri": "http://127.0.0.1:45656",
  "AllowedRedirectUris": [
    "http://127.0.0.1:45656"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile native_api",
  "State": "a9a1f3b16f2c0a136ba78d9e8028ceec",
  "Nonce": "f725db21017165024cb11d4a36327afa",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "response_type": "code",
    "nonce": "f725db21017165024cb11d4a36327afa",
    "state": "a9a1f3b16f2c0a136ba78d9e8028ceec",
    "code_challenge": "tFu0r-LYr1Geh_fGsKpAZrqbcX_ZjmWD3BxSEmqZlPI",
    "code_challenge_method": "S256",
    "client_id": "native.code",
    "scope": "openid profile native_api",
    "redirect_uri": "http://127.0.0.1:45656"
  }
}
2018-08-10 16:08:39.610 -04:00 [DBG] dClHAPVmHhJ1b/kJDkFfBrrruRfX/9GIwUzoayjjKPI= found in database: false
2018-08-10 16:08:39.610 -04:00 [DBG] dClHAPVmHhJ1b/kJDkFfBrrruRfX/9GIwUzoayjjKPI= found in database: false
2018-08-10 16:08:39.611 -04:00 [DBG] user_consent grant with value: native.code|42e7347c-f81b-46bb-81f7-6dff9ecea04a not found in store.
2018-08-10 16:08:39.611 -04:00 [DBG] user_consent grant with value: native.code|42e7347c-f81b-46bb-81f7-6dff9ecea04a not found in store.
2018-08-10 16:08:39.611 -04:00 [DBG] Found no prior consent from consent store, consent is required
2018-08-10 16:08:39.611 -04:00 [DBG] Found no prior consent from consent store, consent is required
2018-08-10 16:08:39.611 -04:00 [INF] Showing consent: User has not yet consented
2018-08-10 16:08:39.613 -04:00 [INF] Showing consent: User has not yet consented
2018-08-10 16:08:39.655 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:08:39.655 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:08:39.935 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:39.935 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:39.935 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:08:39.935 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:08:39.990 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:39.990 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:40.125 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 16:08:40.126 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 16:08:40.182 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:40.182 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:40.321 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 16:08:40.322 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 16:08:40.322 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:08:40.322 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:08:40.583 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:40.583 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:40.634 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:40.634 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:40.760 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 16:08:40.760 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 16:08:45.314 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:08:45.314 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:08:45.582 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:45.582 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:45.582 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:08:45.582 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:08:45.636 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:45.637 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:45.771 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 16:08:45.771 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 16:08:45.830 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:45.830 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:45.979 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 16:08:45.979 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 16:08:45.979 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:08:45.979 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:08:45.995 -04:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-10 16:08:45.995 -04:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-10 16:08:45.995 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-10 16:08:45.995 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-10 16:08:45.995 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-10 16:08:45.998 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-10 16:08:45.998 -04:00 [DBG] Start authorize callback request
2018-08-10 16:08:45.998 -04:00 [DBG] Start authorize callback request
2018-08-10 16:08:45.998 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:45.998 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:45.998 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:08:45.998 -04:00 [DBG] Start authorize request protocol validation
2018-08-10 16:08:46.217 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:46.218 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:46.218 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:08:46.218 -04:00 [DBG] Checking for PKCE parameters
2018-08-10 16:08:46.262 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:46.262 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:46.372 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 16:08:46.372 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 16:08:46.415 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:46.415 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:46.527 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 16:08:46.527 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 16:08:46.528 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:08:46.528 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-10 16:08:46.528 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "RedirectUri": "http://127.0.0.1:45656",
  "AllowedRedirectUris": [
    "http://127.0.0.1:45656"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile native_api",
  "State": "a9a1f3b16f2c0a136ba78d9e8028ceec",
  "Nonce": "f725db21017165024cb11d4a36327afa",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "response_type": "code",
    "nonce": "f725db21017165024cb11d4a36327afa",
    "state": "a9a1f3b16f2c0a136ba78d9e8028ceec",
    "code_challenge": "tFu0r-LYr1Geh_fGsKpAZrqbcX_ZjmWD3BxSEmqZlPI",
    "code_challenge_method": "S256",
    "client_id": "native.code",
    "scope": "openid profile native_api",
    "redirect_uri": "http://127.0.0.1:45656"
  }
}
2018-08-10 16:08:46.535 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "RedirectUri": "http://127.0.0.1:45656",
  "AllowedRedirectUris": [
    "http://127.0.0.1:45656"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile native_api",
  "State": "a9a1f3b16f2c0a136ba78d9e8028ceec",
  "Nonce": "f725db21017165024cb11d4a36327afa",
  "SessionId": "66f316987cf4cf63a9b638551df5d65c",
  "Raw": {
    "response_type": "code",
    "nonce": "f725db21017165024cb11d4a36327afa",
    "state": "a9a1f3b16f2c0a136ba78d9e8028ceec",
    "code_challenge": "tFu0r-LYr1Geh_fGsKpAZrqbcX_ZjmWD3BxSEmqZlPI",
    "code_challenge_method": "S256",
    "client_id": "native.code",
    "scope": "openid profile native_api",
    "redirect_uri": "http://127.0.0.1:45656"
  }
}
2018-08-10 16:08:46.598 -04:00 [DBG] dClHAPVmHhJ1b/kJDkFfBrrruRfX/9GIwUzoayjjKPI= found in database: false
2018-08-10 16:08:46.598 -04:00 [DBG] dClHAPVmHhJ1b/kJDkFfBrrruRfX/9GIwUzoayjjKPI= found in database: false
2018-08-10 16:08:46.598 -04:00 [DBG] user_consent grant with value: native.code|42e7347c-f81b-46bb-81f7-6dff9ecea04a not found in store.
2018-08-10 16:08:46.598 -04:00 [DBG] user_consent grant with value: native.code|42e7347c-f81b-46bb-81f7-6dff9ecea04a not found in store.
2018-08-10 16:08:46.598 -04:00 [DBG] Found no prior consent from consent store, consent is required
2018-08-10 16:08:46.598 -04:00 [DBG] Found no prior consent from consent store, consent is required
2018-08-10 16:08:46.599 -04:00 [INF] User consented to scopes: ["openid","profile","native_api"]
2018-08-10 16:08:46.601 -04:00 [INF] User consented to scopes: openid, profile, native_api
2018-08-10 16:08:46.601 -04:00 [DBG] Client allows remembering consent, and no scopes provided. Removing consent from consent store for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:46.601 -04:00 [DBG] Client allows remembering consent, and no scopes provided. Removing consent from consent store for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:46.627 -04:00 [DBG] no dClHAPVmHhJ1b/kJDkFfBrrruRfX/9GIwUzoayjjKPI= persisted grant found in database
2018-08-10 16:08:46.627 -04:00 [DBG] no dClHAPVmHhJ1b/kJDkFfBrrruRfX/9GIwUzoayjjKPI= persisted grant found in database
2018-08-10 16:08:46.630 -04:00 [DBG] Creating Authorization Code Flow response.
2018-08-10 16:08:46.630 -04:00 [DBG] Creating Authorization Code Flow response.
2018-08-10 16:08:46.664 -04:00 [DBG] qlniOaDbh5NLEtmIE0waNMEg3Kkzs8LKqsJ/vksFj8w= not found in database
2018-08-10 16:08:46.664 -04:00 [DBG] qlniOaDbh5NLEtmIE0waNMEg3Kkzs8LKqsJ/vksFj8w= not found in database
2018-08-10 16:08:46.697 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "RedirectUri": "http://127.0.0.1:45656",
  "Endpoint": "Authorize",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "Scopes": "openid profile native_api",
  "GrantType": "authorization_code",
  "Tokens": [
    {
      "TokenType": "code",
      "TokenValue": "****9f47"
    }
  ],
  "ActivityId": "0HLFUVJLOKBS4:0000000A",
  "TimeStamp": "2018-08-10T20:08:46Z",
  "ProcessId": 17308,
  "LocalIpAddress": "127.0.0.1:28189",
  "RemoteIpAddress": "::1"
}
2018-08-10 16:08:46.699 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "RedirectUri": "http://127.0.0.1:45656",
  "Endpoint": "Authorize",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "Scopes": "openid profile native_api",
  "GrantType": "authorization_code",
  "Tokens": [
    {
      "TokenType": "code",
      "TokenValue": "****9f47"
    }
  ],
  "ActivityId": "0HLFUVJLOKBS4:0000000A",
  "TimeStamp": "2018-08-10T20:08:46Z",
  "ProcessId": 17308,
  "LocalIpAddress": "127.0.0.1:28189",
  "RemoteIpAddress": "::1"
}
2018-08-10 16:08:46.699 -04:00 [INF] Authorize endpoint response
{
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ClientId": "native.code",
  "RedirectUri": "http://127.0.0.1:45656",
  "State": "a9a1f3b16f2c0a136ba78d9e8028ceec",
  "Scope": "openid profile native_api"
}
2018-08-10 16:08:46.701 -04:00 [INF] Authorize endpoint response
{
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ClientId": "native.code",
  "RedirectUri": "http://127.0.0.1:45656",
  "State": "a9a1f3b16f2c0a136ba78d9e8028ceec",
  "Scope": "openid profile native_api"
}
2018-08-10 16:08:46.998 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 16:08:46.998 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 16:08:46.998 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 16:08:46.998 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 16:08:46.998 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 16:08:47.011 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 16:08:47.012 -04:00 [DBG] Start discovery request
2018-08-10 16:08:47.012 -04:00 [DBG] Start discovery request
2018-08-10 16:08:47.179 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-10 16:08:47.179 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-10 16:08:47.213 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 16:08:47.214 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 16:08:47.214 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 16:08:47.214 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 16:08:47.215 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 16:08:47.237 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 16:08:47.237 -04:00 [DBG] Start key discovery request
2018-08-10 16:08:47.238 -04:00 [DBG] Start key discovery request
2018-08-10 16:08:47.355 -04:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-08-10 16:08:47.355 -04:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-08-10 16:08:47.355 -04:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-08-10 16:08:47.356 -04:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-08-10 16:08:47.356 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-08-10 16:08:47.359 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-08-10 16:08:47.360 -04:00 [DBG] Start token request.
2018-08-10 16:08:47.360 -04:00 [DBG] Start token request.
2018-08-10 16:08:47.360 -04:00 [DBG] Start client validation
2018-08-10 16:08:47.360 -04:00 [DBG] Start client validation
2018-08-10 16:08:47.360 -04:00 [DBG] Start parsing Basic Authentication secret
2018-08-10 16:08:47.360 -04:00 [DBG] Start parsing Basic Authentication secret
2018-08-10 16:08:47.360 -04:00 [DBG] Start parsing for secret in post body
2018-08-10 16:08:47.360 -04:00 [DBG] Start parsing for secret in post body
2018-08-10 16:08:47.360 -04:00 [DBG] client id without secret found
2018-08-10 16:08:47.361 -04:00 [DBG] client id without secret found
2018-08-10 16:08:47.361 -04:00 [DBG] Parser found secret: PostBodySecretParser
2018-08-10 16:08:47.361 -04:00 [DBG] Parser found secret: PostBodySecretParser
2018-08-10 16:08:47.361 -04:00 [DBG] Secret id found: native.code
2018-08-10 16:08:47.361 -04:00 [DBG] Secret id found: native.code
2018-08-10 16:08:47.593 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:47.593 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:47.593 -04:00 [DBG] Public Client - skipping secret validation success
2018-08-10 16:08:47.593 -04:00 [DBG] Public Client - skipping secret validation success
2018-08-10 16:08:47.593 -04:00 [DBG] Client validation success
2018-08-10 16:08:47.593 -04:00 [DBG] Client validation success
2018-08-10 16:08:47.593 -04:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "native.code",
  "AuthenticationMethod": "NoSecret",
  "ActivityId": "0HLFUVJLOKBS7:00000009",
  "TimeStamp": "2018-08-10T20:08:47Z",
  "ProcessId": 17308,
  "LocalIpAddress": "127.0.0.1:28189",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-10 16:08:47.596 -04:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "native.code",
  "AuthenticationMethod": "NoSecret",
  "ActivityId": "0HLFUVJLOKBS7:00000009",
  "TimeStamp": "2018-08-10T20:08:47Z",
  "ProcessId": 17308,
  "LocalIpAddress": "127.0.0.1:28189",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-10 16:08:47.596 -04:00 [DBG] Start token request validation
2018-08-10 16:08:47.596 -04:00 [DBG] Start token request validation
2018-08-10 16:08:47.596 -04:00 [DBG] Start validation of authorization code token request
2018-08-10 16:08:47.596 -04:00 [DBG] Start validation of authorization code token request
2018-08-10 16:08:47.628 -04:00 [DBG] qlniOaDbh5NLEtmIE0waNMEg3Kkzs8LKqsJ/vksFj8w= found in database: true
2018-08-10 16:08:47.628 -04:00 [DBG] qlniOaDbh5NLEtmIE0waNMEg3Kkzs8LKqsJ/vksFj8w= found in database: true
2018-08-10 16:08:47.657 -04:00 [DBG] removing qlniOaDbh5NLEtmIE0waNMEg3Kkzs8LKqsJ/vksFj8w= persisted grant from database
2018-08-10 16:08:47.657 -04:00 [DBG] removing qlniOaDbh5NLEtmIE0waNMEg3Kkzs8LKqsJ/vksFj8w= persisted grant from database
2018-08-10 16:08:47.687 -04:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2018-08-10 16:08:47.687 -04:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2018-08-10 16:08:47.716 -04:00 [DBG] Validation of authorization code token request success
2018-08-10 16:08:47.716 -04:00 [DBG] Validation of authorization code token request success
2018-08-10 16:08:47.716 -04:00 [INF] Token request validation success
{
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "GrantType": "authorization_code",
  "AuthorizationCode": "8e41e71bced3cfb7f574da46b8231e3e86a04eb7cd1dbec93b1cbb30a9dc9f47",
  "Raw": {
    "grant_type": "authorization_code",
    "code": "8e41e71bced3cfb7f574da46b8231e3e86a04eb7cd1dbec93b1cbb30a9dc9f47",
    "redirect_uri": "http://127.0.0.1:45656",
    "code_verifier": "eb022afa705c0326a9ab16df1913fa2a33d734c64c9851a73172dd6716595849",
    "client_id": "native.code"
  }
}
2018-08-10 16:08:47.718 -04:00 [INF] Token request validation success
{
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "GrantType": "authorization_code",
  "AuthorizationCode": "8e41e71bced3cfb7f574da46b8231e3e86a04eb7cd1dbec93b1cbb30a9dc9f47",
  "Raw": {
    "grant_type": "authorization_code",
    "code": "8e41e71bced3cfb7f574da46b8231e3e86a04eb7cd1dbec93b1cbb30a9dc9f47",
    "redirect_uri": "http://127.0.0.1:45656",
    "code_verifier": "eb022afa705c0326a9ab16df1913fa2a33d734c64c9851a73172dd6716595849",
    "client_id": "native.code"
  }
}
2018-08-10 16:08:47.999 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:47.999 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:48.053 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:48.053 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:48.197 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 16:08:48.197 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 16:08:48.197 -04:00 [DBG] Getting claims for access token for client: native.code
2018-08-10 16:08:48.197 -04:00 [DBG] Getting claims for access token for client: native.code
2018-08-10 16:08:48.197 -04:00 [DBG] Getting claims for access token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:48.198 -04:00 [DBG] Getting claims for access token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:48.536 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:48.536 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:48.595 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:48.595 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:48.738 -04:00 [DBG] Found ["native_api"] API scopes in database
2018-08-10 16:08:48.738 -04:00 [DBG] Found native_api API scopes in database
2018-08-10 16:08:48.738 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: native.code
2018-08-10 16:08:48.738 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: native.code
2018-08-10 16:08:48.738 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-10 16:08:48.739 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-10 16:08:48.741 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "Endpoint": "Token",
  "Scopes": "openid profile native_api",
  "GrantType": "authorization_code",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****h5DQ"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****b1Lg"
    }
  ],
  "ActivityId": "0HLFUVJLOKBS7:00000009",
  "TimeStamp": "2018-08-10T20:08:48Z",
  "ProcessId": 17308,
  "LocalIpAddress": "127.0.0.1:28189",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-10 16:08:48.743 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "native.code",
  "ClientName": "Native Client (Code with PKCE)",
  "Endpoint": "Token",
  "Scopes": "openid profile native_api",
  "GrantType": "authorization_code",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****h5DQ"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****b1Lg"
    }
  ],
  "ActivityId": "0HLFUVJLOKBS7:00000009",
  "TimeStamp": "2018-08-10T20:08:48Z",
  "ProcessId": 17308,
  "LocalIpAddress": "127.0.0.1:28189",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-10 16:08:48.743 -04:00 [DBG] Token request success.
2018-08-10 16:08:48.743 -04:00 [DBG] Token request success.
2018-08-10 16:08:48.994 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 16:08:48.994 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 16:08:48.994 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 16:08:48.994 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 16:08:48.994 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 16:08:48.997 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 16:08:48.997 -04:00 [DBG] Start discovery request
2018-08-10 16:08:48.997 -04:00 [DBG] Start discovery request
2018-08-10 16:08:49.157 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-10 16:08:49.157 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-10 16:08:49.194 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 16:08:49.194 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 16:08:49.195 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 16:08:49.195 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 16:08:49.195 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 16:08:49.198 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 16:08:49.198 -04:00 [DBG] Start key discovery request
2018-08-10 16:08:49.198 -04:00 [DBG] Start key discovery request
2018-08-10 16:08:49.249 -04:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2018-08-10 16:08:49.249 -04:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2018-08-10 16:08:49.249 -04:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2018-08-10 16:08:49.249 -04:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2018-08-10 16:08:49.249 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-08-10 16:08:49.254 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-08-10 16:08:49.255 -04:00 [DBG] Start userinfo request
2018-08-10 16:08:49.255 -04:00 [DBG] Start userinfo request
2018-08-10 16:08:49.255 -04:00 [DBG] Bearer token found in header
2018-08-10 16:08:49.255 -04:00 [DBG] Bearer token found in header
2018-08-10 16:08:49.492 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:49.492 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:49.716 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:49.717 -04:00 [DBG] native.code found in database: true
2018-08-10 16:08:49.749 -04:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-08-10 16:08:49.749 -04:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-08-10 16:08:49.749 -04:00 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1533931728,
    "exp": 1533935328,
    "iss": "https://localhost:44391",
    "aud": [
      "https://localhost:44391/resources",
      "native_api"
    ],
    "client_id": "native.code",
    "sub": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
    "auth_time": 1533927956,
    "idp": "Windows",
    "scope": [
      "openid",
      "profile",
      "native_api"
    ],
    "amr": "external"
  }
}
2018-08-10 16:08:49.749 -04:00 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1533931728,
    "exp": 1533935328,
    "iss": "https://localhost:44391",
    "aud": [
      "https://localhost:44391/resources",
      "native_api"
    ],
    "client_id": "native.code",
    "sub": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
    "auth_time": 1533927956,
    "idp": "Windows",
    "scope": [
      "openid",
      "profile",
      "native_api"
    ],
    "amr": "external"
  }
}
2018-08-10 16:08:49.749 -04:00 [DBG] Creating userinfo response
2018-08-10 16:08:49.750 -04:00 [DBG] Creating userinfo response
2018-08-10 16:08:49.750 -04:00 [DBG] Scopes in access token: openid profile native_api
2018-08-10 16:08:49.750 -04:00 [DBG] Scopes in access token: openid profile native_api
2018-08-10 16:08:49.750 -04:00 [DBG] Scopes in access token: openid profile native_api
2018-08-10 16:08:49.750 -04:00 [DBG] Scopes in access token: openid profile native_api
2018-08-10 16:08:49.813 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:49.814 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:49.814 -04:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2018-08-10 16:08:49.814 -04:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2018-08-10 16:08:49.814 -04:00 [DBG] Scopes in access token: openid profile native_api
2018-08-10 16:08:49.814 -04:00 [DBG] Scopes in access token: openid profile native_api
2018-08-10 16:08:49.867 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:49.867 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:49.921 -04:00 [INF] Profile service returned to the following claim types: sub name preferred_username
2018-08-10 16:08:49.923 -04:00 [INF] Profile service returned to the following claim types: sub name preferred_username
2018-08-10 16:08:49.923 -04:00 [DBG] End userinfo request
2018-08-10 16:08:49.923 -04:00 [DBG] End userinfo request
2018-08-10 16:08:50.978 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 16:08:50.978 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-10 16:08:50.978 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 16:08:50.979 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-10 16:08:50.979 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 16:08:50.982 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-10 16:08:50.983 -04:00 [DBG] Start discovery request
2018-08-10 16:08:50.983 -04:00 [DBG] Start discovery request
2018-08-10 16:08:51.140 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-10 16:08:51.140 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-10 16:08:51.201 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 16:08:51.201 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-10 16:08:51.201 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 16:08:51.201 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-10 16:08:51.201 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 16:08:51.207 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-10 16:08:51.207 -04:00 [DBG] Start key discovery request
2018-08-10 16:08:51.207 -04:00 [DBG] Start key discovery request
2018-08-10 16:08:54.595 -04:00 [DBG] 3 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:54.595 -04:00 [DBG] 3 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:54.860 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:54.861 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:54.911 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:54.912 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:55.039 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:08:55.039 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:08:57.747 -04:00 [DBG] 3 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:57.747 -04:00 [DBG] 3 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-10 16:08:58.020 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:58.021 -04:00 [DBG] hybridclient found in database: true
2018-08-10 16:08:58.072 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-10 16:08:58.072 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-10 16:08:58.201 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-10 16:08:58.201 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-10 16:10:04.482 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-10 16:10:04.520 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-10 16:10:04.520 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-10 16:10:04.520 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-10 16:10:04.520 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-10 16:10:04.520 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-10 16:10:04.521 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-10 16:10:04.521 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-10 16:10:04.521 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-10 16:10:04.521 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-16 09:58:16.667 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-16 09:58:16.714 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-16 09:58:16.714 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-16 09:58:16.714 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-16 09:58:16.714 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-16 09:58:16.714 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-16 09:58:16.715 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-16 09:58:16.715 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-16 09:58:16.715 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-16 09:58:16.715 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-16 10:19:55.154 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 10:19:55.158 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 10:19:57.464 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 10:19:57.464 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 10:19:57.464 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 10:19:57.467 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 10:19:57.470 -04:00 [DBG] Start discovery request
2018-08-16 10:19:57.470 -04:00 [DBG] Start discovery request
2018-08-16 10:19:58.852 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-16 10:19:58.861 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-16 10:19:59.185 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-16 10:19:59.185 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-16 10:19:59.186 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-16 10:19:59.186 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-16 10:19:59.186 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-16 10:19:59.200 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-16 10:19:59.203 -04:00 [DBG] Start key discovery request
2018-08-16 10:19:59.204 -04:00 [DBG] Start key discovery request
2018-08-16 10:19:59.431 -04:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-16 10:19:59.431 -04:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-16 10:19:59.434 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-16 10:19:59.434 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-16 10:19:59.434 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-16 10:19:59.438 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-16 10:19:59.442 -04:00 [DBG] Start authorize request
2018-08-16 10:19:59.442 -04:00 [DBG] Start authorize request
2018-08-16 10:19:59.456 -04:00 [DBG] No user present in authorize request
2018-08-16 10:19:59.456 -04:00 [DBG] No user present in authorize request
2018-08-16 10:19:59.460 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:19:59.461 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:19:59.667 -04:00 [DBG] oauthClient found in database: false
2018-08-16 10:19:59.668 -04:00 [DBG] oauthClient found in database: false
2018-08-16 10:19:59.682 -04:00 [ERR] Unknown client or not enabled: oauthClient
{
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "oauthClient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile customAPI.read",
    "response_mode": "form_post",
    "nonce": "636700259993870481.YTY5MGI5ZTQtN2JkMi00NGUxLThlZGYtYTg5YTUxYTE1NzYyN2YxM2NmZGQtMTQ4MS00ZWIxLTliYmQtNDRhYTJkMDlkNDZj",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O3-DVQt-21RJ8tBFenC-YEHkUOI97wD-N0wXbMtmD67mjBp0z3QNS3nddzQiOKwglwzbHTti4plLheMPf47EDcWiT2tOIQK_DdBXX0z2vICzt_sJ2LpoFvsORFeX9OZaMthlxuimtZcwqsIX_caSYl9hWH6ImyAZVaxhVySa-gthzmY4qbblzPrNtngRONDdV07kMPobJ69EI6kwDITuRD0QkkPzDmD7Qii1dylzzTJ1vEdJb5Ivi-OcfFPlRua5XQSoqX6jS2nnQonX2lT58j5eD73al0jXHh8ggGbuLzzCdpSAGWem3NhIIgXr5yuq9s",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:19:59.691 -04:00 [ERR] Unknown client or not enabled: oauthClient
{
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "oauthClient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile customAPI.read",
    "response_mode": "form_post",
    "nonce": "636700259993870481.YTY5MGI5ZTQtN2JkMi00NGUxLThlZGYtYTg5YTUxYTE1NzYyN2YxM2NmZGQtMTQ4MS00ZWIxLTliYmQtNDRhYTJkMDlkNDZj",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O3-DVQt-21RJ8tBFenC-YEHkUOI97wD-N0wXbMtmD67mjBp0z3QNS3nddzQiOKwglwzbHTti4plLheMPf47EDcWiT2tOIQK_DdBXX0z2vICzt_sJ2LpoFvsORFeX9OZaMthlxuimtZcwqsIX_caSYl9hWH6ImyAZVaxhVySa-gthzmY4qbblzPrNtngRONDdV07kMPobJ69EI6kwDITuRD0QkkPzDmD7Qii1dylzzTJ1vEdJb5Ivi-OcfFPlRua5XQSoqX6jS2nnQonX2lT58j5eD73al0jXHh8ggGbuLzzCdpSAGWem3NhIIgXr5yuq9s",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:19:59.693 -04:00 [ERR] Request validation failed
2018-08-16 10:19:59.696 -04:00 [ERR] Request validation failed
2018-08-16 10:19:59.696 -04:00 [INF] {
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "oauthClient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile customAPI.read",
    "response_mode": "form_post",
    "nonce": "636700259993870481.YTY5MGI5ZTQtN2JkMi00NGUxLThlZGYtYTg5YTUxYTE1NzYyN2YxM2NmZGQtMTQ4MS00ZWIxLTliYmQtNDRhYTJkMDlkNDZj",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O3-DVQt-21RJ8tBFenC-YEHkUOI97wD-N0wXbMtmD67mjBp0z3QNS3nddzQiOKwglwzbHTti4plLheMPf47EDcWiT2tOIQK_DdBXX0z2vICzt_sJ2LpoFvsORFeX9OZaMthlxuimtZcwqsIX_caSYl9hWH6ImyAZVaxhVySa-gthzmY4qbblzPrNtngRONDdV07kMPobJ69EI6kwDITuRD0QkkPzDmD7Qii1dylzzTJ1vEdJb5Ivi-OcfFPlRua5XQSoqX6jS2nnQonX2lT58j5eD73al0jXHh8ggGbuLzzCdpSAGWem3NhIIgXr5yuq9s",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:19:59.698 -04:00 [INF] {
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "oauthClient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile customAPI.read",
    "response_mode": "form_post",
    "nonce": "636700259993870481.YTY5MGI5ZTQtN2JkMi00NGUxLThlZGYtYTg5YTUxYTE1NzYyN2YxM2NmZGQtMTQ4MS00ZWIxLTliYmQtNDRhYTJkMDlkNDZj",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O3-DVQt-21RJ8tBFenC-YEHkUOI97wD-N0wXbMtmD67mjBp0z3QNS3nddzQiOKwglwzbHTti4plLheMPf47EDcWiT2tOIQK_DdBXX0z2vICzt_sJ2LpoFvsORFeX9OZaMthlxuimtZcwqsIX_caSYl9hWH6ImyAZVaxhVySa-gthzmY4qbblzPrNtngRONDdV07kMPobJ69EI6kwDITuRD0QkkPzDmD7Qii1dylzzTJ1vEdJb5Ivi-OcfFPlRua5XQSoqX6jS2nnQonX2lT58j5eD73al0jXHh8ggGbuLzzCdpSAGWem3NhIIgXr5yuq9s",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:19:59.744 -04:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "oauthClient",
  "Endpoint": "Authorize",
  "Scopes": "",
  "Error": "unauthorized_client",
  "ActivityId": "0HLG3G18FPNMO:00000003",
  "TimeStamp": "2018-08-16T14:19:59Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "::1"
}
2018-08-16 10:19:59.750 -04:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "oauthClient",
  "Endpoint": "Authorize",
  "Scopes": "",
  "Error": "unauthorized_client",
  "ActivityId": "0HLG3G18FPNMO:00000003",
  "TimeStamp": "2018-08-16T14:19:59Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "::1"
}
2018-08-16 10:23:28.367 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 10:23:28.367 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 10:23:28.367 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 10:23:28.367 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 10:23:28.368 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 10:23:28.371 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 10:23:28.372 -04:00 [DBG] Start discovery request
2018-08-16 10:23:28.372 -04:00 [DBG] Start discovery request
2018-08-16 10:23:28.530 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-16 10:23:28.530 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-16 10:23:28.680 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-16 10:23:28.680 -04:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-16 10:23:28.680 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-16 10:23:28.680 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-16 10:23:28.680 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-16 10:23:28.684 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-16 10:23:28.684 -04:00 [DBG] Start key discovery request
2018-08-16 10:23:28.684 -04:00 [DBG] Start key discovery request
2018-08-16 10:23:28.783 -04:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-16 10:23:28.783 -04:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-16 10:23:28.783 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-16 10:23:28.783 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-16 10:23:28.783 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-16 10:23:28.786 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-16 10:23:28.786 -04:00 [DBG] Start authorize request
2018-08-16 10:23:28.786 -04:00 [DBG] Start authorize request
2018-08-16 10:23:28.787 -04:00 [DBG] No user present in authorize request
2018-08-16 10:23:28.787 -04:00 [DBG] No user present in authorize request
2018-08-16 10:23:28.787 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:23:28.787 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:23:29.212 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:29.212 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:29.217 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:23:29.217 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:23:29.218 -04:00 [DBG] No PKCE used.
2018-08-16 10:23:29.219 -04:00 [DBG] No PKCE used.
2018-08-16 10:23:29.306 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:23:29.306 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:23:29.529 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:23:29.529 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:23:29.585 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:23:29.586 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:23:29.698 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:23:29.699 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:23:29.706 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:23:29.706 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:23:29.708 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O3g82CAh1tBCs7w8x8Lojw3Xa4vQMw3eCFtJt0QaPvPlMQsh8UhTweE68V5hV3eWzCswsh_CKh0BGGy9tg5ouuyTVIoMOib5sjtgtSbIq3PGWhFU3P1M6KxlEhQJnJAW7eMQnh73RnxKIQh2HT5YChDMVwsPXHIR6BCUHcrVpOkvKLfHNLc6MRfk_K1J0FFHHpn76yzTrJBlEIDjz-mRislG5Zjkxslds9i4fDFz9PI4JJkvqufX99HPTjSXjHoK_hXxstio1ZLBYa5RyVS4SlrnQ7OsLVGXkkSicT156D_TftdDvJWnSYCHJtfj5l6L3k",
  "Nonce": "636700262087460481.YmVkZjUwMTktZWQ1NC00Zjk0LTk0ZGUtYTZiMGZmNTIxMzNhMzk5MzhlMDYtZDY1Yi00YzY4LTg5OTYtNDVlOGU0ZWRmY2Mx",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636700262087460481.YmVkZjUwMTktZWQ1NC00Zjk0LTk0ZGUtYTZiMGZmNTIxMzNhMzk5MzhlMDYtZDY1Yi00YzY4LTg5OTYtNDVlOGU0ZWRmY2Mx",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O3g82CAh1tBCs7w8x8Lojw3Xa4vQMw3eCFtJt0QaPvPlMQsh8UhTweE68V5hV3eWzCswsh_CKh0BGGy9tg5ouuyTVIoMOib5sjtgtSbIq3PGWhFU3P1M6KxlEhQJnJAW7eMQnh73RnxKIQh2HT5YChDMVwsPXHIR6BCUHcrVpOkvKLfHNLc6MRfk_K1J0FFHHpn76yzTrJBlEIDjz-mRislG5Zjkxslds9i4fDFz9PI4JJkvqufX99HPTjSXjHoK_hXxstio1ZLBYa5RyVS4SlrnQ7OsLVGXkkSicT156D_TftdDvJWnSYCHJtfj5l6L3k",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:23:29.710 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O3g82CAh1tBCs7w8x8Lojw3Xa4vQMw3eCFtJt0QaPvPlMQsh8UhTweE68V5hV3eWzCswsh_CKh0BGGy9tg5ouuyTVIoMOib5sjtgtSbIq3PGWhFU3P1M6KxlEhQJnJAW7eMQnh73RnxKIQh2HT5YChDMVwsPXHIR6BCUHcrVpOkvKLfHNLc6MRfk_K1J0FFHHpn76yzTrJBlEIDjz-mRislG5Zjkxslds9i4fDFz9PI4JJkvqufX99HPTjSXjHoK_hXxstio1ZLBYa5RyVS4SlrnQ7OsLVGXkkSicT156D_TftdDvJWnSYCHJtfj5l6L3k",
  "Nonce": "636700262087460481.YmVkZjUwMTktZWQ1NC00Zjk0LTk0ZGUtYTZiMGZmNTIxMzNhMzk5MzhlMDYtZDY1Yi00YzY4LTg5OTYtNDVlOGU0ZWRmY2Mx",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636700262087460481.YmVkZjUwMTktZWQ1NC00Zjk0LTk0ZGUtYTZiMGZmNTIxMzNhMzk5MzhlMDYtZDY1Yi00YzY4LTg5OTYtNDVlOGU0ZWRmY2Mx",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O3g82CAh1tBCs7w8x8Lojw3Xa4vQMw3eCFtJt0QaPvPlMQsh8UhTweE68V5hV3eWzCswsh_CKh0BGGy9tg5ouuyTVIoMOib5sjtgtSbIq3PGWhFU3P1M6KxlEhQJnJAW7eMQnh73RnxKIQh2HT5YChDMVwsPXHIR6BCUHcrVpOkvKLfHNLc6MRfk_K1J0FFHHpn76yzTrJBlEIDjz-mRislG5Zjkxslds9i4fDFz9PI4JJkvqufX99HPTjSXjHoK_hXxstio1ZLBYa5RyVS4SlrnQ7OsLVGXkkSicT156D_TftdDvJWnSYCHJtfj5l6L3k",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:23:29.719 -04:00 [INF] Showing login: User is not authenticated
2018-08-16 10:23:29.721 -04:00 [INF] Showing login: User is not authenticated
2018-08-16 10:23:29.775 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:23:29.776 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:23:30.068 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:30.068 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:30.068 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:23:30.068 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:23:30.068 -04:00 [DBG] No PKCE used.
2018-08-16 10:23:30.068 -04:00 [DBG] No PKCE used.
2018-08-16 10:23:30.122 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:23:30.123 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:23:30.253 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:23:30.253 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:23:30.309 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:23:30.309 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:23:30.443 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:23:30.443 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:23:30.444 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:23:30.444 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:23:30.699 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:30.699 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:36.543 -04:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-16 10:23:36.546 -04:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-16 10:23:37.089 -04:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Windows",
  "ProviderUserId": "OFINA\\ikorolenko",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "DisplayName": "OFINA\\ikorolenko",
  "Endpoint": "UI",
  "ActivityId": "0HLG3G18FPNN0:00000002",
  "TimeStamp": "2018-08-16T14:23:37Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "::1"
}
2018-08-16 10:23:37.091 -04:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Windows",
  "ProviderUserId": "OFINA\\ikorolenko",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "DisplayName": "OFINA\\ikorolenko",
  "Endpoint": "UI",
  "ActivityId": "0HLG3G18FPNN0:00000002",
  "TimeStamp": "2018-08-16T14:23:37Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "::1"
}
2018-08-16 10:23:37.102 -04:00 [DBG] Augmenting SignInContext
2018-08-16 10:23:37.102 -04:00 [DBG] Augmenting SignInContext
2018-08-16 10:23:37.105 -04:00 [DBG] Adding amr claim with value: external
2018-08-16 10:23:37.105 -04:00 [DBG] Adding amr claim with value: external
2018-08-16 10:23:37.110 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-16 10:23:37.112 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-16 10:23:37.127 -04:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-16 10:23:37.130 -04:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-16 10:23:37.161 -04:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-16 10:23:37.161 -04:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-16 10:23:37.162 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-16 10:23:37.162 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-16 10:23:37.162 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-16 10:23:37.164 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-16 10:23:37.170 -04:00 [DBG] Start authorize callback request
2018-08-16 10:23:37.170 -04:00 [DBG] Start authorize callback request
2018-08-16 10:23:37.174 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:23:37.174 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:23:37.174 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:23:37.175 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:23:37.411 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:37.412 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:37.412 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:23:37.412 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:23:37.412 -04:00 [DBG] No PKCE used.
2018-08-16 10:23:37.412 -04:00 [DBG] No PKCE used.
2018-08-16 10:23:37.458 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:23:37.458 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:23:37.580 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:23:37.580 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:23:37.627 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:23:37.627 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:23:37.740 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:23:37.740 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:23:37.740 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:23:37.740 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:23:37.740 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O3g82CAh1tBCs7w8x8Lojw3Xa4vQMw3eCFtJt0QaPvPlMQsh8UhTweE68V5hV3eWzCswsh_CKh0BGGy9tg5ouuyTVIoMOib5sjtgtSbIq3PGWhFU3P1M6KxlEhQJnJAW7eMQnh73RnxKIQh2HT5YChDMVwsPXHIR6BCUHcrVpOkvKLfHNLc6MRfk_K1J0FFHHpn76yzTrJBlEIDjz-mRislG5Zjkxslds9i4fDFz9PI4JJkvqufX99HPTjSXjHoK_hXxstio1ZLBYa5RyVS4SlrnQ7OsLVGXkkSicT156D_TftdDvJWnSYCHJtfj5l6L3k",
  "Nonce": "636700262087460481.YmVkZjUwMTktZWQ1NC00Zjk0LTk0ZGUtYTZiMGZmNTIxMzNhMzk5MzhlMDYtZDY1Yi00YzY4LTg5OTYtNDVlOGU0ZWRmY2Mx",
  "SessionId": "cd3c4c2a40df7e13197794a8b91832d9",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636700262087460481.YmVkZjUwMTktZWQ1NC00Zjk0LTk0ZGUtYTZiMGZmNTIxMzNhMzk5MzhlMDYtZDY1Yi00YzY4LTg5OTYtNDVlOGU0ZWRmY2Mx",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O3g82CAh1tBCs7w8x8Lojw3Xa4vQMw3eCFtJt0QaPvPlMQsh8UhTweE68V5hV3eWzCswsh_CKh0BGGy9tg5ouuyTVIoMOib5sjtgtSbIq3PGWhFU3P1M6KxlEhQJnJAW7eMQnh73RnxKIQh2HT5YChDMVwsPXHIR6BCUHcrVpOkvKLfHNLc6MRfk_K1J0FFHHpn76yzTrJBlEIDjz-mRislG5Zjkxslds9i4fDFz9PI4JJkvqufX99HPTjSXjHoK_hXxstio1ZLBYa5RyVS4SlrnQ7OsLVGXkkSicT156D_TftdDvJWnSYCHJtfj5l6L3k",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:23:37.743 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O3g82CAh1tBCs7w8x8Lojw3Xa4vQMw3eCFtJt0QaPvPlMQsh8UhTweE68V5hV3eWzCswsh_CKh0BGGy9tg5ouuyTVIoMOib5sjtgtSbIq3PGWhFU3P1M6KxlEhQJnJAW7eMQnh73RnxKIQh2HT5YChDMVwsPXHIR6BCUHcrVpOkvKLfHNLc6MRfk_K1J0FFHHpn76yzTrJBlEIDjz-mRislG5Zjkxslds9i4fDFz9PI4JJkvqufX99HPTjSXjHoK_hXxstio1ZLBYa5RyVS4SlrnQ7OsLVGXkkSicT156D_TftdDvJWnSYCHJtfj5l6L3k",
  "Nonce": "636700262087460481.YmVkZjUwMTktZWQ1NC00Zjk0LTk0ZGUtYTZiMGZmNTIxMzNhMzk5MzhlMDYtZDY1Yi00YzY4LTg5OTYtNDVlOGU0ZWRmY2Mx",
  "SessionId": "cd3c4c2a40df7e13197794a8b91832d9",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636700262087460481.YmVkZjUwMTktZWQ1NC00Zjk0LTk0ZGUtYTZiMGZmNTIxMzNhMzk5MzhlMDYtZDY1Yi00YzY4LTg5OTYtNDVlOGU0ZWRmY2Mx",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O3g82CAh1tBCs7w8x8Lojw3Xa4vQMw3eCFtJt0QaPvPlMQsh8UhTweE68V5hV3eWzCswsh_CKh0BGGy9tg5ouuyTVIoMOib5sjtgtSbIq3PGWhFU3P1M6KxlEhQJnJAW7eMQnh73RnxKIQh2HT5YChDMVwsPXHIR6BCUHcrVpOkvKLfHNLc6MRfk_K1J0FFHHpn76yzTrJBlEIDjz-mRislG5Zjkxslds9i4fDFz9PI4JJkvqufX99HPTjSXjHoK_hXxstio1ZLBYa5RyVS4SlrnQ7OsLVGXkkSicT156D_TftdDvJWnSYCHJtfj5l6L3k",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:23:37.820 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-16 10:23:37.820 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-16 10:23:37.820 -04:00 [INF] Showing consent: User has not yet consented
2018-08-16 10:23:37.824 -04:00 [INF] Showing consent: User has not yet consented
2018-08-16 10:23:37.897 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:23:37.897 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:23:38.185 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:38.185 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:38.185 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:23:38.185 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:23:38.185 -04:00 [DBG] No PKCE used.
2018-08-16 10:23:38.185 -04:00 [DBG] No PKCE used.
2018-08-16 10:23:38.245 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:23:38.246 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:23:38.385 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:23:38.385 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:23:38.446 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:23:38.446 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:23:38.591 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:23:38.591 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:23:38.592 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:23:38.592 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:23:38.846 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:38.846 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:38.900 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:23:38.900 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:23:39.102 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:23:39.102 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:23:51.450 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:23:51.450 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:23:51.731 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:51.731 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:51.731 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:23:51.731 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:23:51.731 -04:00 [DBG] No PKCE used.
2018-08-16 10:23:51.731 -04:00 [DBG] No PKCE used.
2018-08-16 10:23:51.786 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:23:51.786 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:23:51.934 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:23:51.935 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:23:51.990 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:23:51.990 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:23:52.132 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:23:52.132 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:23:52.132 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:23:52.132 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:23:52.166 -04:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-16 10:23:52.166 -04:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-16 10:23:52.166 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-16 10:23:52.166 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-16 10:23:52.166 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-16 10:23:52.170 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-16 10:23:52.170 -04:00 [DBG] Start authorize callback request
2018-08-16 10:23:52.170 -04:00 [DBG] Start authorize callback request
2018-08-16 10:23:52.177 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:23:52.177 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:23:52.177 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:23:52.177 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:23:52.412 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:52.412 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:52.412 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:23:52.412 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:23:52.412 -04:00 [DBG] No PKCE used.
2018-08-16 10:23:52.412 -04:00 [DBG] No PKCE used.
2018-08-16 10:23:52.464 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:23:52.464 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:23:52.573 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:23:52.573 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:23:52.621 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:23:52.621 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:23:52.737 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:23:52.737 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:23:52.737 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:23:52.737 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:23:52.737 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O3g82CAh1tBCs7w8x8Lojw3Xa4vQMw3eCFtJt0QaPvPlMQsh8UhTweE68V5hV3eWzCswsh_CKh0BGGy9tg5ouuyTVIoMOib5sjtgtSbIq3PGWhFU3P1M6KxlEhQJnJAW7eMQnh73RnxKIQh2HT5YChDMVwsPXHIR6BCUHcrVpOkvKLfHNLc6MRfk_K1J0FFHHpn76yzTrJBlEIDjz-mRislG5Zjkxslds9i4fDFz9PI4JJkvqufX99HPTjSXjHoK_hXxstio1ZLBYa5RyVS4SlrnQ7OsLVGXkkSicT156D_TftdDvJWnSYCHJtfj5l6L3k",
  "Nonce": "636700262087460481.YmVkZjUwMTktZWQ1NC00Zjk0LTk0ZGUtYTZiMGZmNTIxMzNhMzk5MzhlMDYtZDY1Yi00YzY4LTg5OTYtNDVlOGU0ZWRmY2Mx",
  "SessionId": "cd3c4c2a40df7e13197794a8b91832d9",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636700262087460481.YmVkZjUwMTktZWQ1NC00Zjk0LTk0ZGUtYTZiMGZmNTIxMzNhMzk5MzhlMDYtZDY1Yi00YzY4LTg5OTYtNDVlOGU0ZWRmY2Mx",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O3g82CAh1tBCs7w8x8Lojw3Xa4vQMw3eCFtJt0QaPvPlMQsh8UhTweE68V5hV3eWzCswsh_CKh0BGGy9tg5ouuyTVIoMOib5sjtgtSbIq3PGWhFU3P1M6KxlEhQJnJAW7eMQnh73RnxKIQh2HT5YChDMVwsPXHIR6BCUHcrVpOkvKLfHNLc6MRfk_K1J0FFHHpn76yzTrJBlEIDjz-mRislG5Zjkxslds9i4fDFz9PI4JJkvqufX99HPTjSXjHoK_hXxstio1ZLBYa5RyVS4SlrnQ7OsLVGXkkSicT156D_TftdDvJWnSYCHJtfj5l6L3k",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:23:52.739 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O3g82CAh1tBCs7w8x8Lojw3Xa4vQMw3eCFtJt0QaPvPlMQsh8UhTweE68V5hV3eWzCswsh_CKh0BGGy9tg5ouuyTVIoMOib5sjtgtSbIq3PGWhFU3P1M6KxlEhQJnJAW7eMQnh73RnxKIQh2HT5YChDMVwsPXHIR6BCUHcrVpOkvKLfHNLc6MRfk_K1J0FFHHpn76yzTrJBlEIDjz-mRislG5Zjkxslds9i4fDFz9PI4JJkvqufX99HPTjSXjHoK_hXxstio1ZLBYa5RyVS4SlrnQ7OsLVGXkkSicT156D_TftdDvJWnSYCHJtfj5l6L3k",
  "Nonce": "636700262087460481.YmVkZjUwMTktZWQ1NC00Zjk0LTk0ZGUtYTZiMGZmNTIxMzNhMzk5MzhlMDYtZDY1Yi00YzY4LTg5OTYtNDVlOGU0ZWRmY2Mx",
  "SessionId": "cd3c4c2a40df7e13197794a8b91832d9",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636700262087460481.YmVkZjUwMTktZWQ1NC00Zjk0LTk0ZGUtYTZiMGZmNTIxMzNhMzk5MzhlMDYtZDY1Yi00YzY4LTg5OTYtNDVlOGU0ZWRmY2Mx",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O3g82CAh1tBCs7w8x8Lojw3Xa4vQMw3eCFtJt0QaPvPlMQsh8UhTweE68V5hV3eWzCswsh_CKh0BGGy9tg5ouuyTVIoMOib5sjtgtSbIq3PGWhFU3P1M6KxlEhQJnJAW7eMQnh73RnxKIQh2HT5YChDMVwsPXHIR6BCUHcrVpOkvKLfHNLc6MRfk_K1J0FFHHpn76yzTrJBlEIDjz-mRislG5Zjkxslds9i4fDFz9PI4JJkvqufX99HPTjSXjHoK_hXxstio1ZLBYa5RyVS4SlrnQ7OsLVGXkkSicT156D_TftdDvJWnSYCHJtfj5l6L3k",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:23:52.771 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-16 10:23:52.771 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-16 10:23:52.776 -04:00 [INF] User consented to scopes: ["openid","profile","scope_used_for_hybrid_flow","offline_access"]
2018-08-16 10:23:52.778 -04:00 [INF] User consented to scopes: openid, profile, scope_used_for_hybrid_flow, offline_access
2018-08-16 10:23:52.781 -04:00 [DBG] Client allows remembering consent, and no scopes provided. Removing consent from consent store for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:23:52.781 -04:00 [DBG] Client allows remembering consent, and no scopes provided. Removing consent from consent store for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:23:52.839 -04:00 [DBG] no Czzqjxx8Mp06BkW4kn1btlLBNW309mYpgT+AxWoOSNU= persisted grant found in database
2018-08-16 10:23:52.839 -04:00 [DBG] no Czzqjxx8Mp06BkW4kn1btlLBNW309mYpgT+AxWoOSNU= persisted grant found in database
2018-08-16 10:23:52.844 -04:00 [DBG] Creating Hybrid Flow response.
2018-08-16 10:23:52.844 -04:00 [DBG] Creating Hybrid Flow response.
2018-08-16 10:23:52.901 -04:00 [DBG] orIDshjb2STYriKkb/WyRB82hNO82QGpFxz/mpZojzU= not found in database
2018-08-16 10:23:52.901 -04:00 [DBG] orIDshjb2STYriKkb/WyRB82hNO82QGpFxz/mpZojzU= not found in database
2018-08-16 10:23:53.068 -04:00 [DBG] Creating Implicit Flow response.
2018-08-16 10:23:53.068 -04:00 [DBG] Creating Implicit Flow response.
2018-08-16 10:23:53.077 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: hybridclient
2018-08-16 10:23:53.077 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: hybridclient
2018-08-16 10:23:53.079 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-16 10:23:53.080 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-16 10:23:53.158 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "Endpoint": "Authorize",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "Scopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "GrantType": "hybrid",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****B96w"
    },
    {
      "TokenType": "code",
      "TokenValue": "****5a64"
    }
  ],
  "ActivityId": "0HLG3G18FPNMU:00000004",
  "TimeStamp": "2018-08-16T14:23:53Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "::1"
}
2018-08-16 10:23:53.161 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "Endpoint": "Authorize",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "Scopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "GrantType": "hybrid",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****B96w"
    },
    {
      "TokenType": "code",
      "TokenValue": "****5a64"
    }
  ],
  "ActivityId": "0HLG3G18FPNMU:00000004",
  "TimeStamp": "2018-08-16T14:23:53Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "::1"
}
2018-08-16 10:23:53.164 -04:00 [INF] Authorize endpoint response
{
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ClientId": "hybridclient",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O3g82CAh1tBCs7w8x8Lojw3Xa4vQMw3eCFtJt0QaPvPlMQsh8UhTweE68V5hV3eWzCswsh_CKh0BGGy9tg5ouuyTVIoMOib5sjtgtSbIq3PGWhFU3P1M6KxlEhQJnJAW7eMQnh73RnxKIQh2HT5YChDMVwsPXHIR6BCUHcrVpOkvKLfHNLc6MRfk_K1J0FFHHpn76yzTrJBlEIDjz-mRislG5Zjkxslds9i4fDFz9PI4JJkvqufX99HPTjSXjHoK_hXxstio1ZLBYa5RyVS4SlrnQ7OsLVGXkkSicT156D_TftdDvJWnSYCHJtfj5l6L3k",
  "Scope": "openid profile scope_used_for_hybrid_flow offline_access"
}
2018-08-16 10:23:53.166 -04:00 [INF] Authorize endpoint response
{
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ClientId": "hybridclient",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O3g82CAh1tBCs7w8x8Lojw3Xa4vQMw3eCFtJt0QaPvPlMQsh8UhTweE68V5hV3eWzCswsh_CKh0BGGy9tg5ouuyTVIoMOib5sjtgtSbIq3PGWhFU3P1M6KxlEhQJnJAW7eMQnh73RnxKIQh2HT5YChDMVwsPXHIR6BCUHcrVpOkvKLfHNLc6MRfk_K1J0FFHHpn76yzTrJBlEIDjz-mRislG5Zjkxslds9i4fDFz9PI4JJkvqufX99HPTjSXjHoK_hXxstio1ZLBYa5RyVS4SlrnQ7OsLVGXkkSicT156D_TftdDvJWnSYCHJtfj5l6L3k",
  "Scope": "openid profile scope_used_for_hybrid_flow offline_access"
}
2018-08-16 10:23:53.181 -04:00 [DBG] Augmenting SignInContext
2018-08-16 10:23:53.181 -04:00 [DBG] Augmenting SignInContext
2018-08-16 10:23:53.181 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-16 10:23:53.183 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-16 10:23:53.538 -04:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-08-16 10:23:53.538 -04:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-08-16 10:23:53.541 -04:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-08-16 10:23:53.541 -04:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-08-16 10:23:53.541 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-08-16 10:23:53.543 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-08-16 10:23:53.551 -04:00 [DBG] Start token request.
2018-08-16 10:23:53.551 -04:00 [DBG] Start token request.
2018-08-16 10:23:53.556 -04:00 [DBG] Start client validation
2018-08-16 10:23:53.556 -04:00 [DBG] Start client validation
2018-08-16 10:23:53.561 -04:00 [DBG] Start parsing Basic Authentication secret
2018-08-16 10:23:53.561 -04:00 [DBG] Start parsing Basic Authentication secret
2018-08-16 10:23:53.564 -04:00 [DBG] Start parsing for secret in post body
2018-08-16 10:23:53.564 -04:00 [DBG] Start parsing for secret in post body
2018-08-16 10:23:53.564 -04:00 [DBG] Parser found secret: PostBodySecretParser
2018-08-16 10:23:53.564 -04:00 [DBG] Parser found secret: PostBodySecretParser
2018-08-16 10:23:53.564 -04:00 [DBG] Secret id found: hybridclient
2018-08-16 10:23:53.564 -04:00 [DBG] Secret id found: hybridclient
2018-08-16 10:23:53.799 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:53.799 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:53.807 -04:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-08-16 10:23:53.808 -04:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-08-16 10:23:53.808 -04:00 [DBG] Client validation success
2018-08-16 10:23:53.808 -04:00 [DBG] Client validation success
2018-08-16 10:23:53.811 -04:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "hybridclient",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLG3G18FPNN1:00000004",
  "TimeStamp": "2018-08-16T14:23:53Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-16 10:23:53.813 -04:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "hybridclient",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLG3G18FPNN1:00000004",
  "TimeStamp": "2018-08-16T14:23:53Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-16 10:23:53.818 -04:00 [DBG] Start token request validation
2018-08-16 10:23:53.819 -04:00 [DBG] Start token request validation
2018-08-16 10:23:53.827 -04:00 [DBG] Start validation of authorization code token request
2018-08-16 10:23:53.827 -04:00 [DBG] Start validation of authorization code token request
2018-08-16 10:23:53.876 -04:00 [DBG] orIDshjb2STYriKkb/WyRB82hNO82QGpFxz/mpZojzU= found in database: true
2018-08-16 10:23:53.876 -04:00 [DBG] orIDshjb2STYriKkb/WyRB82hNO82QGpFxz/mpZojzU= found in database: true
2018-08-16 10:23:53.916 -04:00 [DBG] removing orIDshjb2STYriKkb/WyRB82hNO82QGpFxz/mpZojzU= persisted grant from database
2018-08-16 10:23:53.916 -04:00 [DBG] removing orIDshjb2STYriKkb/WyRB82hNO82QGpFxz/mpZojzU= persisted grant from database
2018-08-16 10:23:53.987 -04:00 [DBG] Validation of authorization code token request success
2018-08-16 10:23:53.987 -04:00 [DBG] Validation of authorization code token request success
2018-08-16 10:23:53.994 -04:00 [INF] Token request validation success
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "GrantType": "authorization_code",
  "AuthorizationCode": "ef8ebeccd3afee1812dba5197535331953a34477432c7b24b8a66fa013df5a64",
  "Raw": {
    "client_id": "hybridclient",
    "client_secret": "***REDACTED***",
    "code": "ef8ebeccd3afee1812dba5197535331953a34477432c7b24b8a66fa013df5a64",
    "grant_type": "authorization_code",
    "redirect_uri": "https://localhost:44381/signin-oidc"
  }
}
2018-08-16 10:23:53.996 -04:00 [INF] Token request validation success
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "GrantType": "authorization_code",
  "AuthorizationCode": "ef8ebeccd3afee1812dba5197535331953a34477432c7b24b8a66fa013df5a64",
  "Raw": {
    "client_id": "hybridclient",
    "client_secret": "***REDACTED***",
    "code": "ef8ebeccd3afee1812dba5197535331953a34477432c7b24b8a66fa013df5a64",
    "grant_type": "authorization_code",
    "redirect_uri": "https://localhost:44381/signin-oidc"
  }
}
2018-08-16 10:23:54.295 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:54.295 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:54.356 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:23:54.356 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:23:54.513 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:23:54.513 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:23:54.522 -04:00 [DBG] Getting claims for access token for client: hybridclient
2018-08-16 10:23:54.523 -04:00 [DBG] Getting claims for access token for client: hybridclient
2018-08-16 10:23:54.523 -04:00 [DBG] Getting claims for access token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:23:54.523 -04:00 [DBG] Getting claims for access token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:23:54.601 -04:00 [DBG] Creating refresh token
2018-08-16 10:23:54.601 -04:00 [DBG] Creating refresh token
2018-08-16 10:23:54.601 -04:00 [DBG] Setting an absolute lifetime: 2592000
2018-08-16 10:23:54.601 -04:00 [DBG] Setting an absolute lifetime: 2592000
2018-08-16 10:23:54.647 -04:00 [DBG] 6er9RmWAKwEkrJt+F0ODd//W/YIyCp8ZhQLpEjqorr4= not found in database
2018-08-16 10:23:54.647 -04:00 [DBG] 6er9RmWAKwEkrJt+F0ODd//W/YIyCp8ZhQLpEjqorr4= not found in database
2018-08-16 10:23:54.961 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:54.961 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:55.019 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:23:55.019 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:23:55.165 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:23:55.165 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:23:55.165 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: hybridclient
2018-08-16 10:23:55.165 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: hybridclient
2018-08-16 10:23:55.165 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-16 10:23:55.165 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-16 10:23:55.170 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "Endpoint": "Token",
  "Scopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "GrantType": "authorization_code",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****a5-w"
    },
    {
      "TokenType": "refresh_token",
      "TokenValue": "****7542"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****lIlA"
    }
  ],
  "ActivityId": "0HLG3G18FPNN1:00000004",
  "TimeStamp": "2018-08-16T14:23:55Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-16 10:23:55.172 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "Endpoint": "Token",
  "Scopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "GrantType": "authorization_code",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****a5-w"
    },
    {
      "TokenType": "refresh_token",
      "TokenValue": "****7542"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****lIlA"
    }
  ],
  "ActivityId": "0HLG3G18FPNN1:00000004",
  "TimeStamp": "2018-08-16T14:23:55Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-16 10:23:55.174 -04:00 [DBG] Token request success.
2018-08-16 10:23:55.174 -04:00 [DBG] Token request success.
2018-08-16 10:23:55.223 -04:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2018-08-16 10:23:55.223 -04:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2018-08-16 10:23:55.225 -04:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2018-08-16 10:23:55.225 -04:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2018-08-16 10:23:55.225 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-08-16 10:23:55.227 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-08-16 10:23:55.232 -04:00 [DBG] Start userinfo request
2018-08-16 10:23:55.232 -04:00 [DBG] Start userinfo request
2018-08-16 10:23:55.236 -04:00 [DBG] Bearer token found in header
2018-08-16 10:23:55.236 -04:00 [DBG] Bearer token found in header
2018-08-16 10:23:55.525 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:55.525 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:55.749 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:55.749 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:23:55.780 -04:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-08-16 10:23:55.781 -04:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-08-16 10:23:55.784 -04:00 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1534429434,
    "exp": 1534433034,
    "iss": "https://localhost:44391",
    "aud": [
      "https://localhost:44391/resources",
      "scope_used_for_hybrid_flow"
    ],
    "client_id": "hybridclient",
    "sub": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
    "auth_time": 1534429417,
    "idp": "Windows",
    "scope": [
      "openid",
      "profile",
      "scope_used_for_hybrid_flow",
      "offline_access"
    ],
    "amr": "external"
  }
}
2018-08-16 10:23:55.785 -04:00 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1534429434,
    "exp": 1534433034,
    "iss": "https://localhost:44391",
    "aud": [
      "https://localhost:44391/resources",
      "scope_used_for_hybrid_flow"
    ],
    "client_id": "hybridclient",
    "sub": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
    "auth_time": 1534429417,
    "idp": "Windows",
    "scope": [
      "openid",
      "profile",
      "scope_used_for_hybrid_flow",
      "offline_access"
    ],
    "amr": "external"
  }
}
2018-08-16 10:23:55.794 -04:00 [DBG] Creating userinfo response
2018-08-16 10:23:55.795 -04:00 [DBG] Creating userinfo response
2018-08-16 10:23:55.799 -04:00 [DBG] Scopes in access token: openid profile scope_used_for_hybrid_flow offline_access
2018-08-16 10:23:55.799 -04:00 [DBG] Scopes in access token: openid profile scope_used_for_hybrid_flow offline_access
2018-08-16 10:23:55.802 -04:00 [DBG] Scopes in access token: openid profile scope_used_for_hybrid_flow offline_access
2018-08-16 10:23:55.802 -04:00 [DBG] Scopes in access token: openid profile scope_used_for_hybrid_flow offline_access
2018-08-16 10:23:55.861 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:23:55.861 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:23:55.862 -04:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2018-08-16 10:23:55.862 -04:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2018-08-16 10:23:55.862 -04:00 [DBG] Scopes in access token: openid profile scope_used_for_hybrid_flow offline_access
2018-08-16 10:23:55.862 -04:00 [DBG] Scopes in access token: openid profile scope_used_for_hybrid_flow offline_access
2018-08-16 10:23:55.918 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:23:55.919 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:23:55.976 -04:00 [INF] Profile service returned to the following claim types: sub name preferred_username
2018-08-16 10:23:55.978 -04:00 [INF] Profile service returned to the following claim types: sub name preferred_username
2018-08-16 10:23:55.978 -04:00 [DBG] End userinfo request
2018-08-16 10:23:55.978 -04:00 [DBG] End userinfo request
2018-08-16 10:24:29.321 -04:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2018-08-16 10:24:29.321 -04:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2018-08-16 10:24:29.322 -04:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2018-08-16 10:24:29.322 -04:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2018-08-16 10:24:29.322 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2018-08-16 10:24:29.324 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2018-08-16 10:24:29.329 -04:00 [DBG] Processing signout request for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:24:29.329 -04:00 [DBG] Processing signout request for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:24:29.334 -04:00 [DBG] Start end session request validation
2018-08-16 10:24:29.334 -04:00 [DBG] Start end session request validation
2018-08-16 10:24:29.339 -04:00 [DBG] Start identity token validation
2018-08-16 10:24:29.339 -04:00 [DBG] Start identity token validation
2018-08-16 10:24:29.582 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:29.582 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:29.582 -04:00 [DBG] Client found: hybridclient / MVC Client
2018-08-16 10:24:29.582 -04:00 [DBG] Client found: hybridclient / MVC Client
2018-08-16 10:24:29.617 -04:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-08-16 10:24:29.617 -04:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-08-16 10:24:29.618 -04:00 [DBG] Token validation success
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "ValidateLifetime": false,
  "Claims": {
    "nbf": 1534429435,
    "exp": 1534429735,
    "iss": "https://localhost:44391",
    "aud": "hybridclient",
    "nonce": "636700262087460481.YmVkZjUwMTktZWQ1NC00Zjk0LTk0ZGUtYTZiMGZmNTIxMzNhMzk5MzhlMDYtZDY1Yi00YzY4LTg5OTYtNDVlOGU0ZWRmY2Mx",
    "iat": 1534429435,
    "at_hash": "dQUX-DO8e_nqJWsI_fT9RQ",
    "sid": "cd3c4c2a40df7e13197794a8b91832d9",
    "sub": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
    "auth_time": 1534429417,
    "idp": "Windows",
    "amr": "external"
  }
}
2018-08-16 10:24:29.618 -04:00 [DBG] Token validation success
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "ValidateLifetime": false,
  "Claims": {
    "nbf": 1534429435,
    "exp": 1534429735,
    "iss": "https://localhost:44391",
    "aud": "hybridclient",
    "nonce": "636700262087460481.YmVkZjUwMTktZWQ1NC00Zjk0LTk0ZGUtYTZiMGZmNTIxMzNhMzk5MzhlMDYtZDY1Yi00YzY4LTg5OTYtNDVlOGU0ZWRmY2Mx",
    "iat": 1534429435,
    "at_hash": "dQUX-DO8e_nqJWsI_fT9RQ",
    "sid": "cd3c4c2a40df7e13197794a8b91832d9",
    "sub": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
    "auth_time": 1534429417,
    "idp": "Windows",
    "amr": "external"
  }
}
2018-08-16 10:24:29.624 -04:00 [INF] End session request validation success
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "PostLogOutUri": "https://localhost:44381/signout-callback-oidc",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O3qcLFfNaDIiUqmgjib-mnwXoYfcmBiLVydGynC2YB8B8_skvPNef3YfX2Vqxby0Njdaa181wv9xMiOAl4Rmi-qcihrFYhiTdKL4hE7JGeJYf-YEx2jIOA-jL-Bjj4WWATfG5K0fGnqY50gKmpSi_Ep",
  "Raw": {
    "post_logout_redirect_uri": "https://localhost:44381/signout-callback-oidc",
    "id_token_hint": "eyJhbGciOiJSUzI1NiIsImtpZCI6IjA2RDNFNDZFOTEwNzNDNUQ0QkMyQzk5ODNCRTlGRjQ0OENGNjQwRDQiLCJ0eXAiOiJKV1QiLCJ4NXQiOiJCdFBrYnBFSFBGMUx3c21ZTy1uX1JJejJRTlEifQ.eyJuYmYiOjE1MzQ0Mjk0MzUsImV4cCI6MTUzNDQyOTczNSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzOTEiLCJhdWQiOiJoeWJyaWRjbGllbnQiLCJub25jZSI6IjYzNjcwMDI2MjA4NzQ2MDQ4MS5ZbVZrWmpVd01Ua3RaV1ExTkMwMFpqazBMVGswWkdVdFlUWmlNR1ptTlRJeE16TmhNems1TXpobE1EWXRaRFkxWWkwMFl6WTRMVGc1T1RZdE5EVmxPR1UwWldSbVkyTXgiLCJpYXQiOjE1MzQ0Mjk0MzUsImF0X2hhc2giOiJkUVVYLURPOGVfbnFKV3NJX2ZUOVJRIiwic2lkIjoiY2QzYzRjMmE0MGRmN2UxMzE5Nzc5NGE4YjkxODMyZDkiLCJzdWIiOiI0MmU3MzQ3Yy1mODFiLTQ2YmItODFmNy02ZGZmOWVjZWEwNGEiLCJhdXRoX3RpbWUiOjE1MzQ0Mjk0MTcsImlkcCI6IldpbmRvd3MiLCJhbXIiOlsiZXh0ZXJuYWwiXX0.PrzS_wZdDpOewj4QEOJXGXy1h18WtF4TGFMbcLxxYcQgeiR4iEjrGB0sR4O7Ixf66RXi9QEulnvkj4ZeJz5bdTE79QBa0FQMqav-awCNbyfMy32tPcE-6go57Vab_aqw4chXclDhFef628U3on6zJ4UlwzNvrf8be8Y4b5tT7NWkSa_U9UQHSbxn5kFNu4BnEb8ntOGUXKuQfWtqpV-Y6ELqD6gFvnrB9kmhPunGQgnjN-wI5j8d-349zc-h4X_yZ2Mj6thJPRlEReZwujEvDA2Dr9rAGl7WtqIncJW_dRRaajj2_CsDCZK7KrDnHSUBwSDYe-Na6lgfQQR1g6a5-w",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O3qcLFfNaDIiUqmgjib-mnwXoYfcmBiLVydGynC2YB8B8_skvPNef3YfX2Vqxby0Njdaa181wv9xMiOAl4Rmi-qcihrFYhiTdKL4hE7JGeJYf-YEx2jIOA-jL-Bjj4WWATfG5K0fGnqY50gKmpSi_Ep",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:24:29.627 -04:00 [INF] End session request validation success
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "PostLogOutUri": "https://localhost:44381/signout-callback-oidc",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O3qcLFfNaDIiUqmgjib-mnwXoYfcmBiLVydGynC2YB8B8_skvPNef3YfX2Vqxby0Njdaa181wv9xMiOAl4Rmi-qcihrFYhiTdKL4hE7JGeJYf-YEx2jIOA-jL-Bjj4WWATfG5K0fGnqY50gKmpSi_Ep",
  "Raw": {
    "post_logout_redirect_uri": "https://localhost:44381/signout-callback-oidc",
    "id_token_hint": "eyJhbGciOiJSUzI1NiIsImtpZCI6IjA2RDNFNDZFOTEwNzNDNUQ0QkMyQzk5ODNCRTlGRjQ0OENGNjQwRDQiLCJ0eXAiOiJKV1QiLCJ4NXQiOiJCdFBrYnBFSFBGMUx3c21ZTy1uX1JJejJRTlEifQ.eyJuYmYiOjE1MzQ0Mjk0MzUsImV4cCI6MTUzNDQyOTczNSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzOTEiLCJhdWQiOiJoeWJyaWRjbGllbnQiLCJub25jZSI6IjYzNjcwMDI2MjA4NzQ2MDQ4MS5ZbVZrWmpVd01Ua3RaV1ExTkMwMFpqazBMVGswWkdVdFlUWmlNR1ptTlRJeE16TmhNems1TXpobE1EWXRaRFkxWWkwMFl6WTRMVGc1T1RZdE5EVmxPR1UwWldSbVkyTXgiLCJpYXQiOjE1MzQ0Mjk0MzUsImF0X2hhc2giOiJkUVVYLURPOGVfbnFKV3NJX2ZUOVJRIiwic2lkIjoiY2QzYzRjMmE0MGRmN2UxMzE5Nzc5NGE4YjkxODMyZDkiLCJzdWIiOiI0MmU3MzQ3Yy1mODFiLTQ2YmItODFmNy02ZGZmOWVjZWEwNGEiLCJhdXRoX3RpbWUiOjE1MzQ0Mjk0MTcsImlkcCI6IldpbmRvd3MiLCJhbXIiOlsiZXh0ZXJuYWwiXX0.PrzS_wZdDpOewj4QEOJXGXy1h18WtF4TGFMbcLxxYcQgeiR4iEjrGB0sR4O7Ixf66RXi9QEulnvkj4ZeJz5bdTE79QBa0FQMqav-awCNbyfMy32tPcE-6go57Vab_aqw4chXclDhFef628U3on6zJ4UlwzNvrf8be8Y4b5tT7NWkSa_U9UQHSbxn5kFNu4BnEb8ntOGUXKuQfWtqpV-Y6ELqD6gFvnrB9kmhPunGQgnjN-wI5j8d-349zc-h4X_yZ2Mj6thJPRlEReZwujEvDA2Dr9rAGl7WtqIncJW_dRRaajj2_CsDCZK7KrDnHSUBwSDYe-Na6lgfQQR1g6a5-w",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O3qcLFfNaDIiUqmgjib-mnwXoYfcmBiLVydGynC2YB8B8_skvPNef3YfX2Vqxby0Njdaa181wv9xMiOAl4Rmi-qcihrFYhiTdKL4hE7JGeJYf-YEx2jIOA-jL-Bjj4WWATfG5K0fGnqY50gKmpSi_Ep",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:24:29.638 -04:00 [DBG] Success validating end session request from hybridclient
2018-08-16 10:24:29.639 -04:00 [DBG] Success validating end session request from hybridclient
2018-08-16 10:24:29.710 -04:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-08-16 10:24:29.713 -04:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-08-16 10:24:29.714 -04:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-16 10:24:29.716 -04:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-16 10:24:29.716 -04:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-08-16 10:24:29.718 -04:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-08-16 10:24:29.723 -04:00 [INF] {
  "Name": "User Logout Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1002,
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "DisplayName": "OFINA\\ikorolenko",
  "ActivityId": "0HLG3G18FPNMT:00000009",
  "TimeStamp": "2018-08-16T14:24:29Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "::1"
}
2018-08-16 10:24:29.725 -04:00 [INF] {
  "Name": "User Logout Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1002,
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "DisplayName": "OFINA\\ikorolenko",
  "ActivityId": "0HLG3G18FPNMT:00000009",
  "TimeStamp": "2018-08-16T14:24:29Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "::1"
}
2018-08-16 10:24:29.841 -04:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2018-08-16 10:24:29.841 -04:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2018-08-16 10:24:29.859 -04:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2018-08-16 10:24:29.859 -04:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2018-08-16 10:24:29.859 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2018-08-16 10:24:29.865 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2018-08-16 10:24:29.870 -04:00 [DBG] Processing signout callback request
2018-08-16 10:24:29.870 -04:00 [DBG] Processing signout callback request
2018-08-16 10:24:30.132 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:30.132 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:30.132 -04:00 [DBG] Client front-channel logout URLs: https://localhost:44381/signout-oidc?sid=cd3c4c2a40df7e13197794a8b91832d9&iss=https%3A%2F%2Flocalhost%3A44391
2018-08-16 10:24:30.132 -04:00 [DBG] Client front-channel logout URLs: https://localhost:44381/signout-oidc?sid=cd3c4c2a40df7e13197794a8b91832d9&iss=https%3A%2F%2Flocalhost%3A44391
2018-08-16 10:24:30.132 -04:00 [DBG] No client back-channel logout URLs
2018-08-16 10:24:30.132 -04:00 [DBG] No client back-channel logout URLs
2018-08-16 10:24:30.132 -04:00 [INF] Successful signout callback.
2018-08-16 10:24:30.134 -04:00 [INF] Successful signout callback.
2018-08-16 10:24:30.134 -04:00 [DBG] Client front-channel iframe urls: ["https://localhost:44381/signout-oidc?sid=cd3c4c2a40df7e13197794a8b91832d9&iss=https%3A%2F%2Flocalhost%3A44391"]
2018-08-16 10:24:30.134 -04:00 [DBG] Client front-channel iframe urls: https://localhost:44381/signout-oidc?sid=cd3c4c2a40df7e13197794a8b91832d9&iss=https%3A%2F%2Flocalhost%3A44391
2018-08-16 10:24:30.134 -04:00 [DBG] No client back-channel iframe urls
2018-08-16 10:24:30.134 -04:00 [DBG] No client back-channel iframe urls
2018-08-16 10:24:31.721 -04:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-16 10:24:31.721 -04:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-16 10:24:31.722 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-16 10:24:31.722 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-16 10:24:31.722 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-16 10:24:31.724 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-16 10:24:31.724 -04:00 [DBG] Start authorize request
2018-08-16 10:24:31.724 -04:00 [DBG] Start authorize request
2018-08-16 10:24:31.725 -04:00 [DBG] No user present in authorize request
2018-08-16 10:24:31.725 -04:00 [DBG] No user present in authorize request
2018-08-16 10:24:31.725 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:24:31.725 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:24:31.948 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:31.949 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:31.949 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:24:31.949 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:24:31.949 -04:00 [DBG] No PKCE used.
2018-08-16 10:24:31.949 -04:00 [DBG] No PKCE used.
2018-08-16 10:24:31.994 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:24:31.994 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:24:32.108 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:24:32.108 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:24:32.162 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:24:32.162 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:24:32.280 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:24:32.280 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:24:32.280 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:24:32.280 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:24:32.281 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1Wvr0MvaJN-XUMOg104DR8uW0IBZgtZmzlvKB1cBsMUEA5OrJlg7IbygvZPdlH7AnRpIUDibPL_VARc9NT66Dyxr8DB3wlplBFMVWuzaRbiSll0AigZHt-0MMvuR4LypLMqfvy6pB01dy_may_sS6h1qwBjFoa6Tvi0oZMuKw_L-LxIlA2KDfYQp5lNdinis0HWqBpjPlgyLgQgnMLC5pBh_X5BJ3gr97gy1UFWXVyzEnWBWgtZYSuni4qlsT8WZEypbzgKDUaCDRKX4cMsIdjeipQAa9uzejjOVFe9nPodWSBtnBPm45zRoiJ4MgpeWg",
  "Nonce": "636700262717090481.NWIwYjBkOTgtYjI0Yy00MjRjLTgwZDYtZjVjMDkzZmExMTQ4N2IwYTU1NWMtMDRjMi00MzA4LWE1YjEtYWM0OWJhOTNhYTEy",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636700262717090481.NWIwYjBkOTgtYjI0Yy00MjRjLTgwZDYtZjVjMDkzZmExMTQ4N2IwYTU1NWMtMDRjMi00MzA4LWE1YjEtYWM0OWJhOTNhYTEy",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O1Wvr0MvaJN-XUMOg104DR8uW0IBZgtZmzlvKB1cBsMUEA5OrJlg7IbygvZPdlH7AnRpIUDibPL_VARc9NT66Dyxr8DB3wlplBFMVWuzaRbiSll0AigZHt-0MMvuR4LypLMqfvy6pB01dy_may_sS6h1qwBjFoa6Tvi0oZMuKw_L-LxIlA2KDfYQp5lNdinis0HWqBpjPlgyLgQgnMLC5pBh_X5BJ3gr97gy1UFWXVyzEnWBWgtZYSuni4qlsT8WZEypbzgKDUaCDRKX4cMsIdjeipQAa9uzejjOVFe9nPodWSBtnBPm45zRoiJ4MgpeWg",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:24:32.283 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1Wvr0MvaJN-XUMOg104DR8uW0IBZgtZmzlvKB1cBsMUEA5OrJlg7IbygvZPdlH7AnRpIUDibPL_VARc9NT66Dyxr8DB3wlplBFMVWuzaRbiSll0AigZHt-0MMvuR4LypLMqfvy6pB01dy_may_sS6h1qwBjFoa6Tvi0oZMuKw_L-LxIlA2KDfYQp5lNdinis0HWqBpjPlgyLgQgnMLC5pBh_X5BJ3gr97gy1UFWXVyzEnWBWgtZYSuni4qlsT8WZEypbzgKDUaCDRKX4cMsIdjeipQAa9uzejjOVFe9nPodWSBtnBPm45zRoiJ4MgpeWg",
  "Nonce": "636700262717090481.NWIwYjBkOTgtYjI0Yy00MjRjLTgwZDYtZjVjMDkzZmExMTQ4N2IwYTU1NWMtMDRjMi00MzA4LWE1YjEtYWM0OWJhOTNhYTEy",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636700262717090481.NWIwYjBkOTgtYjI0Yy00MjRjLTgwZDYtZjVjMDkzZmExMTQ4N2IwYTU1NWMtMDRjMi00MzA4LWE1YjEtYWM0OWJhOTNhYTEy",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O1Wvr0MvaJN-XUMOg104DR8uW0IBZgtZmzlvKB1cBsMUEA5OrJlg7IbygvZPdlH7AnRpIUDibPL_VARc9NT66Dyxr8DB3wlplBFMVWuzaRbiSll0AigZHt-0MMvuR4LypLMqfvy6pB01dy_may_sS6h1qwBjFoa6Tvi0oZMuKw_L-LxIlA2KDfYQp5lNdinis0HWqBpjPlgyLgQgnMLC5pBh_X5BJ3gr97gy1UFWXVyzEnWBWgtZYSuni4qlsT8WZEypbzgKDUaCDRKX4cMsIdjeipQAa9uzejjOVFe9nPodWSBtnBPm45zRoiJ4MgpeWg",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:24:32.283 -04:00 [INF] Showing login: User is not authenticated
2018-08-16 10:24:32.285 -04:00 [INF] Showing login: User is not authenticated
2018-08-16 10:24:32.319 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:24:32.319 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:24:32.591 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:32.591 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:32.592 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:24:32.592 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:24:32.592 -04:00 [DBG] No PKCE used.
2018-08-16 10:24:32.592 -04:00 [DBG] No PKCE used.
2018-08-16 10:24:32.644 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:24:32.645 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:24:32.785 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:24:32.785 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:24:32.842 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:24:32.842 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:24:32.980 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:24:32.980 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:24:32.980 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:24:32.980 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:24:33.230 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:33.230 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:37.495 -04:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-16 10:24:37.499 -04:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-16 10:24:37.651 -04:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Windows",
  "ProviderUserId": "OFINA\\ikorolenko",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "DisplayName": "OFINA\\ikorolenko",
  "Endpoint": "UI",
  "ActivityId": "0HLG3G18FPNMU:00000007",
  "TimeStamp": "2018-08-16T14:24:37Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "::1"
}
2018-08-16 10:24:37.653 -04:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Windows",
  "ProviderUserId": "OFINA\\ikorolenko",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "DisplayName": "OFINA\\ikorolenko",
  "Endpoint": "UI",
  "ActivityId": "0HLG3G18FPNMU:00000007",
  "TimeStamp": "2018-08-16T14:24:37Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "::1"
}
2018-08-16 10:24:37.653 -04:00 [DBG] Augmenting SignInContext
2018-08-16 10:24:37.653 -04:00 [DBG] Augmenting SignInContext
2018-08-16 10:24:37.653 -04:00 [DBG] Adding amr claim with value: external
2018-08-16 10:24:37.653 -04:00 [DBG] Adding amr claim with value: external
2018-08-16 10:24:37.654 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-16 10:24:37.656 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-16 10:24:37.657 -04:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-16 10:24:37.659 -04:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-16 10:24:37.674 -04:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-16 10:24:37.674 -04:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-16 10:24:37.674 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-16 10:24:37.675 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-16 10:24:37.675 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-16 10:24:37.676 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-16 10:24:37.677 -04:00 [DBG] Start authorize callback request
2018-08-16 10:24:37.677 -04:00 [DBG] Start authorize callback request
2018-08-16 10:24:37.677 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:24:37.677 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:24:37.677 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:24:37.677 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:24:37.910 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:37.910 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:37.910 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:24:37.910 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:24:37.910 -04:00 [DBG] No PKCE used.
2018-08-16 10:24:37.910 -04:00 [DBG] No PKCE used.
2018-08-16 10:24:37.955 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:24:37.955 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:24:38.070 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:24:38.070 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:24:38.116 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:24:38.116 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:24:38.239 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:24:38.239 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:24:38.239 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:24:38.239 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:24:38.240 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1Wvr0MvaJN-XUMOg104DR8uW0IBZgtZmzlvKB1cBsMUEA5OrJlg7IbygvZPdlH7AnRpIUDibPL_VARc9NT66Dyxr8DB3wlplBFMVWuzaRbiSll0AigZHt-0MMvuR4LypLMqfvy6pB01dy_may_sS6h1qwBjFoa6Tvi0oZMuKw_L-LxIlA2KDfYQp5lNdinis0HWqBpjPlgyLgQgnMLC5pBh_X5BJ3gr97gy1UFWXVyzEnWBWgtZYSuni4qlsT8WZEypbzgKDUaCDRKX4cMsIdjeipQAa9uzejjOVFe9nPodWSBtnBPm45zRoiJ4MgpeWg",
  "Nonce": "636700262717090481.NWIwYjBkOTgtYjI0Yy00MjRjLTgwZDYtZjVjMDkzZmExMTQ4N2IwYTU1NWMtMDRjMi00MzA4LWE1YjEtYWM0OWJhOTNhYTEy",
  "SessionId": "91e78eb2f81a28ce94142a3366b80d45",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636700262717090481.NWIwYjBkOTgtYjI0Yy00MjRjLTgwZDYtZjVjMDkzZmExMTQ4N2IwYTU1NWMtMDRjMi00MzA4LWE1YjEtYWM0OWJhOTNhYTEy",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O1Wvr0MvaJN-XUMOg104DR8uW0IBZgtZmzlvKB1cBsMUEA5OrJlg7IbygvZPdlH7AnRpIUDibPL_VARc9NT66Dyxr8DB3wlplBFMVWuzaRbiSll0AigZHt-0MMvuR4LypLMqfvy6pB01dy_may_sS6h1qwBjFoa6Tvi0oZMuKw_L-LxIlA2KDfYQp5lNdinis0HWqBpjPlgyLgQgnMLC5pBh_X5BJ3gr97gy1UFWXVyzEnWBWgtZYSuni4qlsT8WZEypbzgKDUaCDRKX4cMsIdjeipQAa9uzejjOVFe9nPodWSBtnBPm45zRoiJ4MgpeWg",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:24:38.242 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1Wvr0MvaJN-XUMOg104DR8uW0IBZgtZmzlvKB1cBsMUEA5OrJlg7IbygvZPdlH7AnRpIUDibPL_VARc9NT66Dyxr8DB3wlplBFMVWuzaRbiSll0AigZHt-0MMvuR4LypLMqfvy6pB01dy_may_sS6h1qwBjFoa6Tvi0oZMuKw_L-LxIlA2KDfYQp5lNdinis0HWqBpjPlgyLgQgnMLC5pBh_X5BJ3gr97gy1UFWXVyzEnWBWgtZYSuni4qlsT8WZEypbzgKDUaCDRKX4cMsIdjeipQAa9uzejjOVFe9nPodWSBtnBPm45zRoiJ4MgpeWg",
  "Nonce": "636700262717090481.NWIwYjBkOTgtYjI0Yy00MjRjLTgwZDYtZjVjMDkzZmExMTQ4N2IwYTU1NWMtMDRjMi00MzA4LWE1YjEtYWM0OWJhOTNhYTEy",
  "SessionId": "91e78eb2f81a28ce94142a3366b80d45",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636700262717090481.NWIwYjBkOTgtYjI0Yy00MjRjLTgwZDYtZjVjMDkzZmExMTQ4N2IwYTU1NWMtMDRjMi00MzA4LWE1YjEtYWM0OWJhOTNhYTEy",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O1Wvr0MvaJN-XUMOg104DR8uW0IBZgtZmzlvKB1cBsMUEA5OrJlg7IbygvZPdlH7AnRpIUDibPL_VARc9NT66Dyxr8DB3wlplBFMVWuzaRbiSll0AigZHt-0MMvuR4LypLMqfvy6pB01dy_may_sS6h1qwBjFoa6Tvi0oZMuKw_L-LxIlA2KDfYQp5lNdinis0HWqBpjPlgyLgQgnMLC5pBh_X5BJ3gr97gy1UFWXVyzEnWBWgtZYSuni4qlsT8WZEypbzgKDUaCDRKX4cMsIdjeipQAa9uzejjOVFe9nPodWSBtnBPm45zRoiJ4MgpeWg",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:24:38.274 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-16 10:24:38.274 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-16 10:24:38.274 -04:00 [INF] Showing consent: User has not yet consented
2018-08-16 10:24:38.277 -04:00 [INF] Showing consent: User has not yet consented
2018-08-16 10:24:38.305 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:24:38.305 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:24:38.574 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:38.574 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:38.575 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:24:38.575 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:24:38.575 -04:00 [DBG] No PKCE used.
2018-08-16 10:24:38.575 -04:00 [DBG] No PKCE used.
2018-08-16 10:24:38.629 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:24:38.629 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:24:38.770 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:24:38.771 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:24:38.827 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:24:38.827 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:24:38.963 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:24:38.964 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:24:38.964 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:24:38.964 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:24:39.216 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:39.217 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:39.271 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:24:39.271 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:24:39.400 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:24:39.401 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:24:42.570 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:24:42.570 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:24:42.850 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:42.850 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:42.850 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:24:42.850 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:24:42.850 -04:00 [DBG] No PKCE used.
2018-08-16 10:24:42.850 -04:00 [DBG] No PKCE used.
2018-08-16 10:24:42.907 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:24:42.907 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:24:43.046 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:24:43.046 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:24:43.102 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:24:43.102 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:24:43.250 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:24:43.250 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:24:43.250 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:24:43.250 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:24:43.263 -04:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-16 10:24:43.263 -04:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-16 10:24:43.263 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-16 10:24:43.263 -04:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-16 10:24:43.263 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-16 10:24:43.265 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-16 10:24:43.265 -04:00 [DBG] Start authorize callback request
2018-08-16 10:24:43.265 -04:00 [DBG] Start authorize callback request
2018-08-16 10:24:43.266 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:24:43.266 -04:00 [DBG] User in authorize request: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:24:43.266 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:24:43.266 -04:00 [DBG] Start authorize request protocol validation
2018-08-16 10:24:43.491 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:43.491 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:43.491 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:24:43.491 -04:00 [DBG] Checking for PKCE parameters
2018-08-16 10:24:43.491 -04:00 [DBG] No PKCE used.
2018-08-16 10:24:43.491 -04:00 [DBG] No PKCE used.
2018-08-16 10:24:43.535 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:24:43.535 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:24:43.644 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:24:43.645 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:24:43.689 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:24:43.689 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:24:43.812 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:24:43.812 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:24:43.813 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:24:43.813 -04:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-16 10:24:43.813 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1Wvr0MvaJN-XUMOg104DR8uW0IBZgtZmzlvKB1cBsMUEA5OrJlg7IbygvZPdlH7AnRpIUDibPL_VARc9NT66Dyxr8DB3wlplBFMVWuzaRbiSll0AigZHt-0MMvuR4LypLMqfvy6pB01dy_may_sS6h1qwBjFoa6Tvi0oZMuKw_L-LxIlA2KDfYQp5lNdinis0HWqBpjPlgyLgQgnMLC5pBh_X5BJ3gr97gy1UFWXVyzEnWBWgtZYSuni4qlsT8WZEypbzgKDUaCDRKX4cMsIdjeipQAa9uzejjOVFe9nPodWSBtnBPm45zRoiJ4MgpeWg",
  "Nonce": "636700262717090481.NWIwYjBkOTgtYjI0Yy00MjRjLTgwZDYtZjVjMDkzZmExMTQ4N2IwYTU1NWMtMDRjMi00MzA4LWE1YjEtYWM0OWJhOTNhYTEy",
  "SessionId": "91e78eb2f81a28ce94142a3366b80d45",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636700262717090481.NWIwYjBkOTgtYjI0Yy00MjRjLTgwZDYtZjVjMDkzZmExMTQ4N2IwYTU1NWMtMDRjMi00MzA4LWE1YjEtYWM0OWJhOTNhYTEy",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O1Wvr0MvaJN-XUMOg104DR8uW0IBZgtZmzlvKB1cBsMUEA5OrJlg7IbygvZPdlH7AnRpIUDibPL_VARc9NT66Dyxr8DB3wlplBFMVWuzaRbiSll0AigZHt-0MMvuR4LypLMqfvy6pB01dy_may_sS6h1qwBjFoa6Tvi0oZMuKw_L-LxIlA2KDfYQp5lNdinis0HWqBpjPlgyLgQgnMLC5pBh_X5BJ3gr97gy1UFWXVyzEnWBWgtZYSuni4qlsT8WZEypbzgKDUaCDRKX4cMsIdjeipQAa9uzejjOVFe9nPodWSBtnBPm45zRoiJ4MgpeWg",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:24:43.818 -04:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "AllowedRedirectUris": [
    "https://localhost:44381/signin-oidc"
  ],
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ResponseType": "code id_token",
  "ResponseMode": "form_post",
  "GrantType": "hybrid",
  "RequestedScopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1Wvr0MvaJN-XUMOg104DR8uW0IBZgtZmzlvKB1cBsMUEA5OrJlg7IbygvZPdlH7AnRpIUDibPL_VARc9NT66Dyxr8DB3wlplBFMVWuzaRbiSll0AigZHt-0MMvuR4LypLMqfvy6pB01dy_may_sS6h1qwBjFoa6Tvi0oZMuKw_L-LxIlA2KDfYQp5lNdinis0HWqBpjPlgyLgQgnMLC5pBh_X5BJ3gr97gy1UFWXVyzEnWBWgtZYSuni4qlsT8WZEypbzgKDUaCDRKX4cMsIdjeipQAa9uzejjOVFe9nPodWSBtnBPm45zRoiJ4MgpeWg",
  "Nonce": "636700262717090481.NWIwYjBkOTgtYjI0Yy00MjRjLTgwZDYtZjVjMDkzZmExMTQ4N2IwYTU1NWMtMDRjMi00MzA4LWE1YjEtYWM0OWJhOTNhYTEy",
  "SessionId": "91e78eb2f81a28ce94142a3366b80d45",
  "Raw": {
    "client_id": "hybridclient",
    "redirect_uri": "https://localhost:44381/signin-oidc",
    "response_type": "code id_token",
    "scope": "openid profile scope_used_for_hybrid_flow offline_access",
    "response_mode": "form_post",
    "nonce": "636700262717090481.NWIwYjBkOTgtYjI0Yy00MjRjLTgwZDYtZjVjMDkzZmExMTQ4N2IwYTU1NWMtMDRjMi00MzA4LWE1YjEtYWM0OWJhOTNhYTEy",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O1Wvr0MvaJN-XUMOg104DR8uW0IBZgtZmzlvKB1cBsMUEA5OrJlg7IbygvZPdlH7AnRpIUDibPL_VARc9NT66Dyxr8DB3wlplBFMVWuzaRbiSll0AigZHt-0MMvuR4LypLMqfvy6pB01dy_may_sS6h1qwBjFoa6Tvi0oZMuKw_L-LxIlA2KDfYQp5lNdinis0HWqBpjPlgyLgQgnMLC5pBh_X5BJ3gr97gy1UFWXVyzEnWBWgtZYSuni4qlsT8WZEypbzgKDUaCDRKX4cMsIdjeipQAa9uzejjOVFe9nPodWSBtnBPm45zRoiJ4MgpeWg",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:24:43.849 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-16 10:24:43.849 -04:00 [DBG] Scopes contains offline_access, consent is required
2018-08-16 10:24:43.849 -04:00 [INF] User consented to scopes: ["openid","profile","scope_used_for_hybrid_flow","offline_access"]
2018-08-16 10:24:43.851 -04:00 [INF] User consented to scopes: openid, profile, scope_used_for_hybrid_flow, offline_access
2018-08-16 10:24:43.851 -04:00 [DBG] Client allows remembering consent, and no scopes provided. Removing consent from consent store for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:24:43.851 -04:00 [DBG] Client allows remembering consent, and no scopes provided. Removing consent from consent store for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:24:43.879 -04:00 [DBG] no Czzqjxx8Mp06BkW4kn1btlLBNW309mYpgT+AxWoOSNU= persisted grant found in database
2018-08-16 10:24:43.879 -04:00 [DBG] no Czzqjxx8Mp06BkW4kn1btlLBNW309mYpgT+AxWoOSNU= persisted grant found in database
2018-08-16 10:24:43.879 -04:00 [DBG] Creating Hybrid Flow response.
2018-08-16 10:24:43.879 -04:00 [DBG] Creating Hybrid Flow response.
2018-08-16 10:24:43.912 -04:00 [DBG] I4T+A9naXytObJj7KELL3IYayWQTnq8Px6V7zYWefzw= not found in database
2018-08-16 10:24:43.912 -04:00 [DBG] I4T+A9naXytObJj7KELL3IYayWQTnq8Px6V7zYWefzw= not found in database
2018-08-16 10:24:43.945 -04:00 [DBG] Creating Implicit Flow response.
2018-08-16 10:24:43.945 -04:00 [DBG] Creating Implicit Flow response.
2018-08-16 10:24:43.945 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: hybridclient
2018-08-16 10:24:43.945 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: hybridclient
2018-08-16 10:24:43.945 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-16 10:24:43.945 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-16 10:24:43.947 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "Endpoint": "Authorize",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "Scopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "GrantType": "hybrid",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****xLkg"
    },
    {
      "TokenType": "code",
      "TokenValue": "****5b9a"
    }
  ],
  "ActivityId": "0HLG3G18FPNN2:00000005",
  "TimeStamp": "2018-08-16T14:24:43Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "::1"
}
2018-08-16 10:24:43.949 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "Endpoint": "Authorize",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "Scopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "GrantType": "hybrid",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****xLkg"
    },
    {
      "TokenType": "code",
      "TokenValue": "****5b9a"
    }
  ],
  "ActivityId": "0HLG3G18FPNN2:00000005",
  "TimeStamp": "2018-08-16T14:24:43Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "::1"
}
2018-08-16 10:24:43.950 -04:00 [INF] Authorize endpoint response
{
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ClientId": "hybridclient",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1Wvr0MvaJN-XUMOg104DR8uW0IBZgtZmzlvKB1cBsMUEA5OrJlg7IbygvZPdlH7AnRpIUDibPL_VARc9NT66Dyxr8DB3wlplBFMVWuzaRbiSll0AigZHt-0MMvuR4LypLMqfvy6pB01dy_may_sS6h1qwBjFoa6Tvi0oZMuKw_L-LxIlA2KDfYQp5lNdinis0HWqBpjPlgyLgQgnMLC5pBh_X5BJ3gr97gy1UFWXVyzEnWBWgtZYSuni4qlsT8WZEypbzgKDUaCDRKX4cMsIdjeipQAa9uzejjOVFe9nPodWSBtnBPm45zRoiJ4MgpeWg",
  "Scope": "openid profile scope_used_for_hybrid_flow offline_access"
}
2018-08-16 10:24:43.952 -04:00 [INF] Authorize endpoint response
{
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "ClientId": "hybridclient",
  "RedirectUri": "https://localhost:44381/signin-oidc",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O1Wvr0MvaJN-XUMOg104DR8uW0IBZgtZmzlvKB1cBsMUEA5OrJlg7IbygvZPdlH7AnRpIUDibPL_VARc9NT66Dyxr8DB3wlplBFMVWuzaRbiSll0AigZHt-0MMvuR4LypLMqfvy6pB01dy_may_sS6h1qwBjFoa6Tvi0oZMuKw_L-LxIlA2KDfYQp5lNdinis0HWqBpjPlgyLgQgnMLC5pBh_X5BJ3gr97gy1UFWXVyzEnWBWgtZYSuni4qlsT8WZEypbzgKDUaCDRKX4cMsIdjeipQAa9uzejjOVFe9nPodWSBtnBPm45zRoiJ4MgpeWg",
  "Scope": "openid profile scope_used_for_hybrid_flow offline_access"
}
2018-08-16 10:24:43.952 -04:00 [DBG] Augmenting SignInContext
2018-08-16 10:24:43.952 -04:00 [DBG] Augmenting SignInContext
2018-08-16 10:24:43.953 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-16 10:24:43.956 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-16 10:24:43.996 -04:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-08-16 10:24:43.996 -04:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-08-16 10:24:43.997 -04:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-08-16 10:24:43.997 -04:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-08-16 10:24:43.997 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-08-16 10:24:43.999 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-08-16 10:24:43.999 -04:00 [DBG] Start token request.
2018-08-16 10:24:43.999 -04:00 [DBG] Start token request.
2018-08-16 10:24:43.999 -04:00 [DBG] Start client validation
2018-08-16 10:24:43.999 -04:00 [DBG] Start client validation
2018-08-16 10:24:44.000 -04:00 [DBG] Start parsing Basic Authentication secret
2018-08-16 10:24:44.000 -04:00 [DBG] Start parsing Basic Authentication secret
2018-08-16 10:24:44.000 -04:00 [DBG] Start parsing for secret in post body
2018-08-16 10:24:44.000 -04:00 [DBG] Start parsing for secret in post body
2018-08-16 10:24:44.000 -04:00 [DBG] Parser found secret: PostBodySecretParser
2018-08-16 10:24:44.000 -04:00 [DBG] Parser found secret: PostBodySecretParser
2018-08-16 10:24:44.000 -04:00 [DBG] Secret id found: hybridclient
2018-08-16 10:24:44.000 -04:00 [DBG] Secret id found: hybridclient
2018-08-16 10:24:44.245 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:44.245 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:44.246 -04:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-08-16 10:24:44.246 -04:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-08-16 10:24:44.246 -04:00 [DBG] Client validation success
2018-08-16 10:24:44.246 -04:00 [DBG] Client validation success
2018-08-16 10:24:44.246 -04:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "hybridclient",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLG3G18FPNN1:00000009",
  "TimeStamp": "2018-08-16T14:24:44Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-16 10:24:44.248 -04:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "hybridclient",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLG3G18FPNN1:00000009",
  "TimeStamp": "2018-08-16T14:24:44Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-16 10:24:44.248 -04:00 [DBG] Start token request validation
2018-08-16 10:24:44.248 -04:00 [DBG] Start token request validation
2018-08-16 10:24:44.248 -04:00 [DBG] Start validation of authorization code token request
2018-08-16 10:24:44.248 -04:00 [DBG] Start validation of authorization code token request
2018-08-16 10:24:44.274 -04:00 [DBG] I4T+A9naXytObJj7KELL3IYayWQTnq8Px6V7zYWefzw= found in database: true
2018-08-16 10:24:44.275 -04:00 [DBG] I4T+A9naXytObJj7KELL3IYayWQTnq8Px6V7zYWefzw= found in database: true
2018-08-16 10:24:44.301 -04:00 [DBG] removing I4T+A9naXytObJj7KELL3IYayWQTnq8Px6V7zYWefzw= persisted grant from database
2018-08-16 10:24:44.301 -04:00 [DBG] removing I4T+A9naXytObJj7KELL3IYayWQTnq8Px6V7zYWefzw= persisted grant from database
2018-08-16 10:24:44.357 -04:00 [DBG] Validation of authorization code token request success
2018-08-16 10:24:44.357 -04:00 [DBG] Validation of authorization code token request success
2018-08-16 10:24:44.358 -04:00 [INF] Token request validation success
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "GrantType": "authorization_code",
  "AuthorizationCode": "4cb3c7fdfa1fd47fa5e8bc09b54bbe2e820538c0de7b7baca0bbe190ce355b9a",
  "Raw": {
    "client_id": "hybridclient",
    "client_secret": "***REDACTED***",
    "code": "4cb3c7fdfa1fd47fa5e8bc09b54bbe2e820538c0de7b7baca0bbe190ce355b9a",
    "grant_type": "authorization_code",
    "redirect_uri": "https://localhost:44381/signin-oidc"
  }
}
2018-08-16 10:24:44.360 -04:00 [INF] Token request validation success
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "GrantType": "authorization_code",
  "AuthorizationCode": "4cb3c7fdfa1fd47fa5e8bc09b54bbe2e820538c0de7b7baca0bbe190ce355b9a",
  "Raw": {
    "client_id": "hybridclient",
    "client_secret": "***REDACTED***",
    "code": "4cb3c7fdfa1fd47fa5e8bc09b54bbe2e820538c0de7b7baca0bbe190ce355b9a",
    "grant_type": "authorization_code",
    "redirect_uri": "https://localhost:44381/signin-oidc"
  }
}
2018-08-16 10:24:44.647 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:44.647 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:44.704 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:24:44.704 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:24:44.846 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:24:44.846 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:24:44.846 -04:00 [DBG] Getting claims for access token for client: hybridclient
2018-08-16 10:24:44.847 -04:00 [DBG] Getting claims for access token for client: hybridclient
2018-08-16 10:24:44.847 -04:00 [DBG] Getting claims for access token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:24:44.847 -04:00 [DBG] Getting claims for access token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:24:44.908 -04:00 [DBG] Creating refresh token
2018-08-16 10:24:44.908 -04:00 [DBG] Creating refresh token
2018-08-16 10:24:44.908 -04:00 [DBG] Setting an absolute lifetime: 2592000
2018-08-16 10:24:44.908 -04:00 [DBG] Setting an absolute lifetime: 2592000
2018-08-16 10:24:44.944 -04:00 [DBG] mrD0DGbfgGvwbFNzT/ZOLZSzH5Ob/lJYQQkNZPOS850= not found in database
2018-08-16 10:24:44.944 -04:00 [DBG] mrD0DGbfgGvwbFNzT/ZOLZSzH5Ob/lJYQQkNZPOS850= not found in database
2018-08-16 10:24:45.270 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:45.270 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:45.329 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:24:45.329 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:24:45.475 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:24:45.475 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:24:45.475 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: hybridclient
2018-08-16 10:24:45.475 -04:00 [DBG] Getting claims for identity token for subject: 42e7347c-f81b-46bb-81f7-6dff9ecea04a and client: hybridclient
2018-08-16 10:24:45.475 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-16 10:24:45.476 -04:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-16 10:24:45.478 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "Endpoint": "Token",
  "Scopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "GrantType": "authorization_code",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****qAVw"
    },
    {
      "TokenType": "refresh_token",
      "TokenValue": "****d97b"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****Tn-Q"
    }
  ],
  "ActivityId": "0HLG3G18FPNN1:00000009",
  "TimeStamp": "2018-08-16T14:24:45Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-16 10:24:45.480 -04:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "Endpoint": "Token",
  "Scopes": "openid profile scope_used_for_hybrid_flow offline_access",
  "GrantType": "authorization_code",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****qAVw"
    },
    {
      "TokenType": "refresh_token",
      "TokenValue": "****d97b"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****Tn-Q"
    }
  ],
  "ActivityId": "0HLG3G18FPNN1:00000009",
  "TimeStamp": "2018-08-16T14:24:45Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "127.0.0.1"
}
2018-08-16 10:24:45.481 -04:00 [DBG] Token request success.
2018-08-16 10:24:45.481 -04:00 [DBG] Token request success.
2018-08-16 10:24:45.519 -04:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2018-08-16 10:24:45.519 -04:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2018-08-16 10:24:45.519 -04:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2018-08-16 10:24:45.520 -04:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2018-08-16 10:24:45.520 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-08-16 10:24:45.522 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-08-16 10:24:45.522 -04:00 [DBG] Start userinfo request
2018-08-16 10:24:45.522 -04:00 [DBG] Start userinfo request
2018-08-16 10:24:45.522 -04:00 [DBG] Bearer token found in header
2018-08-16 10:24:45.522 -04:00 [DBG] Bearer token found in header
2018-08-16 10:24:45.762 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:45.762 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:45.982 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:45.982 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:46.012 -04:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-08-16 10:24:46.012 -04:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-08-16 10:24:46.012 -04:00 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1534429484,
    "exp": 1534433084,
    "iss": "https://localhost:44391",
    "aud": [
      "https://localhost:44391/resources",
      "scope_used_for_hybrid_flow"
    ],
    "client_id": "hybridclient",
    "sub": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
    "auth_time": 1534429477,
    "idp": "Windows",
    "scope": [
      "openid",
      "profile",
      "scope_used_for_hybrid_flow",
      "offline_access"
    ],
    "amr": "external"
  }
}
2018-08-16 10:24:46.012 -04:00 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1534429484,
    "exp": 1534433084,
    "iss": "https://localhost:44391",
    "aud": [
      "https://localhost:44391/resources",
      "scope_used_for_hybrid_flow"
    ],
    "client_id": "hybridclient",
    "sub": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
    "auth_time": 1534429477,
    "idp": "Windows",
    "scope": [
      "openid",
      "profile",
      "scope_used_for_hybrid_flow",
      "offline_access"
    ],
    "amr": "external"
  }
}
2018-08-16 10:24:46.012 -04:00 [DBG] Creating userinfo response
2018-08-16 10:24:46.012 -04:00 [DBG] Creating userinfo response
2018-08-16 10:24:46.012 -04:00 [DBG] Scopes in access token: openid profile scope_used_for_hybrid_flow offline_access
2018-08-16 10:24:46.012 -04:00 [DBG] Scopes in access token: openid profile scope_used_for_hybrid_flow offline_access
2018-08-16 10:24:46.012 -04:00 [DBG] Scopes in access token: openid profile scope_used_for_hybrid_flow offline_access
2018-08-16 10:24:46.012 -04:00 [DBG] Scopes in access token: openid profile scope_used_for_hybrid_flow offline_access
2018-08-16 10:24:46.076 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:24:46.076 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:24:46.076 -04:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2018-08-16 10:24:46.076 -04:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2018-08-16 10:24:46.076 -04:00 [DBG] Scopes in access token: openid profile scope_used_for_hybrid_flow offline_access
2018-08-16 10:24:46.076 -04:00 [DBG] Scopes in access token: openid profile scope_used_for_hybrid_flow offline_access
2018-08-16 10:24:46.130 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:24:46.130 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:24:46.190 -04:00 [INF] Profile service returned to the following claim types: sub name preferred_username
2018-08-16 10:24:46.192 -04:00 [INF] Profile service returned to the following claim types: sub name preferred_username
2018-08-16 10:24:46.193 -04:00 [DBG] End userinfo request
2018-08-16 10:24:46.193 -04:00 [DBG] End userinfo request
2018-08-16 10:24:52.402 -04:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2018-08-16 10:24:52.402 -04:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2018-08-16 10:24:52.402 -04:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2018-08-16 10:24:52.402 -04:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2018-08-16 10:24:52.402 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2018-08-16 10:24:52.405 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2018-08-16 10:24:52.405 -04:00 [DBG] Processing signout request for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:24:52.405 -04:00 [DBG] Processing signout request for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:24:52.405 -04:00 [DBG] Start end session request validation
2018-08-16 10:24:52.405 -04:00 [DBG] Start end session request validation
2018-08-16 10:24:52.405 -04:00 [DBG] Start identity token validation
2018-08-16 10:24:52.405 -04:00 [DBG] Start identity token validation
2018-08-16 10:24:52.638 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:52.638 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:52.639 -04:00 [DBG] Client found: hybridclient / MVC Client
2018-08-16 10:24:52.639 -04:00 [DBG] Client found: hybridclient / MVC Client
2018-08-16 10:24:52.667 -04:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-08-16 10:24:52.668 -04:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-08-16 10:24:52.668 -04:00 [DBG] Token validation success
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "ValidateLifetime": false,
  "Claims": {
    "nbf": 1534429485,
    "exp": 1534429785,
    "iss": "https://localhost:44391",
    "aud": "hybridclient",
    "nonce": "636700262717090481.NWIwYjBkOTgtYjI0Yy00MjRjLTgwZDYtZjVjMDkzZmExMTQ4N2IwYTU1NWMtMDRjMi00MzA4LWE1YjEtYWM0OWJhOTNhYTEy",
    "iat": 1534429485,
    "at_hash": "JQDyIYXycg67TeOICv5Wfg",
    "sid": "91e78eb2f81a28ce94142a3366b80d45",
    "sub": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
    "auth_time": 1534429477,
    "idp": "Windows",
    "amr": "external"
  }
}
2018-08-16 10:24:52.668 -04:00 [DBG] Token validation success
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "ValidateLifetime": false,
  "Claims": {
    "nbf": 1534429485,
    "exp": 1534429785,
    "iss": "https://localhost:44391",
    "aud": "hybridclient",
    "nonce": "636700262717090481.NWIwYjBkOTgtYjI0Yy00MjRjLTgwZDYtZjVjMDkzZmExMTQ4N2IwYTU1NWMtMDRjMi00MzA4LWE1YjEtYWM0OWJhOTNhYTEy",
    "iat": 1534429485,
    "at_hash": "JQDyIYXycg67TeOICv5Wfg",
    "sid": "91e78eb2f81a28ce94142a3366b80d45",
    "sub": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
    "auth_time": 1534429477,
    "idp": "Windows",
    "amr": "external"
  }
}
2018-08-16 10:24:52.668 -04:00 [INF] End session request validation success
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "PostLogOutUri": "https://localhost:44381/signout-callback-oidc",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O0_4FLS8jNcHzRoTU0MB4KbAFHR0XxHudQm1ThV7-S1whwmnnGlOIZVWaxH-ed9ECeG4XbfCp79jN_q_ljRPh8qEWhP391gGt_8w0iIYNlalEysuEf3Tw0ISesX_qUIao6lP1n19E_HspkMXbrSn5Ra",
  "Raw": {
    "post_logout_redirect_uri": "https://localhost:44381/signout-callback-oidc",
    "id_token_hint": "eyJhbGciOiJSUzI1NiIsImtpZCI6IjA2RDNFNDZFOTEwNzNDNUQ0QkMyQzk5ODNCRTlGRjQ0OENGNjQwRDQiLCJ0eXAiOiJKV1QiLCJ4NXQiOiJCdFBrYnBFSFBGMUx3c21ZTy1uX1JJejJRTlEifQ.eyJuYmYiOjE1MzQ0Mjk0ODUsImV4cCI6MTUzNDQyOTc4NSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzOTEiLCJhdWQiOiJoeWJyaWRjbGllbnQiLCJub25jZSI6IjYzNjcwMDI2MjcxNzA5MDQ4MS5OV0l3WWpCa09UZ3RZakkwWXkwME1qUmpMVGd3WkRZdFpqVmpNRGt6Wm1FeE1UUTROMkl3WVRVMU5XTXRNRFJqTWkwME16QTRMV0UxWWpFdFlXTTBPV0poT1ROaFlURXkiLCJpYXQiOjE1MzQ0Mjk0ODUsImF0X2hhc2giOiJKUUR5SVlYeWNnNjdUZU9JQ3Y1V2ZnIiwic2lkIjoiOTFlNzhlYjJmODFhMjhjZTk0MTQyYTMzNjZiODBkNDUiLCJzdWIiOiI0MmU3MzQ3Yy1mODFiLTQ2YmItODFmNy02ZGZmOWVjZWEwNGEiLCJhdXRoX3RpbWUiOjE1MzQ0Mjk0NzcsImlkcCI6IldpbmRvd3MiLCJhbXIiOlsiZXh0ZXJuYWwiXX0.WkZpCpOeFvvxR9x6uPDMWYI4_-InXPAzmZHPiTno8sOP7aHzVol8tG-FgAl9XQVDvJgH4wEnQYXCBKHeWt_zh0IJ0GUZ8CZLw8jH3GZcszU4WnEGCbqKWQ_xvrRrOpjNuyDV2448zc4Et1YnXb_qWKmuE_IgKjd2w-PYkvFnK9aCfeIW_R-sv8CMZekuUHOJY0HCLwLt5dgmV9QA5H8xnr_K9ZH-sQNY_fW9wz_d6qg26cU1jLgvKM0xJsoHvbSuQjqomzHiv6bCFGwlTIvbhdWUU9qLqYTk4dCI3H1w_dCTaAlbKQpz0-vqKBl-VtQkPfKwUzHm5UUfWxqWqyqAVw",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O0_4FLS8jNcHzRoTU0MB4KbAFHR0XxHudQm1ThV7-S1whwmnnGlOIZVWaxH-ed9ECeG4XbfCp79jN_q_ljRPh8qEWhP391gGt_8w0iIYNlalEysuEf3Tw0ISesX_qUIao6lP1n19E_HspkMXbrSn5Ra",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:24:52.671 -04:00 [INF] End session request validation success
{
  "ClientId": "hybridclient",
  "ClientName": "MVC Client",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "PostLogOutUri": "https://localhost:44381/signout-callback-oidc",
  "State": "CfDJ8GdJmX0BIi1LrZt3URwV0O0_4FLS8jNcHzRoTU0MB4KbAFHR0XxHudQm1ThV7-S1whwmnnGlOIZVWaxH-ed9ECeG4XbfCp79jN_q_ljRPh8qEWhP391gGt_8w0iIYNlalEysuEf3Tw0ISesX_qUIao6lP1n19E_HspkMXbrSn5Ra",
  "Raw": {
    "post_logout_redirect_uri": "https://localhost:44381/signout-callback-oidc",
    "id_token_hint": "eyJhbGciOiJSUzI1NiIsImtpZCI6IjA2RDNFNDZFOTEwNzNDNUQ0QkMyQzk5ODNCRTlGRjQ0OENGNjQwRDQiLCJ0eXAiOiJKV1QiLCJ4NXQiOiJCdFBrYnBFSFBGMUx3c21ZTy1uX1JJejJRTlEifQ.eyJuYmYiOjE1MzQ0Mjk0ODUsImV4cCI6MTUzNDQyOTc4NSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzOTEiLCJhdWQiOiJoeWJyaWRjbGllbnQiLCJub25jZSI6IjYzNjcwMDI2MjcxNzA5MDQ4MS5OV0l3WWpCa09UZ3RZakkwWXkwME1qUmpMVGd3WkRZdFpqVmpNRGt6Wm1FeE1UUTROMkl3WVRVMU5XTXRNRFJqTWkwME16QTRMV0UxWWpFdFlXTTBPV0poT1ROaFlURXkiLCJpYXQiOjE1MzQ0Mjk0ODUsImF0X2hhc2giOiJKUUR5SVlYeWNnNjdUZU9JQ3Y1V2ZnIiwic2lkIjoiOTFlNzhlYjJmODFhMjhjZTk0MTQyYTMzNjZiODBkNDUiLCJzdWIiOiI0MmU3MzQ3Yy1mODFiLTQ2YmItODFmNy02ZGZmOWVjZWEwNGEiLCJhdXRoX3RpbWUiOjE1MzQ0Mjk0NzcsImlkcCI6IldpbmRvd3MiLCJhbXIiOlsiZXh0ZXJuYWwiXX0.WkZpCpOeFvvxR9x6uPDMWYI4_-InXPAzmZHPiTno8sOP7aHzVol8tG-FgAl9XQVDvJgH4wEnQYXCBKHeWt_zh0IJ0GUZ8CZLw8jH3GZcszU4WnEGCbqKWQ_xvrRrOpjNuyDV2448zc4Et1YnXb_qWKmuE_IgKjd2w-PYkvFnK9aCfeIW_R-sv8CMZekuUHOJY0HCLwLt5dgmV9QA5H8xnr_K9ZH-sQNY_fW9wz_d6qg26cU1jLgvKM0xJsoHvbSuQjqomzHiv6bCFGwlTIvbhdWUU9qLqYTk4dCI3H1w_dCTaAlbKQpz0-vqKBl-VtQkPfKwUzHm5UUfWxqWqyqAVw",
    "state": "CfDJ8GdJmX0BIi1LrZt3URwV0O0_4FLS8jNcHzRoTU0MB4KbAFHR0XxHudQm1ThV7-S1whwmnnGlOIZVWaxH-ed9ECeG4XbfCp79jN_q_ljRPh8qEWhP391gGt_8w0iIYNlalEysuEf3Tw0ISesX_qUIao6lP1n19E_HspkMXbrSn5Ra",
    "x-client-SKU": "ID_NETSTANDARD1_4",
    "x-client-ver": "5.2.0.0"
  }
}
2018-08-16 10:24:52.685 -04:00 [DBG] Success validating end session request from hybridclient
2018-08-16 10:24:52.685 -04:00 [DBG] Success validating end session request from hybridclient
2018-08-16 10:24:52.715 -04:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-08-16 10:24:52.717 -04:00 [INF] AuthenticationScheme: Identity.Application signed out.
2018-08-16 10:24:52.717 -04:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-16 10:24:52.719 -04:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-16 10:24:52.720 -04:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-08-16 10:24:52.722 -04:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2018-08-16 10:24:52.722 -04:00 [INF] {
  "Name": "User Logout Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1002,
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "DisplayName": "OFINA\\ikorolenko",
  "ActivityId": "0HLG3G18FPNMV:0000000A",
  "TimeStamp": "2018-08-16T14:24:52Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "::1"
}
2018-08-16 10:24:52.724 -04:00 [INF] {
  "Name": "User Logout Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1002,
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "DisplayName": "OFINA\\ikorolenko",
  "ActivityId": "0HLG3G18FPNMV:0000000A",
  "TimeStamp": "2018-08-16T14:24:52Z",
  "ProcessId": 6492,
  "LocalIpAddress": "127.0.0.1:20913",
  "RemoteIpAddress": "::1"
}
2018-08-16 10:24:52.793 -04:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2018-08-16 10:24:52.793 -04:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2018-08-16 10:24:52.794 -04:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2018-08-16 10:24:52.794 -04:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2018-08-16 10:24:52.794 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2018-08-16 10:24:52.808 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2018-08-16 10:24:52.809 -04:00 [DBG] Processing signout callback request
2018-08-16 10:24:52.809 -04:00 [DBG] Processing signout callback request
2018-08-16 10:24:53.223 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:53.223 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:24:53.223 -04:00 [DBG] Client front-channel logout URLs: https://localhost:44381/signout-oidc?sid=91e78eb2f81a28ce94142a3366b80d45&iss=https%3A%2F%2Flocalhost%3A44391
2018-08-16 10:24:53.224 -04:00 [DBG] Client front-channel logout URLs: https://localhost:44381/signout-oidc?sid=91e78eb2f81a28ce94142a3366b80d45&iss=https%3A%2F%2Flocalhost%3A44391
2018-08-16 10:24:53.224 -04:00 [DBG] No client back-channel logout URLs
2018-08-16 10:24:53.224 -04:00 [DBG] No client back-channel logout URLs
2018-08-16 10:24:53.224 -04:00 [INF] Successful signout callback.
2018-08-16 10:24:53.226 -04:00 [INF] Successful signout callback.
2018-08-16 10:24:53.226 -04:00 [DBG] Client front-channel iframe urls: ["https://localhost:44381/signout-oidc?sid=91e78eb2f81a28ce94142a3366b80d45&iss=https%3A%2F%2Flocalhost%3A44391"]
2018-08-16 10:24:53.226 -04:00 [DBG] Client front-channel iframe urls: https://localhost:44381/signout-oidc?sid=91e78eb2f81a28ce94142a3366b80d45&iss=https%3A%2F%2Flocalhost%3A44391
2018-08-16 10:24:53.226 -04:00 [DBG] No client back-channel iframe urls
2018-08-16 10:24:53.226 -04:00 [DBG] No client back-channel iframe urls
2018-08-16 10:36:29.856 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-16 10:36:29.890 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-16 10:36:29.890 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-16 10:36:29.890 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-16 10:36:29.891 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-16 10:36:29.891 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-16 10:36:29.891 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-16 10:36:29.891 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-16 10:36:29.891 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-16 10:36:29.891 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-16 10:36:30.551 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44311
2018-08-16 10:36:30.555 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44311
2018-08-16 10:36:33.304 -04:00 [DBG] Origin https://localhost:44311 is allowed: false
2018-08-16 10:36:33.308 -04:00 [DBG] Origin https://localhost:44311 is allowed: false
2018-08-16 10:36:33.308 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44311
2018-08-16 10:36:33.308 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44311
2018-08-16 10:36:33.322 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 10:36:33.322 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 10:36:33.440 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 10:36:33.440 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 10:36:33.440 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 10:36:33.440 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 10:36:33.444 -04:00 [DBG] Start discovery request
2018-08-16 10:36:33.444 -04:00 [DBG] Start discovery request
2018-08-16 10:36:34.016 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-16 10:36:34.021 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-16 10:46:34.010 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44311
2018-08-16 10:46:34.010 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44311
2018-08-16 10:46:34.026 -04:00 [DBG] Origin https://localhost:44311 is allowed: false
2018-08-16 10:46:34.027 -04:00 [DBG] Origin https://localhost:44311 is allowed: false
2018-08-16 10:46:34.027 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44311
2018-08-16 10:46:34.027 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44311
2018-08-16 10:46:34.027 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 10:46:34.027 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 10:46:34.027 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 10:46:34.027 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 10:46:34.027 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 10:46:34.027 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 10:46:34.027 -04:00 [DBG] Start discovery request
2018-08-16 10:46:34.027 -04:00 [DBG] Start discovery request
2018-08-16 10:46:34.053 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-16 10:46:34.053 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-16 10:47:17.281 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44311
2018-08-16 10:47:17.282 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44311
2018-08-16 10:47:17.285 -04:00 [DBG] Origin https://localhost:44311 is allowed: false
2018-08-16 10:47:17.285 -04:00 [DBG] Origin https://localhost:44311 is allowed: false
2018-08-16 10:47:17.285 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44311
2018-08-16 10:47:17.285 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44311
2018-08-16 10:47:17.285 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 10:47:17.285 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 10:47:17.285 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 10:47:17.286 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 10:47:17.286 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 10:47:17.287 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 10:47:17.287 -04:00 [DBG] Start discovery request
2018-08-16 10:47:17.287 -04:00 [DBG] Start discovery request
2018-08-16 10:47:17.300 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-16 10:47:17.300 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-16 10:48:12.404 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44311
2018-08-16 10:48:12.404 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44311
2018-08-16 10:48:12.412 -04:00 [DBG] Origin https://localhost:44311 is allowed: false
2018-08-16 10:48:12.412 -04:00 [DBG] Origin https://localhost:44311 is allowed: false
2018-08-16 10:48:12.412 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44311
2018-08-16 10:48:12.415 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44311
2018-08-16 10:48:12.415 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 10:48:12.415 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 10:48:12.415 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 10:48:12.415 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 10:48:12.415 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 10:48:12.420 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 10:48:12.420 -04:00 [DBG] Start discovery request
2018-08-16 10:48:12.420 -04:00 [DBG] Start discovery request
2018-08-16 10:48:12.450 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-16 10:48:12.450 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-16 10:48:45.501 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-16 10:48:45.545 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-16 10:48:45.545 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-16 10:48:45.546 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-16 10:48:45.546 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-16 10:48:45.546 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-16 10:48:45.546 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-16 10:48:45.546 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-16 10:48:45.546 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-16 10:48:45.546 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-16 10:48:49.567 -04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-08-16 10:48:49.575 -04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-08-16 10:48:53.610 -04:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-16 10:48:53.611 -04:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-16 10:48:54.762 -04:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Windows",
  "ProviderUserId": "OFINA\\ikorolenko",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "DisplayName": "OFINA\\ikorolenko",
  "Endpoint": "UI",
  "ActivityId": "0HLG3GTF5O0M7:00000003",
  "TimeStamp": "2018-08-16T14:48:54Z",
  "ProcessId": 13964,
  "LocalIpAddress": "127.0.0.1:23424",
  "RemoteIpAddress": "::1"
}
2018-08-16 10:48:54.764 -04:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Windows",
  "ProviderUserId": "OFINA\\ikorolenko",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "DisplayName": "OFINA\\ikorolenko",
  "Endpoint": "UI",
  "ActivityId": "0HLG3GTF5O0M7:00000003",
  "TimeStamp": "2018-08-16T14:48:54Z",
  "ProcessId": 13964,
  "LocalIpAddress": "127.0.0.1:23424",
  "RemoteIpAddress": "::1"
}
2018-08-16 10:48:54.784 -04:00 [DBG] Augmenting SignInContext
2018-08-16 10:48:54.784 -04:00 [DBG] Augmenting SignInContext
2018-08-16 10:48:54.786 -04:00 [DBG] Adding amr claim with value: external
2018-08-16 10:48:54.786 -04:00 [DBG] Adding amr claim with value: external
2018-08-16 10:48:54.798 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-16 10:48:54.800 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-16 10:48:54.816 -04:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-16 10:48:54.818 -04:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-16 10:48:54.977 -04:00 [DBG] 5 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:48:54.982 -04:00 [DBG] 5 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 10:48:56.146 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:48:56.146 -04:00 [DBG] hybridclient found in database: true
2018-08-16 10:48:56.267 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 10:48:56.272 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 10:48:56.622 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 10:48:56.622 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 10:50:06.740 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44311
2018-08-16 10:50:06.740 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44311
2018-08-16 10:50:06.783 -04:00 [DBG] Origin https://localhost:44311 is allowed: false
2018-08-16 10:50:06.783 -04:00 [DBG] Origin https://localhost:44311 is allowed: false
2018-08-16 10:50:06.783 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44311
2018-08-16 10:50:06.785 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44311
2018-08-16 10:50:06.795 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 10:50:06.795 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 10:50:06.798 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 10:50:06.798 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 10:50:06.798 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 10:50:06.801 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 10:50:06.804 -04:00 [DBG] Start discovery request
2018-08-16 10:50:06.804 -04:00 [DBG] Start discovery request
2018-08-16 10:50:07.015 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-16 10:50:07.015 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-16 10:50:17.770 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44311
2018-08-16 10:50:17.770 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44311
2018-08-16 10:50:17.809 -04:00 [DBG] Origin https://localhost:44311 is allowed: false
2018-08-16 10:50:17.809 -04:00 [DBG] Origin https://localhost:44311 is allowed: false
2018-08-16 10:50:17.809 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44311
2018-08-16 10:50:17.814 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44311
2018-08-16 10:50:17.815 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 10:50:17.815 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 10:50:17.815 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 10:50:17.815 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 10:50:17.815 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 10:50:17.825 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 10:50:17.825 -04:00 [DBG] Start discovery request
2018-08-16 10:50:17.825 -04:00 [DBG] Start discovery request
2018-08-16 10:50:18.087 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-16 10:50:18.087 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-16 10:51:44.103 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44311
2018-08-16 10:51:44.104 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44311
2018-08-16 10:51:44.154 -04:00 [DBG] Origin https://localhost:44311 is allowed: false
2018-08-16 10:51:44.154 -04:00 [DBG] Origin https://localhost:44311 is allowed: false
2018-08-16 10:51:44.154 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44311
2018-08-16 10:51:44.159 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44311
2018-08-16 10:51:44.159 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 10:51:44.159 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 10:51:44.159 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 10:51:44.159 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 10:51:44.159 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 10:51:44.166 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 10:51:44.166 -04:00 [DBG] Start discovery request
2018-08-16 10:51:44.167 -04:00 [DBG] Start discovery request
2018-08-16 10:51:44.354 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-16 10:51:44.354 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-16 11:38:47.410 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-16 11:38:47.458 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-16 11:38:47.458 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-16 11:38:47.458 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-16 11:38:47.458 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-16 11:38:47.458 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-16 11:38:47.459 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-16 11:38:47.459 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-16 11:38:47.459 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-16 11:38:47.459 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-16 11:38:51.719 -04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-08-16 11:38:51.725 -04:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-08-16 11:38:56.242 -04:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-16 11:38:56.244 -04:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-16 11:38:57.396 -04:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Windows",
  "ProviderUserId": "OFINA\\ikorolenko",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "DisplayName": "OFINA\\ikorolenko",
  "Endpoint": "UI",
  "ActivityId": "0HLG3HPDQHI0J:00000003",
  "TimeStamp": "2018-08-16T15:38:57Z",
  "ProcessId": 13108,
  "LocalIpAddress": "127.0.0.1:28163",
  "RemoteIpAddress": "::1"
}
2018-08-16 11:38:57.400 -04:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Windows",
  "ProviderUserId": "OFINA\\ikorolenko",
  "SubjectId": "42e7347c-f81b-46bb-81f7-6dff9ecea04a",
  "DisplayName": "OFINA\\ikorolenko",
  "Endpoint": "UI",
  "ActivityId": "0HLG3HPDQHI0J:00000003",
  "TimeStamp": "2018-08-16T15:38:57Z",
  "ProcessId": 13108,
  "LocalIpAddress": "127.0.0.1:28163",
  "RemoteIpAddress": "::1"
}
2018-08-16 11:38:57.418 -04:00 [DBG] Augmenting SignInContext
2018-08-16 11:38:57.419 -04:00 [DBG] Augmenting SignInContext
2018-08-16 11:38:57.420 -04:00 [DBG] Adding amr claim with value: external
2018-08-16 11:38:57.420 -04:00 [DBG] Adding amr claim with value: external
2018-08-16 11:38:57.431 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-16 11:38:57.435 -04:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-16 11:38:57.450 -04:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-16 11:38:57.452 -04:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-16 11:38:57.603 -04:00 [DBG] 5 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 11:38:57.607 -04:00 [DBG] 5 persisted grants found for 42e7347c-f81b-46bb-81f7-6dff9ecea04a
2018-08-16 11:38:58.693 -04:00 [DBG] hybridclient found in database: true
2018-08-16 11:38:58.693 -04:00 [DBG] hybridclient found in database: true
2018-08-16 11:38:58.810 -04:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-16 11:38:58.816 -04:00 [DBG] Found openid, profile identity scopes in database
2018-08-16 11:38:59.183 -04:00 [DBG] Found ["scope_used_for_hybrid_flow"] API scopes in database
2018-08-16 11:38:59.183 -04:00 [DBG] Found scope_used_for_hybrid_flow API scopes in database
2018-08-16 11:55:25.969 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-16 11:55:26.014 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-16 11:55:26.014 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-16 11:55:26.015 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-16 11:55:26.015 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-16 11:55:26.015 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-16 11:55:26.015 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-16 11:55:26.015 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-16 11:55:26.015 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-16 11:55:26.015 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-16 14:07:45.654 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44304
2018-08-16 14:07:45.658 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44304
2018-08-16 14:07:48.191 -04:00 [DBG] Origin https://localhost:44304 is allowed: false
2018-08-16 14:07:48.195 -04:00 [DBG] Origin https://localhost:44304 is allowed: false
2018-08-16 14:07:48.196 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44304
2018-08-16 14:07:48.198 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44304
2018-08-16 14:07:48.213 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 14:07:48.213 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 14:07:48.418 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 14:07:48.418 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 14:07:48.418 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 14:07:48.420 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 14:07:48.423 -04:00 [DBG] Start discovery request
2018-08-16 14:07:48.423 -04:00 [DBG] Start discovery request
2018-08-16 14:07:49.223 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-16 14:07:49.228 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-16 14:08:45.622 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-16 14:08:45.669 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-16 14:08:45.670 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-16 14:08:45.670 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-16 14:08:45.670 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-16 14:08:45.670 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-16 14:08:45.670 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-16 14:08:45.670 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-16 14:08:45.670 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-16 14:08:45.670 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-16 14:08:59.352 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44304
2018-08-16 14:08:59.355 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44304
2018-08-16 14:09:00.643 -04:00 [DBG] Origin https://localhost:44304 is allowed: false
2018-08-16 14:09:00.647 -04:00 [DBG] Origin https://localhost:44304 is allowed: false
2018-08-16 14:09:00.647 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44304
2018-08-16 14:09:00.649 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44304
2018-08-16 14:09:00.662 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 14:09:00.662 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 14:09:00.861 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 14:09:00.861 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 14:09:00.861 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 14:09:00.863 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 14:09:00.866 -04:00 [DBG] Start discovery request
2018-08-16 14:09:00.866 -04:00 [DBG] Start discovery request
2018-08-16 14:09:01.653 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-16 14:09:01.658 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-16 14:09:30.991 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-16 14:09:31.034 -04:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-16 14:09:31.034 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-16 14:09:31.034 -04:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-16 14:09:31.035 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-16 14:09:31.035 -04:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-16 14:09:31.035 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-16 14:09:31.035 -04:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-16 14:09:31.035 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-16 14:09:31.035 -04:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-16 14:10:44.906 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44304
2018-08-16 14:10:44.910 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44304
2018-08-16 14:10:46.208 -04:00 [DBG] Origin https://localhost:44304 is allowed: false
2018-08-16 14:10:46.212 -04:00 [DBG] Origin https://localhost:44304 is allowed: false
2018-08-16 14:10:46.212 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44304
2018-08-16 14:10:46.215 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44304
2018-08-16 14:10:46.230 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 14:10:46.230 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 14:10:46.432 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 14:10:46.432 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 14:10:46.432 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 14:10:46.439 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 14:10:46.443 -04:00 [DBG] Start discovery request
2018-08-16 14:10:46.443 -04:00 [DBG] Start discovery request
2018-08-16 14:10:47.198 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-16 14:10:47.204 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-16 14:11:03.441 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44304
2018-08-16 14:11:03.441 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44304
2018-08-16 14:11:03.482 -04:00 [DBG] Origin https://localhost:44304 is allowed: false
2018-08-16 14:11:03.482 -04:00 [DBG] Origin https://localhost:44304 is allowed: false
2018-08-16 14:11:03.482 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44304
2018-08-16 14:11:03.490 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44304
2018-08-16 14:11:03.490 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 14:11:03.491 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 14:11:03.491 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 14:11:03.491 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 14:11:03.491 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 14:11:03.501 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 14:11:03.501 -04:00 [DBG] Start discovery request
2018-08-16 14:11:03.501 -04:00 [DBG] Start discovery request
2018-08-16 14:11:03.768 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-16 14:11:03.768 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-16 14:11:09.205 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44304
2018-08-16 14:11:09.205 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44304
2018-08-16 14:11:09.233 -04:00 [DBG] Origin https://localhost:44304 is allowed: false
2018-08-16 14:11:09.233 -04:00 [DBG] Origin https://localhost:44304 is allowed: false
2018-08-16 14:11:09.233 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44304
2018-08-16 14:11:09.235 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44304
2018-08-16 14:11:09.235 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 14:11:09.235 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 14:11:09.235 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 14:11:09.235 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 14:11:09.235 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 14:11:09.237 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 14:11:09.237 -04:00 [DBG] Start discovery request
2018-08-16 14:11:09.237 -04:00 [DBG] Start discovery request
2018-08-16 14:11:09.387 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-16 14:11:09.387 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
2018-08-16 14:12:43.052 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44304
2018-08-16 14:12:43.053 -04:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:44304
2018-08-16 14:12:43.083 -04:00 [DBG] Origin https://localhost:44304 is allowed: false
2018-08-16 14:12:43.083 -04:00 [DBG] Origin https://localhost:44304 is allowed: false
2018-08-16 14:12:43.084 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44304
2018-08-16 14:12:43.087 -04:00 [WRN] CorsPolicyService did not allow origin: https://localhost:44304
2018-08-16 14:12:43.087 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 14:12:43.088 -04:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-16 14:12:43.088 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 14:12:43.088 -04:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-16 14:12:43.088 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 14:12:43.093 -04:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-16 14:12:43.094 -04:00 [DBG] Start discovery request
2018-08-16 14:12:43.094 -04:00 [DBG] Start discovery request
2018-08-16 14:12:43.251 -04:00 [DBG] Found ["openid","profile","scope_used_for_hybrid_flow","scope_used_for_ceo_dashboard","native_api"] as all scopes in database
2018-08-16 14:12:43.251 -04:00 [DBG] Found openid, profile, scope_used_for_hybrid_flow, scope_used_for_ceo_dashboard, native_api as all scopes in database
